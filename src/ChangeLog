commit 64c1c8db6988a230d66f3b70e1d93dc6838c556b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Fri Jun 7 15:20:17 2013 -0700

    Release version 0.9.2

 configure.ac | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit f2e229d963bd6f10a8e9210688cc144e449e756c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Fri Jun 7 16:14:56 2013 -0700

    Temporarily work around valadoc crasher with eds docs

 docs/Makefile.am | 137
 ++++++++++++++++++++++++++++---------------------------
 1 file changed, 69 insertions(+), 68 deletions(-)

commit 0b3481831b43b9bc8dd9133bfe6d78f1a0103fe0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Fri Jun 7 15:31:22 2013 -0700

    Temporarily work around valadoc crasher with Telepathy docs

 docs/Makefile.am | 135
 ++++++++++++++++++++++++++++---------------------------
 1 file changed, 68 insertions(+), 67 deletions(-)

commit db34229d48f33f9d936a892d4fe91989043e1bc6
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Fri Jun 7 15:19:08 2013 -0700

    Cut excess line

 NEWS | 1 -
 1 file changed, 1 deletion(-)

commit f447a3f9c0c64a4256b274645e4ac604cca20f44
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Fri Jun 7 15:15:35 2013 -0700

    Set release version of new API and update NEWS

 NEWS                               |  2 ++
 backends/eds/lib/edsf-persona.vala |  4 ++--
 folks/location-details.vala        | 14 +++++++-------
 folks/persona-store.vala           |  2 +-
 4 files changed, 12 insertions(+), 10 deletions(-)

commit 4bd87783b97955a2dce0f0ba3d4cbf96d3c2ab20
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Fri Jun 7 15:01:35 2013 -0700

    Make Telepathy docs build defs stand-alone

 docs/Makefile.am | 49 ++++++++++++++++++++++++++++++-------------------
 1 file changed, 30 insertions(+), 19 deletions(-)

commit f2ac22ee276ef9b7ae3e8baed920cc5d991b78ef
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Fri Jun 7 09:11:04 2013 -0700

    Pass the --driver version to valadoc to minimize complications.

    This ensures that we're building the library with the same version
    of Vala
    that valadoc uses

 docs/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 1db949c7d168209f2f09ba017a72ecb12f4fe278
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Thu Jun 6 17:08:19 2013 -0700

    Use correct @return instead of @returns (which breaks valadoc)

 backends/ofono/ofono-backend.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 93b4b88da85ca305a38b62fccc88046a8f807169
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Thu Jun 6 16:01:48 2013 -0700

    Bump libebook requirement to un-break GIR bindings.

    E.BookClient.connect() had been annotated to return void so this
    should fix
    the issue.

 NEWS         | 3 +++
 configure.ac | 2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit f1e24400a254e9d3f14a9660379f01ed9dc793bc
Author: Lionel Landwerlin <llandwerlin@gmail.com>
Date:   Mon May 13 21:22:02 2013 +0100

    backends: eds: make the personna store backend more 'async'

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=700253

 NEWS                                     | 2 +-
 backends/eds/lib/edsf-persona-store.vala | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit a24ec72eecd68cda328cd93f8896e3c1d9952452
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Thu Apr 25 17:45:42 2013 -0700

    Correctly check for existence of Zeitgeist.

 configure.ac | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 204c5394a7120b4ad6f4e90efb4d1b03daa08cf4
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Wed Apr 24 11:22:15 2013 -0700

    Correct the terminology in Zeitgeist check failure

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d9ae3100a70f89ace7c6a853dfbc1ebd22d5802f
Author: Maciej Piechotka <uzytkownik2@gmail.com>
Date:   Sat Apr 20 13:32:19 2013 +0200

    Remove autodependency on zeitgeist

 configure.ac | 31 ++++++++++++++++++++++++++++---
 1 file changed, 28 insertions(+), 3 deletions(-)

commit 4ed7142e476edc26a51c37dc0294025b7a8705cb
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Mon Apr 22 16:21:37 2013 -0700

    build fix: include folks-generics in docs arguments

 docs/Makefile.am | 4 ++++
 1 file changed, 4 insertions(+)

commit 43155c19ebbd06be0538926ca8eb4a33214395a7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 11 11:53:41 2013 +0100

    Add warnings (normally fatal) on use of archaic C features

    We don't want these even in C code generated by Vala, and certainly
    not
    in hand-written C code.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=697354
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 configure.ac | 30 ++++++++++++++++++++++++++----
 1 file changed, 26 insertions(+), 4 deletions(-)

commit fa1a9b56a8f420b2672f668a558c42d17429f760
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 11 12:05:08 2013 +0100

    Ensure that the C bits of TestCase are pre-declared in a header

    This lets us verify that their Vala and C ABIs are the same: if they
    are not, compilation will fail.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=697354
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/lib/Makefile.am             | 1 +
 tests/lib/haze-remove-directory.c | 2 +-
 tests/lib/test-case-helper.c      | 2 +-
 tests/lib/test-case.vala          | 2 +-
 4 files changed, 4 insertions(+), 3 deletions(-)

commit 7a9c8133468c1f8eb7fbb0e68a6a7e061b9452fb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 12 12:20:43 2013 +0100

    Declare internal function
    folks_persona_store_set_is_user_set_default()

    As explained in the comment, I can't find any better way to do this.
    Implicit declarations are Bad, so we should be making them into errors
    by default.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=697354
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>
    [added a comment as requested -smcv]
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 backends/eds/lib/Makefile.am   |  1 +
 folks/Makefile.am              |  1 +
 folks/persona-store.vala       |  4 ++++
 folks/redeclare-internal-api.h | 46
 ++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 52 insertions(+)

commit 43da0b634ede2fcbc17ce470f86158c2efe00ed3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 8 11:50:38 2013 +0100

    Include ERROR_CFLAGS everywhere we compile C code

    AM_CFLAGS was missing from a couple of foo_CFLAGS variables (it isn't
    "inherited" automatically), so add that too.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=697354
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 backends/eds/Makefile.am                    | 1 +
 backends/eds/lib/Makefile.am                | 1 +
 backends/key-file/Makefile.am               | 1 +
 backends/libsocialweb/Makefile.am           | 1 +
 backends/libsocialweb/lib/Makefile.am       | 2 ++
 backends/ofono/Makefile.am                  | 1 +
 backends/telepathy/Makefile.am              | 1 +
 backends/telepathy/lib/Makefile.am          | 1 +
 backends/tracker/Makefile.am                | 1 +
 backends/tracker/lib/Makefile.am            | 1 +
 folks/Makefile.am                           | 1 +
 tests/eds/Makefile.am                       | 4 ++++
 tests/folks/Makefile.am                     | 4 ++++
 tests/key-file/Makefile.am                  | 4 ++++
 tests/lib/Makefile.am                       | 1 +
 tests/lib/eds/Makefile.am                   | 2 ++
 tests/lib/key-file/Makefile.am              | 2 ++
 tests/lib/libsocialweb/Makefile.am          | 2 ++
 tests/lib/telepathy/Makefile.am             | 2 ++
 tests/lib/telepathy/contactlist/Makefile.am | 2 ++
 tests/lib/tracker/Makefile.am               | 2 ++
 tests/libsocialweb/Makefile.am              | 4 ++++
 tests/telepathy/Makefile.am                 | 4 ++++
 tests/tracker/Makefile.am                   | 4 ++++
 tools/Makefile.am                           | 1 +
 tools/inspect/Makefile.am                   | 1 +
 26 files changed, 51 insertions(+)

commit f5271892dac5137a824781f75ea03ee8a8df53dc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 8 11:43:25 2013 +0100

    Re-brand ERROR_CFLAGS to C_ERROR_CFLAGS

    These are flags that we only use when compiling hand-written C code,
    mostly originating from telepathy-glib. We can't be that strict with
    the C code generated by Vala, because it's full of questionable things
    (which the Vala compiler verifies are OK, but the C compiler still
    warns
    about).

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=697354
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 backends/telepathy/lib/Makefile.am          |  2 +-
 configure.ac                                | 22 ++++++++++++++--------
 tests/lib/telepathy/contactlist/Makefile.am |  2 +-
 3 files changed, 16 insertions(+), 10 deletions(-)

commit c6c0635599b8540cb7f9395e95dd533bf866bf90
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 11 11:03:26 2013 +0100

    TpfPersonaStore: make _supported_fields, _supported_fields_ro private

    Making them "internal" means we end up #include'ing small-set.h, which
    we don't install, so nothing can be built against the installed
    libfolks-telepathy. Nothing outside this file uses those members
    directly anyway.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=697542
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 backends/telepathy/lib/tpf-persona-store.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2d6fc26d8d7e3c8fd5b6d5485fadfe777ab7b601
Author: Wylmer Wang <wantinghard@gmail.com>
Date:   Sat Apr 6 16:37:15 2013 +0800

    update Simplified Chinese (zh_CN) translation

 po/zh_CN.po | 587
 +++++++++++++++++++++++++++---------------------------------
 1 file changed, 267 insertions(+), 320 deletions(-)

commit f18d26283c594efdcfee6cbc8b09855f0d65b4ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 4 18:30:18 2013 +0100

    Declare folks_small_set_copy properly

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=687161
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 folks/small-set.h | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 13220546e01844d7b879dd11eb82a0254ab0108d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 5 14:06:09 2013 +0100

    tests: clear out various D-Bus-related variables

    The actual terminal in gnome-terminal 3.8 is an activatable service,
    so it has DBUS_STARTER_ADDRESS in its environment. telepathy-glib
    prefers
    DBUS_STARTER_ADDRESS over DBUS_SESSION_BUS_ADDRESS, but GTestDBus
    doesn't clear or set the former, only the latter; so we end up
    trying to
    use the real bus when run under a recent gnome-terminal.

    See also <https://bugs.freedesktop.org/show_bug.cgi?id=63119>.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=697261
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>
    [added FIXME comment about #697348]
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 tests/lib/test-case.vala    | 11 +++++++++++
 tests/tools/dbus-session.sh |  5 +++++
 2 files changed, 16 insertions(+)

commit bfab3ee28c15a4e3ed6d7a87a113b472afebd495
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 4 15:39:42 2013 +0100

    all tests: disable non-local GIO VFS backends, such as gvfs

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=697261
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/lib/test-case.vala | 4 ++++
 1 file changed, 4 insertions(+)

commit 53337413fc236b5d3527378face31ca8d9af39cb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 4 15:35:12 2013 +0100

    tracker tests: do not request starting all Tracker services

    We don't care about tracker-miner-fs etc. for these tests; all we want
    to do is stop any running Tracker stuff. D-Bus service activation will
    ensure that we get the necessary services when they're needed, without
    starting the unnecessary ones.

    (This fixes the Tracker tests on a system without tracker-miner-fs.)

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=697261
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/tools/tracker.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eebdc677e00a0114ebcf90cf8546998367f6fa96
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 3 18:12:23 2013 +0100

    Use SmallSet.copy() where it makes sense

    It isn't more than fractionally faster in tests/eds/perf, but
    might help.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=687161
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 backends/eds/lib/edsf-persona.vala | 21 ++++++---------------
 folks/anti-linkable.vala           |  6 ++----
 folks/individual-aggregator.vala   | 15 ++++-----------
 3 files changed, 12 insertions(+), 30 deletions(-)

commit 06f06a10a754b28b8ede2ec840cbadbc8afb7733
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 28 14:46:55 2013 +0000

    Add fast-path iteration for SmallSet

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=687161
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 configure.ac               |  2 ++
 folks/folks-generics.vapi  |  5 +++++
 folks/small-set-internal.h | 13 +++++++++++++
 tests/folks/small-set.vala | 37 +++++++++++++++++++++++++++++++++++++
 4 files changed, 57 insertions(+)

commit ab22ced5b97ef63ad206bdd6e3a9270969fb6157
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 4 13:00:53 2013 +0100

    folks, backends: use "small sets" instead of hash sets most of
    the time

    Notable exceptions are:

    * sets of personas that are, or might be, the entire set from
    a backend
      (possible future refinement: use a SmallSet if there aren't many)

    * sets of potentially many Individuals (likewise)

    * the object cache (potentially pretty large)

    * debug stuff (not relevant for performance)

    * the set of IM addresses being matched (we want to keep this O(1),
      but it should be a GHashTable)

    This speeds up tests/eds/perf by around 5%.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=687161
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>
    [squashed in responses to review -smcv]
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 backends/eds/lib/Makefile.am                       |  1 +
 backends/eds/lib/edsf-persona-store.vala           |  6 +-
 backends/eds/lib/edsf-persona.vala                 | 76
 +++++++++++-----------
 backends/key-file/Makefile.am                      |  1 +
 backends/key-file/kf-persona-store.vala            |  4 +-
 backends/key-file/kf-persona.vala                  |  6 +-
 backends/libsocialweb/lib/Makefile.am              |  1 +
 backends/libsocialweb/lib/swf-persona.vala         |  4 +-
 backends/ofono/Makefile.am                         |  1 +
 backends/ofono/ofono-persona.vala                  |  8 +--
 backends/telepathy/lib/Makefile.am                 |  1 +
 .../telepathy/lib/tpf-persona-store-cache.vala     |  8 +--
 backends/telepathy/lib/tpf-persona-store.vala      | 22 +++----
 backends/telepathy/lib/tpf-persona.vala            | 26 ++++----
 backends/tracker/lib/Makefile.am                   |  1 +
 backends/tracker/lib/trf-persona-store.vala        | 35 +++++-----
 backends/tracker/lib/trf-persona.vala              | 34 +++++-----
 folks/Makefile.am                                  |  1 +
 folks/anti-linkable.vala                           |  4 +-
 folks/backend-store.vala                           |  8 +--
 folks/individual-aggregator.vala                   | 32 ++++-----
 folks/individual.vala                              | 63
 +++++++++---------
 folks/potential-match.vala                         |  3 +-
 23 files changed, 178 insertions(+), 168 deletions(-)

commit 87422afd3b6341703f3f4d8718ac5cec8374969a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 4 12:58:50 2013 +0100

    Folks.SmallSet: add and test

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=687161
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>
    [squashed in responses to review -smcv]
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 folks/Makefile.am          |   6 +
 folks/folks-generics.vapi  |  45 +++
 folks/small-set-internal.h |  85 ++++
 folks/small-set.c          | 954
 +++++++++++++++++++++++++++++++++++++++++++++
 folks/small-set.h          |  73 ++++
 tests/folks/Makefile.am    |   7 +
 tests/folks/small-set.vala | 421 ++++++++++++++++++++
 7 files changed, 1591 insertions(+)

commit 07747b757cb4a372f30d540143046765ceb2192c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 3 18:49:23 2013 +0100

    contactlist: copy .deps to the same place as .vapi if necessary

    valac specifically expects to find them in the same place: it's not
    enough to have them both in the search path.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=697188
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/lib/telepathy/contactlist/Makefile.am | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit fde2cc3e66b782638d702cec6059eede882820c9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 3 16:52:38 2013 +0100

    Compile tp-lowlevel.vapi before libfolks_telepathy_la_vala.stamp

    The make rules generated by Automake are all done in terms of a
    "stamp"
    file in the $(srcdir), so if we want to give it more dependencies,
    we need to do the same. This fixes a clean out-of-tree build.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=697188
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 backends/telepathy/lib/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fcfd16cbc3148f15e53956a8fece6e67a2023652
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 2 19:00:02 2013 +0100

    Do not explicitly link libfolks-internal.la into things

    libfolks.la embeds a copy of libfolks-internal.la, so every public
    (or internal) symbol in libfolks-internal.la is available in
    libfolks.la, even if linked with -Wl,--no-copy-dt-needed-entries.

    If libfolks-internal.la defines a GObject type, then linking two
    copies
    of it is actively harmful, because they can't both be registered
    with the
    type system.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=687161
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 backends/eds/Makefile.am           | 1 -
 backends/eds/lib/Makefile.am       | 1 -
 backends/key-file/Makefile.am      | 1 -
 backends/libsocialweb/Makefile.am  | 1 -
 backends/ofono/Makefile.am         | 1 -
 backends/telepathy/Makefile.am     | 1 -
 backends/telepathy/lib/Makefile.am | 1 -
 backends/tracker/Makefile.am       | 1 -
 backends/tracker/lib/Makefile.am   | 1 -
 9 files changed, 9 deletions(-)

commit e5b075082d75d83829b23e99f60c75482ddd7784
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 2 18:30:13 2013 +0100

    backends: when adding a persona by details, do not assume HashSet

    All we need is a Set, so we shouldn't need to cast this strictly.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=687161
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 backends/eds/lib/edsf-persona-store.vala    | 2 +-
 backends/tracker/lib/trf-persona-store.vala | 6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 5226ce9395749259cdc3bab8a94c0244ae3315ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 2 17:53:36 2013 +0100

    By default, do debug output iff at least one debug domain is enabled

    Previously, debug output (and expensive checks that are enabled
    alongside
    debug output) was always enabled unless explicitly disabled, but
    Philip noted that this was not intentional.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=687161
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 folks/debug.vala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c438d6d00ad5e513d09315a8cbe285cd1436794d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 28 12:17:38 2013 +0000

    IndividualAggregator: assert and assume that _link_map[key][i] != null

    The link map's type is non-nullable, and when we add individuals
    to the link map we do so through a function that does not allow
    a null argument, so we don't need to sprinkle (!) casts around.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=687161
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 folks/individual-aggregator.vala | 31 ++++++++++++++-----------------
 1 file changed, 14 insertions(+), 17 deletions(-)

commit 2ec38a5d15bf0dc33908ae7302c6f65b9b52b6f4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 27 16:20:55 2013 +0000

    IndividualAggregator: use a GHashTable<string,GPtrArray> for the
    link map

    The link map is a hot path, particularly when matching multiple copies
    of the same contact. Speed this up.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=687161
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 folks/individual-aggregator.vala | 172
 +++++++++++++++++++++++++--------------
 1 file changed, 111 insertions(+), 61 deletions(-)

commit 00aa53c96e22715885aa9be2685dd10f39e36456
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:   Tue Apr 2 10:40:38 2013 +0200

    Added Basque language\nAdded 'eu' (Basque) to LINGUAS

 po/LINGUAS |   1 +
 po/eu.po   | 718
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 719 insertions(+)

commit 62fe0c462b4662bc72e8485fb1d6ea09617a2410
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 26 19:13:46 2013 +0000

    Edsf.PersonaStore: defer contacts-complete like contacts-added

    Otherwise, we signal quiescence while not actually quiescent: our
    initial batch of contacts could still be coming in.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=696659
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 backends/eds/lib/edsf-persona-store.vala | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 1e2fb274c1fa220dfca43f97dd6f5c1ca58e6e08
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 25 17:28:44 2013 +0000

    Remove a remnant of the avatar coming from the environment

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=690830
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/tracker/Makefile.am | 1 -
 1 file changed, 1 deletion(-)

commit 13113b2fd41d1bdc432142aac600bceee03d61d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 26 18:15:00 2013 +0000

    Set up tests' backend paths in Vala code

    One less thing in TESTS_ENVIRONMENT.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=690830
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 configure.ac                   | 48
 ------------------------------------------
 folks/build-conf.vapi          |  6 ++++++
 tests/eds/Makefile.am          |  1 -
 tests/folks/Makefile.am        |  1 -
 tests/key-file/Makefile.am     |  4 ----
 tests/lib/Makefile.am          |  1 +
 tests/lib/test-case.vala       | 25 ++++++++++++++++++++++
 tests/libsocialweb/Makefile.am |  1 -
 tests/telepathy/Makefile.am    |  1 -
 tests/tracker/Makefile.am      |  1 -
 10 files changed, 32 insertions(+), 57 deletions(-)

commit d232e1084f26c508f241958b6488b016b3c5e125
Author: Patrick Ohly <patrick.ohly@intel.com>
Date:   Tue Mar 26 16:53:02 2013 +0100

    NEWS: updated to include eds non-blocking change processing

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit a480638774368497bce03b1db4297f9436725460
Author: Patrick Ohly <patrick.ohly@intel.com>
Date:   Thu Feb 21 19:31:38 2013 +0100

    eds: avoid blocking event processing

    When there are many incoming D-Bus change notifications, processing of
    other D-Bus messages can be delayed considerably. This commit is a
    first step towards solving this by caching the change notifications
    and processing them with lower priority in a glib idle callback.

    Ordering of the changes relative to each other is preserved, so
    semantically this is the same as immediate processing.

    The worst-case scenario is when contacts get added one-by-one to EDS
    address books while folks is running, because then each change
    triggers one D-Bus signal. With 2000 contacts and four address books
    on a fast laptop, the process hosting folks became unresponsive for
    137s. The patch reduced that to 0.1s. The downside is an increase of
    total test runtime of 4%.

    In the scenario where data is already in EDS when folks starts, the
    patch reduced response time from 2.3s to 0.2s.

    See https://bugs.freedesktop.org/show_bug.cgi?id=60851#c6 for details.

 backends/eds/lib/edsf-persona-store.vala | 127
 +++++++++++++++++++++++++++++++
 1 file changed, 127 insertions(+)

commit 4a5d0e0694995e9bb7db69d6b70452f883c2ccf5
Author: Patrick Ohly <patrick.ohly@intel.com>
Date:   Mon Mar 25 15:39:33 2013 +0100

    EDS testing: allow EDS to add additional phone parameters

    When EDS is compiled with libphonenumber support, it automatically
    computes a normalized E.164 representation of each phone number and
    returns it as an additional X-EVOLUTION-E164 parameter.

    This broke the strict phone_fd.equals check in set-phones, because it
    compared against a PhoneFieldDetails without that parameter. Now the
    test only looks for a phone number with "1234" as value and checks for
    the expected type after returning from the event loop.

 tests/eds/set-phones.vala | 31 +++++++++++++++++++++++--------
 1 file changed, 23 insertions(+), 8 deletions(-)

commit f7035a7e21ef37329cf4fea9fb569d94185d5751
Author: Patrick Ohly <patrick.ohly@intel.com>
Date:   Mon Mar 25 14:37:26 2013 +0100

    testing: avoid false warning

    When FOLKS_BACKEND_PATH is set to the build dirs during testing, the
    "content type of '%s' appears to be '%s' which looks suspicious. Have
    you installed shared-mime-info?" warning gets triggered repeatedly,
    because these dirs contain all kinds of files (executables, compiler
    dependency files, etc.) which are not expected in the normal install
    location.

    This is annoying when running a test with "make <test>.gdb" because
    gdb stops on a glib trace point for each warning. Therefore disable
    the warning when FOLKS_BACKEND_PATH is set. Extending the whitelist
    has the drawback that it might not catch all files that can appear
    there in the future.

 folks/backend-store.vala | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 9064f78a3d57f1141eb67b247aa2627accf79e24
Author: Patrick Ohly <patrick.ohly@intel.com>
Date:   Mon Mar 25 14:30:48 2013 +0100

    testing: do not require telepathy

    Previously, all testing was disabled when the Telepathy backend was
    disabled. That is too strict. For example, the EDS backend tests can
    work without it.

    Only the core folks tests and of course the Telepathy tests depend on
    the Telepathy backend and thus must be disabled when that backend is
    disabled.

    Adding the TP backend path to the FOLKS_BACKEND_PATH env variable
    must be conditional, otherwise there are errors about not finding that
    .so file when running the other tests.

 configure.ac      | 7 ++++---
 tests/Makefile.am | 3 +--
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 7f1fd0dd0487020c33c8519f5780a9c4964c2f18
Author: Shankar Prasad <svenkate@redhat.com>
Date:   Mon Mar 25 23:14:36 2013 +0530

    Updated kn translations

 po/kn.po | 220
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 119 insertions(+), 101 deletions(-)

commit 2f0521a5f08651cd64fc051dd75174d6a2a4545f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 20 18:54:51 2013 +0000

    Fix comment for get_built_test_data()

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=696104
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/lib/test-utils.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 99001d4dbc9cc091e234e603ab9d249f8a29d52c
Author: Krishnababu Krothapalli <kkrothap@redhat.com>
Date:   Mon Mar 25 15:13:40 2013 +0530

    Updated Telugu Translations

 po/te.po | 224
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 122 insertions(+), 102 deletions(-)

commit 71d25785a954561d64312012b383151822c35618
Author: Ani Peter <apeter@redhat.com>
Date:   Mon Mar 25 10:58:42 2013 +0530

    Completed  for Malayalam

 po/ml.po | 184
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 95 insertions(+), 89 deletions(-)

commit c12f9d80f1dc837bcd9656d33f2eba7a9e352b0d
Author: Arash Mousavi <mousavi.arash@gmail.com>
Date:   Sat Mar 23 19:52:34 2013 +0430

    L10N: Updated Persian Translation

 po/fa.po | 253
 +++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 148 insertions(+), 105 deletions(-)

commit bf8367a5e2fe60a88e0f2ea235af7bd31fb1dd91
Author: Yuri Myasoedov <omerta13@yandex.ru>
Date:   Sat Mar 23 17:22:57 2013 +0400

    Updated Russian translation

 po/ru.po | 224
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 119 insertions(+), 105 deletions(-)

commit fadca9937982a4757530766fc3c1a39240abb1a5
Author: ManojKumar Giri <mgiri@redhat.com>
Date:   Fri Mar 22 19:12:47 2013 +0530

    Updated Odia Language along with FUEL implementation

 po/or.po | 184
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 95 insertions(+), 89 deletions(-)

commit c742541d4b0144c9f2760fd5c3203676108c5948
Author: Sandeep Sheshrao Shedmake <sshedmak@redhat.com>
Date:   Fri Mar 22 16:04:09 2013 +0530

    Updated Marathi Translations

 po/mr.po | 206
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 110 insertions(+), 96 deletions(-)

commit 3693c8591fdd117c2eabac8026284565685697a0
Author: Shantha kumar <shkumar@redhat.com>
Date:   Fri Mar 22 14:46:26 2013 +0530

    Tamil Translations Updated

 po/ta.po | 202
 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 104 insertions(+), 98 deletions(-)

commit fa1474579de9052832ea11cc74fc75a6784d826c
Author: Rajesh Ranjan <rranjan@redhat.com>
Date:   Thu Mar 21 13:22:03 2013 +0530

    hindi translation

 po/hi.po | 186
 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 96 insertions(+), 90 deletions(-)

commit 29b4a35dc58deeec811e9958c74796c7cc6f6454
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 20 18:37:54 2013 +0000

    Add missing setlocale calls to helper binaries

 tests/eds/helper-create-many-contacts.vala | 2 ++
 tests/eds/helper-delete-contacts.vala      | 2 ++
 tests/eds/helper-prepare-aggregator.vala   | 2 ++
 3 files changed, 6 insertions(+)

commit c8c1642adb85c7bbe2baf3c0a15f4994bcdb270d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 18 20:28:20 2013 +0000

    Add a performance test for contacts in e-d-s

 tests/eds/Makefile.am |   5 +
 tests/eds/perf.vala   | 406
 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 411 insertions(+)

commit 1f3f85537d501a1ff720b4ef726ac99e7b5d8571
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 20 16:42:35 2013 +0000

    eds test: add some helper programs for performance testing

 tests/eds/Makefile.am                      |  22 +++-
 tests/eds/helper-create-many-contacts.vala | 168
 ++++++++++++++++++++++++++
 tests/eds/helper-delete-contacts.vala      |  92 +++++++++++++++
 tests/eds/helper-prepare-aggregator.vala   | 184
 +++++++++++++++++++++++++++++
 tests/lib/test-utils.vala                  |  41 +++++++
 5 files changed, 505 insertions(+), 2 deletions(-)

commit 6b42717eb7982478b1f94875ad585305eaa07cc0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 20 16:03:14 2013 +0000

    Simplify tests that can time out

    There are basically two patterns:

    * something should stop the main loop within n seconds; if not, that's
      failure (this is now loop_run_with_timeout)
    * run the main loop for n seconds, then check whether things we wanted
      to happen happened (this is now loop_run_with_non_fatal_timeout)

    The latter is basically a bug in itself; I'm not going to fix that
    right now, but I did mark it as deprecated.

    In both cases, we want to adjust the timeout for running under
    Valgrind
    or Callgrind, which makes everything slow.

 tests/eds/add-persona.vala                         |  8 +-
 tests/eds/anti-linking.vala                        | 18 +---
 tests/eds/avatar-details.vala                      |  8 +-
 tests/eds/create-remove-stores.vala                | 11 +--
 tests/eds/email-details.vala                       |  8 +-
 tests/eds/enable-disable-stores.vala               | 11 +--
 tests/eds/im-details.vala                          |  8 +-
 tests/eds/individual-retrieval.vala                |  8 +-
 tests/eds/link-personas-diff-stores.vala           |  9 +-
 tests/eds/link-personas.vala                       | 15 +---
 tests/eds/linkable-properties.vala                 | 10 +--
 tests/eds/name-details.vala                        |  8 +-
 tests/eds/persona-store-tests.vala                 |  8 +-
 tests/eds/phone-details.vala                       |  8 +-
 tests/eds/postal-address-details.vala              |  8 +-
 tests/eds/remove-persona.vala                      |  8 +-
 tests/eds/removing-contacts.vala                   |  7 +-
 tests/eds/set-avatar.vala                          | 17 +---
 tests/eds/set-birthday.vala                        |  7 +-
 tests/eds/set-emails.vala                          |  7 +-
 tests/eds/set-gender.vala                          |  8 +-
 tests/eds/set-im-addresses.vala                    |  7 +-
 tests/eds/set-is-favourite.vala                    |  8 +-
 tests/eds/set-names.vala                           |  7 +-
 tests/eds/set-notes.vala                           |  7 +-
 tests/eds/set-phones.vala                          |  7 +-
 tests/eds/set-postal-addresses.vala                |  7 +-
 tests/eds/set-properties-race.vala                 |  7 +-
 tests/eds/set-roles.vala                           |  7 +-
 tests/eds/set-structured-name.vala                 |  7 +-
 tests/eds/set-urls.vala                            |  7 +-
 tests/eds/store-removed.vala                       | 20 +----
 tests/eds/updating-contacts.vala                   |  7 +-
 tests/folks/aggregation.vala                       | 96
 +++-------------------
 tests/folks/init.vala                              | 11 +--
 tests/key-file/individual-retrieval.vala           | 21 +----
 tests/lib/libsocialweb/test-case.vala              |  7 +-
 tests/lib/test-utils.vala                          | 77 +++++++++++++++++
 tests/libsocialweb/aggregation.vala                | 14 +---
 tests/libsocialweb/dummy-lsw.vala                  | 28 +------
 tests/telepathy/individual-properties.vala         | 36 +-------
 tests/telepathy/individual-retrieval.vala          | 18 +---
 tests/telepathy/init.vala                          | 10 +--
 tests/telepathy/persona-store-capabilities.vala    | 12 +--
 tests/tracker/add-contact.vala                     |  8 +-
 tests/tracker/add-persona.vala                     |  8 +-
 tests/tracker/additional-names-updates.vala        |  8 +-
 tests/tracker/avatar-details-interface.vala        |  8 +-
 tests/tracker/avatar-updates.vala                  |  8 +-
 tests/tracker/birthday-details-interface.vala      |  8 +-
 tests/tracker/birthday-updates.vala                |  8 +-
 tests/tracker/default-contact.vala                 |  8 +-
 tests/tracker/duplicated-emails.vala               |  8 +-
 tests/tracker/duplicated-phones.vala               |  8 +-
 tests/tracker/email-details-interface.vala         |  8 +-
 tests/tracker/emails-updates.vala                  |  8 +-
 tests/tracker/family-name-updates.vala             |  8 +-
 tests/tracker/favourite-details-interface.vala     |  8 +-
 tests/tracker/favourite-updates.vala               |  8 +-
 tests/tracker/fullname-updates.vala                |  8 +-
 tests/tracker/gender-details-interface.vala        |  8 +-
 tests/tracker/given-name-updates.vala              |  8 +-
 tests/tracker/im-details-interface.vala            |  8 +-
 tests/tracker/imaddresses-updates.vala             |  8 +-
 tests/tracker/individual-retrieval.vala            |  8 +-
 tests/tracker/link-personas-via-local-ids.vala     |  8 +-
 tests/tracker/link-personas.vala                   |  8 +-
 tests/tracker/match-all.vala                       |  8 +-
 tests/tracker/match-email-addresses.vala           |  8 +-
 tests/tracker/match-im-addresses.vala              |  8 +-
 tests/tracker/match-known-emails.vala              |  8 +-
 tests/tracker/match-name.vala                      |  8 +-
 tests/tracker/match-phone-number.vala              |  8 +-
 tests/tracker/name-details-interface.vala          |  8 +-
 tests/tracker/nickname-updates.vala                |  8 +-
 tests/tracker/note-details-interface.vala          |  8 +-
 tests/tracker/phone-details-interface.vala         |  8 +-
 tests/tracker/phones-updates.vala                  |  8 +-
 .../tracker/postal-address-details-interface.vala  |  8 +-
 tests/tracker/prefix-name-updates.vala             |  8 +-
 tests/tracker/remove-contact.vala                  |  8 +-
 tests/tracker/remove-persona.vala                  |  8 +-
 tests/tracker/role-details-interface.vala          |  8 +-
 tests/tracker/set-avatar.vala                      |  8 +-
 tests/tracker/set-birthday.vala                    |  8 +-
 tests/tracker/set-duplicate-email.vala             |  8 +-
 tests/tracker/set-emails.vala                      |  8 +-
 tests/tracker/set-favourite.vala                   |  8 +-
 tests/tracker/set-full-name.vala                   |  8 +-
 tests/tracker/set-gender.vala                      |  8 +-
 tests/tracker/set-im-addresses.vala                |  8 +-
 tests/tracker/set-nickname.vala                    |  8 +-
 tests/tracker/set-notes.vala                       |  8 +-
 tests/tracker/set-null-avatar.vala                 |  8 +-
 tests/tracker/set-phones.vala                      |  8 +-
 tests/tracker/set-postal-addresses.vala            |  8 +-
 tests/tracker/set-roles.vala                       |  8 +-
 tests/tracker/set-structured-name.vala             |  8 +-
 tests/tracker/set-urls.vala                        |  8 +-
 tests/tracker/suffix-name-updates.vala             |  8 +-
 tests/tracker/url-details-interface.vala           |  8 +-
 tests/tracker/website-updates.vala                 |  8 +-
 102 files changed, 205 insertions(+), 887 deletions(-)

commit 733d0733579fe9872575e13d1f930c075572ee89
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Wed Mar 20 12:43:23 2013 -0700

    build: ensure libtp-test-contactlist is built before its dependents

    Autotools somehow wasn't picking up the dependencies correctly,
    so this
    forces it to build the support library first.

    As the comment says, there's probably a better fix but time is
    precious.

 tests/lib/Makefile.am | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 20066118bb3948a185a369e0b9ff26fd16ee2685
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 20 16:59:03 2013 +0000

    NEWS for locale bits

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit 93d0f7d220588afc3b7521d2428426a8863267dd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 20 11:34:37 2013 +0000

    TestCase: set locale from the environment

    This fixes an annoyance I'd had for a while: UTF-8 arrows etc.
    in debug messages came out as "?", because until we call setlocale()
    we're in the C locale, whose character set is ASCII (and some layer
    of library responds by transcoding our strings into ASCII).

    With this change, running the tests in en_GB.UTF-8 results in
    Unicode arrows and more comprehensible output.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=696179
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/lib/test-case.vala | 2 ++
 1 file changed, 2 insertions(+)

commit 0f8247ac2fe9f87207a0c4de2023b5ca74478de6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 20 11:27:21 2013 +0000

    folks-inspect, folks-import: initialize localization from the
    environment

    Otherwise, $LANG etc. are ignored and we stay in the C locale.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=696179
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tools/import.vala          | 1 +
 tools/inspect/inspect.vala | 1 +
 2 files changed, 2 insertions(+)

commit c6eace13a213f512b7f4a2ff6704fb22cd654ba7
Author: Seong-ho Cho <darkcircle.0426@gmail.com>
Date:   Thu Mar 21 00:02:03 2013 +0900

    Updated Korean translation

 po/ko.po | 209
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 109 insertions(+), 100 deletions(-)

commit 3ea5bb8367c9dc138090213ab3edcbedf97b87a8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 20 13:41:23 2013 +0000

    Add support for running tests under callgrind as well as memcheck

    Bug https://bugzilla.gnome.org/show_bug.cgi?id=696104
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>
    [... and document it in HACKING in response to review -smcv]
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 HACKING               | 3 +++
 tests/eds/Makefile.am | 1 +
 valgrind.mk           | 7 +++++++
 3 files changed, 11 insertions(+)

commit c0935ea5bcb4b1b3db15f2f36a24d990a16dc2f4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Mar 15 18:22:38 2013 +0000

    EdsTest.Backend: add contacts as a batch, not one at a time

    This should make it much quicker to add contacts in bulk.

    Bug https://bugzilla.gnome.org/show_bug.cgi?id=696104
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/lib/eds/backend.vala | 31 +++++++++++++++++++------------
 1 file changed, 19 insertions(+), 12 deletions(-)

commit 30e36ca1d83256d5870a12bf59273f9681f42931
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Mar 15 18:15:59 2013 +0000

    EdsTest.Backend: use an array for contacts

    This means we don't have to worry about whether prepending is faster
    than appending, or about Vala getting confused about ownership in
    linked lists.

    Bug https://bugzilla.gnome.org/show_bug.cgi?id=696104
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/lib/eds/backend.vala | 13 ++++++-------
 1 file changed, 6 insertions(+), 7 deletions(-)

commit ae98b4fae6199b19cabc30a068ada9a8920cbdc5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 19 14:22:04 2013 +0000

    EdsTest.Backend: clear up more thoroughly after tests

    Bug https://bugzilla.gnome.org/show_bug.cgi?id=690830
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>
    [redundant line removed in response to review -smcv]
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 tests/lib/eds/backend.vala | 12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 850aff1ab637b7b9fcf2818e6e822f115ff78c8c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 19 17:06:03 2013 +0000

    Add infrastructure for finding test data files, and use it for avatars

    Again, I've speculatively added support for a FOLKS_TESTS_INSTALLED
    variable, because one day I'd like "make installcheck" to work.

    Bug https://bugzilla.gnome.org/show_bug.cgi?id=690830
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/eds/Makefile.am                       |  2 --
 tests/eds/add-persona.vala                  |  3 ++-
 tests/eds/avatar-details.vala               |  3 ++-
 tests/eds/set-avatar.vala                   |  6 +++--
 tests/folks/Makefile.am                     |  2 --
 tests/folks/avatar-cache.vala               |  2 +-
 tests/lib/Makefile.am                       |  1 +
 tests/lib/eds/test-case.vala                |  2 +-
 tests/lib/test-utils.vala                   | 38
 +++++++++++++++++++++++++++++
 tests/lib/tracker/test-case.vala            |  2 +-
 tests/tracker/Makefile.am                   |  1 -
 tests/tracker/add-persona.vala              |  3 ++-
 tests/tracker/avatar-details-interface.vala |  3 ++-
 tests/tracker/set-avatar.vala               |  3 ++-
 14 files changed, 56 insertions(+), 15 deletions(-)

commit 1f74d5db4b62ebf5b9c53d4ba84ab632cde35a39
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 19 16:55:44 2013 +0000

    Simplify how we get PACKAGE_DATADIR

    DATA_DIR and PACKAGE_DATADIR appear to have been intended to both be
    ${prefix}/share/folks, but due to a typo (sharedir vs. shareddir)
    DATA_DIR was actually defined to an empty string. Neither is actually
    used anywhere at the moment.

    Bug https://bugzilla.gnome.org/show_bug.cgi?id=690830
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 folks/Makefile.am     | 3 ---
 folks/build-conf.vapi | 6 +++---
 2 files changed, 3 insertions(+), 6 deletions(-)

commit 08a5276fac3796621831ccc451c3be173073d748
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 20 10:51:08 2013 +0000

    NEWS: describe the change to tools' locale search path

 NEWS | 6 ++++++
 1 file changed, 6 insertions(+)

commit cc0f932aa3ee373b604741b7b7fc23db1280f7c6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 19 16:53:36 2013 +0000

    tools: use the right locale directory

    I happened to notice that they're misusing $(pkgdatadir) -
    $(pkgdatadir)
    is $(datadir)/$(PACKAGE), i.e. typically /usr/share/folks, but
    localization is installed to $(localedir), typically
    /usr/share/locale.

    This resulted in the tools looking in
    /opt/gnome-3.8/share/folks/locale
    in my installation, instead of the correct
    /opt/gnome-3.8/share/locale.

 tools/Makefile.am         | 2 +-
 tools/inspect/Makefile.am | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 9bcb7f7852009c2dca2475d7fec10d5be5e40bc3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 18 19:34:17 2013 +0000

    Add infrastructure to run helper test binaries

    I've included basic infrastructure to run them from an installed
    path instead of the builddir, because there seems to be considerable
    interest in that at the moment.

    Bug https://bugzilla.gnome.org/show_bug.cgi?id=690830
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>
    [document capture_stdout in response to review -smcv]
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 folks/build-conf.vapi     |  9 +++++++++
 tests/lib/Makefile.am     |  4 ++++
 tests/lib/test-utils.vala | 39 +++++++++++++++++++++++++++++++++++++++
 3 files changed, 52 insertions(+)

commit 67c7ae109cad3003a7b87001084fd849b86a68d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 19 12:43:21 2013 +0000

    In tests that do not rely on with-session-bus*.sh, use a transient
    $HOME

    This is one more way in which we can avoid touching the user's
    real files.

    Bug https://bugzilla.gnome.org/show_bug.cgi?id=690830
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>
    [use "this." in response to review -smcv]
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 tests/lib/Makefile.am             |   1 +
 tests/lib/eds/test-case.vala      |   7 +++
 tests/lib/haze-remove-directory.c |  56 +++++++++++++++++++++
 tests/lib/test-case.vala          | 101
 ++++++++++++++++++++++++++++++++++++++
 tests/lib/test-utils.vala         |   5 ++
 tests/lib/tracker/test-case.vala  |   7 +++
 6 files changed, 177 insertions(+)

commit 165e6ff8254476246095c769be59d121d3b6edd1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 19 12:25:42 2013 +0000

    Run Telepathy test cases under GTestDBus instead of
    with-session-bus.sh

    Bug https://bugzilla.gnome.org/show_bug.cgi?id=690830
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 configure.ac                                    |  1 -
 tests/folks/Makefile.am                         |  8 +---
 tests/lib/telepathy/contactlist/Makefile.am     |  5 +--
 tests/lib/telepathy/contactlist/session.conf.in | 54
 -------------------------
 tests/lib/telepathy/test-case.vala              | 20 ++++-----
 tests/telepathy/Makefile.am                     |  9 ++---
 6 files changed, 14 insertions(+), 83 deletions(-)

commit 40abe98da11f65f58078a102ba1fa6c250cc253f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 19 12:23:34 2013 +0000

    Run libsocialweb tests under GTestDBus instead of with-session-bus.sh

    Bug https://bugzilla.gnome.org/show_bug.cgi?id=690830
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 configure.ac                           |  1 -
 tests/lib/libsocialweb/Makefile.am     |  5 ----
 tests/lib/libsocialweb/session.conf.in | 54
 ----------------------------------
 tests/lib/libsocialweb/test-case.vala  | 21 +++++--------
 tests/libsocialweb/Makefile.am         |  9 ++----
 5 files changed, 11 insertions(+), 79 deletions(-)

commit cf5db863bd92564d3995d829e23787bf3b1daf98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 19 12:03:57 2013 +0000

    LibsocialwebTest.Backend: clean up object registrations in tear_down()

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=690830
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>
    [more comments in response to review -smcv]
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 tests/lib/libsocialweb/backend.vala | 94
 ++++++++++++++++++++++++++++++-------
 1 file changed, 76 insertions(+), 18 deletions(-)

commit aa81aee77a19b0decb61df453f322fc78405e7d7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Mar 15 15:35:51 2013 +0000

    LibsocialwebTest: don't try to keep ownership of name through
    tear_down()

    This is a step towards replacing with-session-bus*.sh with GTestDBus,
    which cleans up our D-Bus connection while the test is still running.
    If we do that without this change, then the NameLost callback is
    triggered
    when we get disconnected from D-Bus, causing an assertion failure.

    This also should reduce circular references, by making sure closures
    that contain "this" get cleaned up.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=690830
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/lib/libsocialweb/backend.vala | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 49bc02747babed6d94119b2222c5072a9716d4af
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 20 10:36:26 2013 +0000

    Add infrastructure to run tests under GTestDBus

    For now, all library TestCase subclasses except the one for key-files
    override this back to "do nothing" and rely on being run under
    with-session-bus.sh, because I haven't checked whether they survive
    having the D-Bus session bus disconnected from under them.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=690830
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>
    [added comments about the undesirable dbus-1 dependency -smcv]
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 configure.ac                          |  3 +-
 tests/lib/Makefile.am                 |  3 ++
 tests/lib/eds/test-case.vala          |  6 ++++
 tests/lib/libsocialweb/test-case.vala |  6 ++++
 tests/lib/telepathy/test-case.vala    |  6 ++++
 tests/lib/test-case-helper.c          | 13 ++++++++
 tests/lib/test-case.vala              | 57
 +++++++++++++++++++++++++++++++++++
 tests/lib/tracker/test-case.vala      |  6 ++++
 8 files changed, 99 insertions(+), 1 deletion(-)

commit a11ff9059f13ed6a8158a2ffd18fd3bac62d65b3
Author: Gianvito Cavasoli <gianvito@gmx.it>
Date:   Tue Mar 19 22:58:10 2013 +0100

    [l10n] Updated Italian translation.

 po/it.po | 218
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 114 insertions(+), 104 deletions(-)

commit 704e4bb9c6378d61a6faf06699688fdf770193b6
Author: Victor Ibragimov <victor.ibragimov@gmail.com>
Date:   Tue Mar 19 22:33:55 2013 +0100

    [l10n] Added Tadjik translation

 po/LINGUAS |   1 +
 po/tg.po   | 682
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 683 insertions(+)

commit bcec3e334f01ea936a3d9c636d9597a96f0c0e01
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 18 19:01:59 2013 +0000

    all Makefiles: don't ignore or clean .c files not corresponding
    to Vala

    This will become more important if we use C to implement fast-paths
    and faster data structures.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=695381
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 backends/eds/Makefile.am           | 2 +-
 backends/key-file/Makefile.am      | 2 +-
 backends/libsocialweb/Makefile.am  | 2 +-
 backends/ofono/Makefile.am         | 2 +-
 backends/telepathy/Makefile.am     | 2 +-
 backends/tracker/Makefile.am       | 2 +-
 folks/Makefile.am                  | 4 ++--
 tests/lib/Makefile.am              | 2 +-
 tests/lib/eds/Makefile.am          | 2 +-
 tests/lib/key-file/Makefile.am     | 2 +-
 tests/lib/libsocialweb/Makefile.am | 2 +-
 tests/lib/telepathy/Makefile.am    | 2 +-
 tests/lib/tracker/Makefile.am      | 2 +-
 tools/Makefile.am                  | 2 +-
 tools/inspect/Makefile.am          | 2 +-
 15 files changed, 16 insertions(+), 16 deletions(-)

commit 8268c6efbe20a9274dc1b4ad2f61b18406dfb86c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 18 19:00:43 2013 +0000

    TestCase: avoid circular refs between GTest and this

    Instead of running tests via the Adaptor inner class, run them via
    a C helper that takes a weak ref to the TestCase. This relies on the
    caller keeping a ref to the TestCase until after Test.run() - but I
    recently converted the tests to do exactly that, so that's OK.

    Adding a debug message which prints this.ref_count to
    final_tear_down()
    reveals that some of our regression tests still leak the TestCase, but
    many don't now.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=695381
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/lib/Makefile.am        | 10 ++++-
 tests/lib/test-case-helper.c | 91
 ++++++++++++++++++++++++++++++++++++++++++++
 tests/lib/test-case.vala     | 50 ++++++------------------
 3 files changed, 112 insertions(+), 39 deletions(-)

commit afb97caf1afd2e78daf43b702da9a64172151216
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 18 12:52:40 2013 +0000

    All tests: switch to a calling convention that does not rely on
    leaking

    The standard main() used in each test relied on the fact that
    get_suite() kept a ref to the TestCase subclass instance, which would
    be stored in the global variables of the GTest infrastructure,
    resulting in the TestCase never being freed and its final_teardown()
    never being executed.

    That's undesirable if final_teardown() is going to do something
    significant, like terminating a temporary session bus. As a first
    step towards that, run the tests with the TestCase subclass instance
    globally referenced (so that the version passed to GTest can
    eventually
    be a weak reference), and explicitly run final_tear_down() so that
    even if there is a ref leak (as there is now), it gets executed.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=695381
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/eds/add-contacts-stress-test.vala             | 6 +++---
 tests/eds/add-persona.vala                          | 6 +++---
 tests/eds/anti-linking.vala                         | 6 +++---
 tests/eds/avatar-details.vala                       | 6 +++---
 tests/eds/create-remove-stores.vala                 | 6 +++---
 tests/eds/email-details.vala                        | 6 +++---
 tests/eds/enable-disable-stores.vala                | 6 +++---
 tests/eds/im-details.vala                           | 6 +++---
 tests/eds/individual-retrieval.vala                 | 6 +++---
 tests/eds/link-personas-diff-stores.vala            | 6 +++---
 tests/eds/link-personas.vala                        | 6 +++---
 tests/eds/linkable-properties.vala                  | 6 +++---
 tests/eds/name-details.vala                         | 6 +++---
 tests/eds/persona-store-tests.vala                  | 6 +++---
 tests/eds/phone-details.vala                        | 6 +++---
 tests/eds/postal-address-details.vala               | 6 +++---
 tests/eds/remove-persona.vala                       | 6 +++---
 tests/eds/removing-contacts.vala                    | 6 +++---
 tests/eds/set-avatar.vala                           | 6 +++---
 tests/eds/set-birthday.vala                         | 6 +++---
 tests/eds/set-emails.vala                           | 6 +++---
 tests/eds/set-gender.vala                           | 6 +++---
 tests/eds/set-im-addresses.vala                     | 6 +++---
 tests/eds/set-is-favourite.vala                     | 6 +++---
 tests/eds/set-names.vala                            | 6 +++---
 tests/eds/set-notes.vala                            | 6 +++---
 tests/eds/set-phones.vala                           | 6 +++---
 tests/eds/set-postal-addresses.vala                 | 6 +++---
 tests/eds/set-properties-race.vala                  | 6 +++---
 tests/eds/set-roles.vala                            | 6 +++---
 tests/eds/set-structured-name.vala                  | 6 +++---
 tests/eds/set-urls.vala                             | 6 +++---
 tests/eds/store-removed.vala                        | 6 +++---
 tests/eds/updating-contacts.vala                    | 6 +++---
 tests/folks/abstract-field-details.vala             | 6 +++---
 tests/folks/aggregation.vala                        | 6 +++---
 tests/folks/async-locking.vala                      | 6 +++---
 tests/folks/avatar-cache.vala                       | 6 +++---
 tests/folks/backend-loading.vala                    | 6 +++---
 tests/folks/init.vala                               | 6 +++---
 tests/folks/object-cache.vala                       | 6 +++---
 tests/folks/utils.vala                              | 6 +++---
 tests/key-file/individual-retrieval.vala            | 6 +++---
 tests/lib/test-case.vala                            | 7 ++++++-
 tests/libsocialweb/aggregation.vala                 | 6 +++---
 tests/libsocialweb/dummy-lsw.vala                   | 6 +++---
 tests/telepathy/individual-properties.vala          | 6 +++---
 tests/telepathy/individual-retrieval.vala           | 6 +++---
 tests/telepathy/init.vala                           | 6 +++---
 tests/telepathy/persona-store-capabilities.vala     | 6 +++---
 tests/tracker/add-contact.vala                      | 6 +++---
 tests/tracker/add-persona.vala                      | 6 +++---
 tests/tracker/additional-names-updates.vala         | 6 +++---
 tests/tracker/avatar-details-interface.vala         | 6 +++---
 tests/tracker/avatar-updates.vala                   | 6 +++---
 tests/tracker/birthday-details-interface.vala       | 6 +++---
 tests/tracker/birthday-updates.vala                 | 6 +++---
 tests/tracker/default-contact.vala                  | 6 +++---
 tests/tracker/duplicated-emails.vala                | 6 +++---
 tests/tracker/duplicated-phones.vala                | 6 +++---
 tests/tracker/email-details-interface.vala          | 6 +++---
 tests/tracker/emails-updates.vala                   | 6 +++---
 tests/tracker/family-name-updates.vala              | 6 +++---
 tests/tracker/favourite-details-interface.vala      | 6 +++---
 tests/tracker/favourite-updates.vala                | 6 +++---
 tests/tracker/fullname-updates.vala                 | 6 +++---
 tests/tracker/gender-details-interface.vala         | 6 +++---
 tests/tracker/given-name-updates.vala               | 6 +++---
 tests/tracker/im-details-interface.vala             | 6 +++---
 tests/tracker/imaddresses-updates.vala              | 6 +++---
 tests/tracker/individual-retrieval.vala             | 6 +++---
 tests/tracker/link-personas-via-local-ids.vala      | 6 +++---
 tests/tracker/link-personas.vala                    | 6 +++---
 tests/tracker/match-all.vala                        | 6 +++---
 tests/tracker/match-email-addresses.vala            | 6 +++---
 tests/tracker/match-im-addresses.vala               | 6 +++---
 tests/tracker/match-known-emails.vala               | 6 +++---
 tests/tracker/match-name.vala                       | 6 +++---
 tests/tracker/match-phone-number.vala               | 6 +++---
 tests/tracker/name-details-interface.vala           | 6 +++---
 tests/tracker/nickname-updates.vala                 | 6 +++---
 tests/tracker/note-details-interface.vala           | 6 +++---
 tests/tracker/phone-details-interface.vala          | 6 +++---
 tests/tracker/phones-updates.vala                   | 6 +++---
 tests/tracker/postal-address-details-interface.vala | 6 +++---
 tests/tracker/prefix-name-updates.vala              | 6 +++---
 tests/tracker/remove-contact.vala                   | 6 +++---
 tests/tracker/remove-persona.vala                   | 6 +++---
 tests/tracker/role-details-interface.vala           | 6 +++---
 tests/tracker/set-avatar.vala                       | 6 +++---
 tests/tracker/set-birthday.vala                     | 6 +++---
 tests/tracker/set-duplicate-email.vala              | 6 +++---
 tests/tracker/set-emails.vala                       | 6 +++---
 tests/tracker/set-favourite.vala                    | 6 +++---
 tests/tracker/set-full-name.vala                    | 6 +++---
 tests/tracker/set-gender.vala                       | 6 +++---
 tests/tracker/set-im-addresses.vala                 | 6 +++---
 tests/tracker/set-nickname.vala                     | 6 +++---
 tests/tracker/set-notes.vala                        | 6 +++---
 tests/tracker/set-null-avatar.vala                  | 6 +++---
 tests/tracker/set-phones.vala                       | 6 +++---
 tests/tracker/set-postal-addresses.vala             | 6 +++---
 tests/tracker/set-roles.vala                        | 6 +++---
 tests/tracker/set-structured-name.vala              | 6 +++---
 tests/tracker/set-urls.vala                         | 6 +++---
 tests/tracker/suffix-name-updates.vala              | 6 +++---
 tests/tracker/url-details-interface.vala            | 6 +++---
 tests/tracker/website-updates.vala                  | 6 +++---
 108 files changed, 327 insertions(+), 322 deletions(-)

commit 452035512b3b7a78779a9e85ea9b215e7557930b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 18 12:36:18 2013 +0000

    For symmetry, nullify sets in tear_down() if created in set_up()

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=695381
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/eds/persona-store-tests.vala              | 8 +++++++-
 tests/telepathy/individual-properties.vala      | 9 ++++++++-
 tests/telepathy/persona-store-capabilities.vala | 9 ++++++++-
 3 files changed, 23 insertions(+), 3 deletions(-)

commit 19a44b01b5dea3df8a6f6fc1b4dcab21054ae097
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 18 19:10:57 2013 +0000

    Assert that each D-Bus test case is run in its intended environment

    This is a safety check so we don't trash the user's real home
    directory.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=695381
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>
    [added a comment as per pwithnall's review -smcv]
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 tests/lib/eds/test-case.vala            | 8 ++++++++
 tests/lib/libsocialweb/test-case.vala   | 7 +++++++
 tests/lib/telepathy/test-case.vala      | 7 +++++++
 tests/lib/tracker/test-case.vala        | 8 ++++++++
 tests/tools/with-session-bus-eds.sh     | 3 +++
 tests/tools/with-session-bus-tracker.sh | 3 +++
 tests/tools/with-session-bus.sh         | 3 +++
 7 files changed, 39 insertions(+)

commit ed877652b0f51fa1c28e95fab5f5974b1e880c9b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 18 12:06:00 2013 +0000

    Document recently-added TestCase subclasses

    They currently assume that they will be wrapped in
    with-session-bus*.sh.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=695381
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/lib/eds/test-case.vala          | 27 ++++++++++
 tests/lib/key-file/test-case.vala     | 14 +++++
 tests/lib/libsocialweb/test-case.vala | 17 ++++++
 tests/lib/telepathy/test-case.vala    | 99
 +++++++++++++++++++++++++++++++++++
 tests/lib/test-case.vala              | 40 +++++++++++---
 tests/lib/tracker/test-case.vala      | 21 ++++++++
 6 files changed, 211 insertions(+), 7 deletions(-)

commit fb2abc0ab8a72b346d30679df39dd217d092b676
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 14 15:50:06 2013 +0000

    LibsocialwebTest.TestCase: defer creation of lsw_backend until
    set_up()

    Also destroy it in tear_down(), for symmetry. Since there are only two
    LSW test cases and neither of them has more than one test, we don't
    need to worry much about compatibility - it's easy to check.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=695381
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/lib/libsocialweb/test-case.vala | 34
 ++++++++++++++++------------------
 1 file changed, 16 insertions(+), 18 deletions(-)

commit e4de6c5f6dd4eb66a7519afe2d60166c0cb7f0a7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 14 15:48:26 2013 +0000

    tests: limit backends via the environment a bit more directly

    This makes it more obvious what's enabled and what isn't. We want to
    make sure that only the intended backends are enabled, because those
    are the ones for which we've done enough environmental setup
    (D-Bus, etc.) to make sure they don't "leak out" into the user's
    real data.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=695381
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/data/Makefile.am                                |  1 -
 tests/data/backend-store-all.ini                      |  9 ---------
 tests/eds/Makefile.am                                 |  4 ----
 tests/eds/data/backend-eds-only.ini                   |  5 -----
 tests/folks/Makefile.am                               |  3 ---
 tests/key-file/Makefile.am                            |  4 ----
 tests/key-file/data/backend-store-key-file-only.ini   |  5 -----
 tests/lib/eds/test-case.vala                          |  4 ++++
 tests/lib/key-file/test-case.vala                     |  3 +++
 tests/lib/libsocialweb/test-case.vala                 |  3 +++
 tests/lib/telepathy/test-case.vala                    | 13 +++++++++++++
 tests/lib/test-case.vala                              |  3 +++
 tests/lib/tracker/test-case.vala                      |  3 +++
 tests/libsocialweb/Makefile.am                        |  4 ----
 tests/libsocialweb/aggregation.vala                   |  2 ++
 tests/libsocialweb/data/backend-lsw-only.ini          |  5 -----
 tests/telepathy/Makefile.am                           |  4 ----
 tests/telepathy/data/backend-store-telepathy-only.ini |  5 -----
 tests/tracker/Makefile.am                             |  4 ----
 tests/tracker/data/backend-tracker-only.ini           |  6 ------
 20 files changed, 31 insertions(+), 59 deletions(-)

commit 039a7ccaae6a5824edab276535f46bc1ed0f4bd1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 14 14:53:13 2013 +0000

    Make EdsTest.TestCase.eds_backend nullable

    It's null outside the period from set_up() to tear_down().

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=695381
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/lib/eds/test-case.vala | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 6bed8888020653815735c10f8e0a5bc6b7c7467c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 14 14:40:14 2013 +0000

    Reduce hard-coding of e-d-s address book names

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=695381
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/eds/create-remove-stores.vala      | 4 +++-
 tests/eds/enable-disable-stores.vala     | 4 +++-
 tests/eds/link-personas-diff-stores.vala | 4 +++-
 3 files changed, 9 insertions(+), 3 deletions(-)

commit 63cc94f013e4e4e6326d312465c11cf2a9bb456f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 18 11:53:21 2013 +0000

    Add subclasses for each category of TestCase

    Move small amounts of initialization (just the low-hanging fruit)
    into each subclass. Folks.TestCase is now reserved for tests that
    don't need any backends or additional services at all.

    In the process, make TpTestsBackend.tear_down() idempotent, so it's OK
    if we call it repeatedly.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=695381
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/eds/add-contacts-stress-test.vala            |  20 +---
 tests/eds/add-persona.vala                         |  20 +---
 tests/eds/anti-linking.vala                        |  35 +++---
 tests/eds/avatar-details.vala                      |  24 +---
 tests/eds/create-remove-stores.vala                |  16 +--
 tests/eds/email-details.vala                       |  28 +----
 tests/eds/enable-disable-stores.vala               |  20 ++--
 tests/eds/im-details.vala                          |  24 +---
 tests/eds/individual-retrieval.vala                |  26 +----
 tests/eds/link-personas-diff-stores.vala           |  18 +--
 tests/eds/link-personas.vala                       |  25 +----
 tests/eds/linkable-properties.vala                 |  24 ++--
 tests/eds/name-details.vala                        |  26 +----
 tests/eds/persona-store-tests.vala                 |  19 +---
 tests/eds/phone-details.vala                       |  26 +----
 tests/eds/postal-address-details.vala              |  22 +---
 tests/eds/remove-persona.vala                      |  20 +---
 tests/eds/removing-contacts.vala                   |  26 +----
 tests/eds/set-avatar.vala                          |  30 ++---
 tests/eds/set-birthday.vala                        |  24 +---
 tests/eds/set-emails.vala                          |  24 +---
 tests/eds/set-gender.vala                          |  24 +---
 tests/eds/set-im-addresses.vala                    |  24 +---
 tests/eds/set-is-favourite.vala                    |  24 +---
 tests/eds/set-names.vala                           |  24 +---
 tests/eds/set-notes.vala                           |  24 +---
 tests/eds/set-phones.vala                          |  24 +---
 tests/eds/set-postal-addresses.vala                |  24 +---
 tests/eds/set-properties-race.vala                 |  24 +---
 tests/eds/set-roles.vala                           |  24 +---
 tests/eds/set-structured-name.vala                 |  24 +---
 tests/eds/set-urls.vala                            |  24 +---
 tests/eds/store-removed.vala                       |  27 +----
 tests/eds/updating-contacts.vala                   |  26 +----
 tests/folks/Makefile.am                            |   5 +
 tests/folks/abstract-field-details.vala            |   8 --
 tests/folks/aggregation.vala                       |  91 +++++++---------
 tests/folks/async-locking.vala                     |   5 +-
 tests/folks/avatar-cache.vala                      |   2 +
 tests/folks/backend-loading.vala                   |  13 +--
 tests/folks/init.vala                              |  41 +++----
 tests/folks/object-cache.vala                      |   2 +
 tests/folks/utils.vala                             |   8 --
 tests/key-file/individual-retrieval.vala           |  13 +--
 tests/lib/Makefile.am                              |   6 +-
 tests/lib/eds/Makefile.am                          |   6 +
 tests/lib/eds/test-case.vala                       |  66 +++++++++++
 tests/lib/folks-test.deps                          |   5 +
 tests/lib/key-file/Makefile.am                     |  15 ++-
 tests/lib/key-file/kf-test.deps                    |   5 +
 tests/lib/key-file/test-case.vala                  |  33 ++++++
 tests/lib/libsocialweb/Makefile.am                 |   7 ++
 tests/lib/libsocialweb/test-case.vala              |  70 ++++++++++++
 tests/lib/telepathy/Makefile.am                    |  65 +++++++++++
 tests/lib/telepathy/contactlist/backend.c          |   6 +
 tests/lib/telepathy/test-case.vala                 | 121
 +++++++++++++++++++++
 tests/lib/telepathy/tpf-test.deps                  |   7 ++
 tests/lib/test-case.vala                           |  18 +++
 tests/lib/tracker/Makefile.am                      |   6 +
 tests/lib/tracker/test-case.vala                   |  43 ++++++++
 tests/libsocialweb/aggregation.vala                |  32 ++----
 tests/libsocialweb/dummy-lsw.vala                  |  34 +-----
 tests/telepathy/Makefile.am                        |  10 ++
 tests/telepathy/individual-properties.vala         |  19 +---
 tests/telepathy/individual-retrieval.vala          |  19 +---
 tests/telepathy/init.vala                          |  21 +---
 tests/telepathy/persona-store-capabilities.vala    |  18 +--
 tests/tracker/add-contact.vala                     |  19 +---
 tests/tracker/add-persona.vala                     |  15 +--
 tests/tracker/additional-names-updates.vala        |  22 +---
 tests/tracker/avatar-details-interface.vala        |  18 +--
 tests/tracker/avatar-updates.vala                  |  26 ++---
 tests/tracker/birthday-details-interface.vala      |  20 +---
 tests/tracker/birthday-updates.vala                |  24 +---
 tests/tracker/default-contact.vala                 |  19 +---
 tests/tracker/duplicated-emails.vala               |  14 +--
 tests/tracker/duplicated-phones.vala               |  14 +--
 tests/tracker/email-details-interface.vala         |  19 +---
 tests/tracker/emails-updates.vala                  |  31 ++----
 tests/tracker/family-name-updates.vala             |  22 +---
 tests/tracker/favourite-details-interface.vala     |  23 +---
 tests/tracker/favourite-updates.vala               |  26 ++---
 tests/tracker/fullname-updates.vala                |  22 +---
 tests/tracker/gender-details-interface.vala        |  20 +---
 tests/tracker/given-name-updates.vala              |  22 +---
 tests/tracker/im-details-interface.vala            |  19 +---
 tests/tracker/imaddresses-updates.vala             |  30 ++---
 tests/tracker/individual-retrieval.vala            |  21 +---
 tests/tracker/link-personas-via-local-ids.vala     |  12 +-
 tests/tracker/link-personas.vala                   |  11 +-
 tests/tracker/match-all.vala                       |  14 +--
 tests/tracker/match-email-addresses.vala           |  14 +--
 tests/tracker/match-im-addresses.vala              |  14 +--
 tests/tracker/match-known-emails.vala              |  14 +--
 tests/tracker/match-name.vala                      |  14 +--
 tests/tracker/match-phone-number.vala              |  14 +--
 tests/tracker/name-details-interface.vala          |  21 +---
 tests/tracker/nickname-updates.vala                |  28 ++---
 tests/tracker/note-details-interface.vala          |  20 +---
 tests/tracker/phone-details-interface.vala         |  19 +---
 tests/tracker/phones-updates.vala                  |  30 ++---
 .../tracker/postal-address-details-interface.vala  |  19 +---
 tests/tracker/prefix-name-updates.vala             |  22 +---
 tests/tracker/remove-contact.vala                  |  21 +---
 tests/tracker/remove-persona.vala                  |  15 +--
 tests/tracker/role-details-interface.vala          |  20 +---
 tests/tracker/set-avatar.vala                      |  19 +---
 tests/tracker/set-birthday.vala                    |  19 +---
 tests/tracker/set-duplicate-email.vala             |  14 +--
 tests/tracker/set-emails.vala                      |  19 +---
 tests/tracker/set-favourite.vala                   |  21 +---
 tests/tracker/set-full-name.vala                   |  19 +---
 tests/tracker/set-gender.vala                      |  19 +---
 tests/tracker/set-im-addresses.vala                |  19 +---
 tests/tracker/set-nickname.vala                    |  19 +---
 tests/tracker/set-notes.vala                       |  19 +---
 tests/tracker/set-null-avatar.vala                 |  19 +---
 tests/tracker/set-phones.vala                      |  19 +---
 tests/tracker/set-postal-addresses.vala            |  19 +---
 tests/tracker/set-roles.vala                       |  19 +---
 tests/tracker/set-structured-name.vala             |  19 +---
 tests/tracker/set-urls.vala                        |  19 +---
 tests/tracker/suffix-name-updates.vala             |  22 +---
 tests/tracker/url-details-interface.vala           |  20 +---
 tests/tracker/website-updates.vala                 |  25 ++---
 125 files changed, 961 insertions(+), 1809 deletions(-)

commit 3c7319ae32de2b5be24071d10c795e2b7e8c2a39
Author: Rūdolfs Mazurs <rudolfsm@src.gnome.org>
Date:   Sun Mar 17 20:26:33 2013 +0200

    Updated Latvian translation

 po/lv.po | 213
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 111 insertions(+), 102 deletions(-)

commit e0500604a63d6a56c99e9cf40da0778160fb5e71
Author: Ask H. Larsen <asklarsen@gmail.com>
Date:   Sun Mar 17 08:26:21 2013 +0100

    Updated Danish translation

 po/da.po | 201
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 107 insertions(+), 94 deletions(-)

commit 9801e450628f3655efbb2c55783b0e1d550f9050
Author: Balázs Úr <urbalazs@src.gnome.org>
Date:   Fri Mar 15 11:51:40 2013 +0100

    Updated Hungarian translation

 po/hu.po | 184
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 95 insertions(+), 89 deletions(-)

commit 4be6b0853274f1e939be5fa65a39b25236172818
Author: Duarte Loreto <happyguy_pt@hotmail.com>
Date:   Fri Mar 15 01:27:32 2013 +0000

    Updated Portuguese translation and converted to New Spelling (Novo AO)

 po/pt.po | 231
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 123 insertions(+), 108 deletions(-)

commit 22a4f58e77ea3fd0c4ce9aee68c1ab4778b22ce4
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:   Fri Mar 15 00:24:19 2013 +0100

    [l10n] Updated Catalan (Valencian) translation

 po/ca@valencia.po | 199
 ++++++++++++++++++++++++++++--------------------------
 1 file changed, 104 insertions(+), 95 deletions(-)

commit b1b14241fd32d5006c74b06af5a7d122eb7f4386
Author: Gil Forcada <gforcada@gnome.org>
Date:   Fri Mar 15 00:24:17 2013 +0100

    [l10n] Updated Catalan translation

 po/ca.po | 197
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 103 insertions(+), 94 deletions(-)

commit e49bdbd53e422a8cf2cff2e31669522433fb5ef4
Author: Sweta Kothari <swkothar@redhat.com>
Date:   Thu Mar 14 11:39:57 2013 +0530

    Updated gujarati file

 po/gu.po | 206
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 110 insertions(+), 96 deletions(-)

commit f5ab4a1d7a5856c7d13029bdceb83bfa3b5b6af7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 13 12:30:35 2013 +0000

    update NEWS

 NEWS | 4 ++++
 1 file changed, 4 insertions(+)

commit 1fd8b55222f820b65338f9587a328316a35bd22a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Mar 8 15:02:25 2013 +0000

    BackendStore: provide an easier way to limit backends via environment

    If FOLKS_BACKENDS_ALLOWED is set, it's a space-, comma- or
    colon-separated list of backends to allow, or "all". If unset, the
    default is "all". Backends not in the list are disabled, even if the
    keyfile says they ought to be enabled.

    If FOLKS_BACKENDS_DISABLED is set, it's a space-, comma- or
    colon-separated list of additional backends to disable.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=695381
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 HACKING                  | 17 +++++++++++
 folks/backend-store.vala | 78
 ++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 95 insertions(+)

commit 431930d15817cf1675dc9d1f11755661baab1bcb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 12 14:33:06 2013 +0000

    TestCase: fix indentation

    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/lib/test-case.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f2a0df2d2262c69d23bccf212f3564ac5aa1f81c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 12 15:27:32 2013 +0000

    collection comparators: optimize the case of empty collections

    Comparing integers is a lot faster than constructing one or more
    GObjects to iterate over the hash table. This saves about 3% of the
    user CPU time needed to deal with 2049 simple e-d-s Google contacts,
    each with one email address and no phone numbers etc.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=695648
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 folks/utils.vala | 30 +++++++++++++++++++++++++++---
 1 file changed, 27 insertions(+), 3 deletions(-)

commit 89481c9dac3d4a528781c090463045bba691ab31
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 12 17:06:31 2013 +0000

    Don't do manual memory management for libsocialweb Contact structs

    GObject (and hence Vala) already knows how to memory-manage a Contact,
    because it's a boxed type. Trying to do our own memory-management
    anyway results in an occasional (50%?) double-free and crash.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=695719
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 backends/libsocialweb/lib/swf-persona.vala | 10 ++--------
 1 file changed, 2 insertions(+), 8 deletions(-)

commit d9d468e84343299e97602ca6685911ae6bc018bf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 12 17:16:18 2013 +0000

    update NEWS

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit f574cc5631526dc2d026fb109b6188e539123694
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 12 13:50:56 2013 +0000

    Always append to AM_VALAFLAGS, don't replace

    This avoids losing --target-glib=2.24 (from configure.ac) in certain
    test modules.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=695628
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 tests/eds/Makefile.am          | 2 +-
 tests/folks/Makefile.am        | 2 +-
 tests/key-file/Makefile.am     | 2 +-
 tests/libsocialweb/Makefile.am | 2 +-
 tests/telepathy/Makefile.am    | 2 +-
 tests/tracker/Makefile.am      | 2 +-
 6 files changed, 6 insertions(+), 6 deletions(-)

commit 225f7042476504cedc1b35a7d2c91d7876841ec3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 11 13:12:02 2013 +0000

    Do not assign to VALAFLAGS

    Users should be able to do "make
    VALAFLAGS=--enable-experimental-non-null"
    without overriding necessary flags like --target-glib=2.24. The
    variable
    for use by package maintainers is AM_VALAFLAGS.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=695628
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 backends/eds/Makefile.am           | 3 +--
 backends/libsocialweb/Makefile.am  | 3 +--
 backends/telepathy/Makefile.am     | 3 +--
 backends/tracker/Makefile.am       | 3 +--
 configure.ac                       | 4 ++--
 tests/lib/Makefile.am              | 2 +-
 tests/lib/eds/Makefile.am          | 2 +-
 tests/lib/key-file/Makefile.am     | 2 +-
 tests/lib/libsocialweb/Makefile.am | 2 +-
 tests/lib/tracker/Makefile.am      | 2 +-
 tools/Makefile.am                  | 3 +--
 tools/inspect/Makefile.am          | 3 +--
 12 files changed, 13 insertions(+), 19 deletions(-)

commit c8155b0232b9e084bc8f5c76239a3192eabb6ae6
Author: Nilamdyuti Goswami <ngoswami@redhat.com>
Date:   Tue Mar 12 18:46:16 2013 +0530

    Assamese translation updated for gnome 3.8

 po/as.po | 186
 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 96 insertions(+), 90 deletions(-)

commit 1beab23520bbca100bcf54006ef4958783002413
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Mar 11 20:16:02 2013 +0000

    HACKING: Update documentation for strict-non-null mode

    Mention how to compile with --enable-experimental-non-null.

    See: https://bugzilla.gnome.org/show_bug.cgi?id=695628

 HACKING | 2 ++
 1 file changed, 2 insertions(+)

commit 90b8fbdbf27981fc21fd0282b344b07c66e196f5
Author: Andika Triwidada <andika@gmail.com>
Date:   Mon Mar 11 12:49:22 2013 +0700

    Updated Indonesian translation

 po/id.po | 206
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 110 insertions(+), 96 deletions(-)

commit 5418e9b333a6ba36cfefe20f0728b972bdefeb45
Author: Dimitris Spingos <dmtrs32@gmail.com>
Date:   Sat Mar 9 15:28:42 2013 +0200

    Updated Greek translation

 po/el.po | 213
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 111 insertions(+), 102 deletions(-)

commit 5a1d4aca737192ddc2f3183c713f1973b4394d58
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Mar 8 14:02:39 2013 +0000

    Update NEWS with recent changes

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit 3ead592946f3b9e9b41196c193228047af9b0834
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Mar 8 13:55:29 2013 +0000

    Mostly avoid an expensive multi-map iteration pattern

    If you have a MultiMap with, say, 100 keys each with 1 value, and you
    iterate over it like this (pseudocode):

        for key in keys():
            values = get(key)
            for value in values:
                do something(key, value)

    then you have constructed one GObject for the result of keys(), and
    100 GObjects for the results of get() (because it returns a read-only
    view). If you iterate it like this:

        iter = map_iterator()
        while iter.next():
            do something(iter.key(), iter.value())

    there's only one extraneous GObject, the iterator itself.

    When there are thousands of contacts, as in add-contacts-stress-test,
    this really starts to matter.

    This patch doesn't fix every use of get_keys() - some of them do
    non-trivial work per key as well as per value, making it awkward to
    convert to map_iterator() - but it's a start. It cuts 'user' CPU time
    for IndividualAggregator quiescence for an e-d-s Google account with
    2049 contacts (reading from cache) by around 3%.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=682903
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>
    [note added to HACKING as per Philip's review]
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 HACKING                                            |   4 +
 backends/eds/lib/edsf-persona.vala                 |  19 +--
 backends/key-file/kf-persona.vala                  |  19 +--
 .../telepathy/lib/tpf-persona-store-cache.vala     |  27 ++--
 backends/telepathy/lib/tpf-persona-store.vala      |  13 +-
 folks/abstract-field-details.vala                  |  12 +-
 folks/individual-aggregator.vala                   | 169
 +++++++++++----------
 folks/individual.vala                              |  30 +---
 8 files changed, 139 insertions(+), 154 deletions(-)

commit 1e758bd6f27e260aa43cf7001d595f5f36e5bb93
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   Thu Mar 7 16:59:54 2013 +0100

    Updated Slovenian translation

 po/sl.po | 288
 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 166 insertions(+), 122 deletions(-)

commit 04cdac60f1299d772d2aacd1418e97163cd36c83
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:   Thu Mar 7 17:15:19 2013 +0300

    Updated Belarusian translation.

 po/be.po | 199
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 106 insertions(+), 93 deletions(-)

commit 5f7e4581340da9388472b4018c93c9c39f4167d0
Author: Enrico Nicoletto <liverig@gmail.com>
Date:   Thu Mar 7 00:14:36 2013 -0300

    Updated Brazilian Portuguese translation

 po/pt_BR.po | 212
 ++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 113 insertions(+), 99 deletions(-)

commit a08b1b2f41f34a94c98c35552753d47eee98fcf3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 28 16:50:08 2013 +0000

    Use absolute paths for --vapidir

    In the rules currently generated by Automake, valac currently runs
    cd'd into the ${srcdir}. It seems unwise to rely on that, and the
    only thing that will work regardless of whether ${srcdir} is ".",
    relative or absolute is its "absolutized" version.

    Similarly, look in both the ${srcdir} and the ${builddir} for Vala
    bindings we generate: the ${srcdir} because that's where valac
    currently
    puts them, and the ${builddir} because that's where they ought to go
    in principle.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=694883
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>

 backends/telepathy/Makefile.am     |  9 ++++++---
 backends/telepathy/lib/Makefile.am | 13 +++++++++----
 folks/Makefile.am                  |  6 ++++--
 tests/folks/Makefile.am            | 15 ++++++++++-----
 tests/telepathy/Makefile.am        | 15 ++++++++++-----
 5 files changed, 39 insertions(+), 19 deletions(-)

commit 36ed61b85c2848fbd0e056579d8164c59aa0d2d7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 28 16:33:08 2013 +0000

    Add -I$(top_srcdir) throughout

    Automake adds (the equivalent of) -I$(top_builddir) to our CPPFLAGS
    automatically, so we can #include "config.h". It does not add
    -I$(top_srcdir). Many things in folks want to #include
    <folks/folks.h>,
    so we should always have -I$(top_srcdir) so we can pick that up.

    Out-of-tree builds previously either didn't work, or relied on having
    installed folks headers (I'm not sure which).

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=694883
    Reviewed-by: Philip Withnall <philip@tecnocode.co.uk>
    [amended to do the same for tracker- and libsocialweb-specifics
    too -smcv]
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 backends/eds/Makefile.am              | 1 +
 backends/eds/lib/Makefile.am          | 1 +
 backends/key-file/Makefile.am         | 1 +
 backends/libsocialweb/Makefile.am     | 1 +
 backends/libsocialweb/lib/Makefile.am | 1 +
 backends/ofono/Makefile.am            | 1 +
 backends/telepathy/Makefile.am        | 1 +
 backends/telepathy/lib/Makefile.am    | 1 +
 backends/tracker/Makefile.am          | 1 +
 backends/tracker/lib/Makefile.am      | 1 +
 tests/eds/Makefile.am                 | 1 +
 tests/folks/Makefile.am               | 1 +
 tests/key-file/Makefile.am            | 1 +
 tests/lib/Makefile.am                 | 1 +
 tests/lib/eds/Makefile.am             | 1 +
 tests/lib/tracker/Makefile.am         | 1 +
 tests/libsocialweb/Makefile.am        | 1 +
 tests/telepathy/Makefile.am           | 1 +
 tests/tracker/Makefile.am             | 1 +
 tools/Makefile.am                     | 1 +
 tools/inspect/Makefile.am             | 1 +
 21 files changed, 21 insertions(+)

commit 3bb3e44c673cee5b15896484e626b39c187d6750
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   Mon Mar 4 15:00:39 2013 +0100

    Updated Norwegian bokmål translation

 po/nb.po | 253
 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 141 insertions(+), 112 deletions(-)

commit 9a61ac79de3e75b94f917f849d51089272848b80
Author: Mario Blättermann <mario.blaettermann@gmail.com>
Date:   Sun Mar 3 22:00:57 2013 +0100

    [l10n] Updated German translation

 po/de.po | 204
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 109 insertions(+), 95 deletions(-)

commit 171a5299d6557263c48c4f1dd22b21d4ae2bff4d
Author: Aurimas Černius <aurisc4@gmail.com>
Date:   Sat Mar 2 23:28:03 2013 +0200

    Updated Lithuanian translation

 po/lt.po | 182
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 94 insertions(+), 88 deletions(-)

commit f86a70dbef86f4681637135f0b7f555154c42ccc
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:   Fri Mar 1 22:14:46 2013 +0800

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

 po/zh_HK.po | 206
 ++++++++++++++++++++++++++++++++----------------------------
 po/zh_TW.po | 206
 ++++++++++++++++++++++++++++++++----------------------------
 2 files changed, 222 insertions(+), 190 deletions(-)

commit 485d7e54d5e9d3f69fd793bf8534abcae02f29f8
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:   Fri Mar 1 11:17:19 2013 +0100

    Updated Serbian translation

 po/sr.po       | 182
 +++++++++++++++++++++++++++++----------------------------
 po/sr@latin.po | 182
 +++++++++++++++++++++++++++++----------------------------
 2 files changed, 188 insertions(+), 176 deletions(-)

commit cf22c48be5bc61c99f34f3f1e14ef251374c17f8
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   Tue Feb 26 00:25:30 2013 +0100

    Updated Galician translations

 po/gl.po | 183
 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 94 insertions(+), 89 deletions(-)

commit a98eca537bfc9ecfdada790d5043ecf57f1d994f
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   Sun Feb 24 02:39:27 2013 +0100

    Updated Polish translation

 po/pl.po | 105
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 55 insertions(+), 50 deletions(-)

commit f700c884c13952d5a5b23ad252940313b7d05411
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Fri Feb 22 09:10:35 2013 -0800

    build: Include location-details.c in POTFILES.skip

    This fixes a break in distcheck

 po/POTFILES.skip | 1 +
 1 file changed, 1 insertion(+)

commit 202855cb6c4ebf05b80531525a4fc3f194c91282
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Fri Feb 22 08:59:26 2013 -0800

    build: Use @return instead of unsupported @returns valadoc

    This was breaking the build when making docs

 folks/location-details.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 733bd27352b6aefc24ff5a51caf25fa9edef3b03
Author: Gheyret Kenji <gheyret@gmail.com>
Date:   Fri Feb 22 22:22:06 2013 +0900

    Updated Uyghur translation

    Signed-off-by: Gheyret Kenji <gheyret@gmail.com>

 po/ug.po | 714
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++------
 1 file changed, 647 insertions(+), 67 deletions(-)

commit 0cffbabde39d93d8107bf8453f3ec8f79da9a26e
Author: Gheyret Kenji <gheyret@gmail.com>
Date:   Fri Feb 22 22:19:56 2013 +0900

    Updated Uyghur translation

    Signed-off-by: Gheyret Kenji <gheyret@gmail.com>

 po/ug.po | 714
 ++++++---------------------------------------------------------
 1 file changed, 67 insertions(+), 647 deletions(-)

commit 850aab9a6b2b7ccb03c5ad21e9613e4fe72ec9cf
Author: Gheyret Kenji <gheyret@gmail.com>
Date:   Fri Feb 22 22:09:51 2013 +0900

    Updated Uyghur translation

    Signed-off-by: Gheyret Kenji <gheyret@gmail.com>

 po/ug.po | 142
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 74 insertions(+), 68 deletions(-)

commit ba7cdd3c81d8a2374435d25f3bcf418e41482615
Author: Marek Černocký <marek@manet.cz>
Date:   Fri Feb 22 10:43:48 2013 +0100

    Updated Czech translation

 po/cs.po | 179
 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 92 insertions(+), 87 deletions(-)

commit c8017c56e08bffed2dfa61095d31e6d32b9ccd57
Author: A S Alam <aalam@users.sf.net>
Date:   Fri Feb 22 01:38:16 2013 +0000

    Punjabi: Translation updated (aalam)

 po/pa.po | 206
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 110 insertions(+), 96 deletions(-)

commit 5f58a0721f0aa929be07bdb7739d0efb3ef2a8ee
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Thu Feb 21 16:54:25 2013 +0100

    Updated Spanish translation

 po/es.po | 205
 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 104 insertions(+), 101 deletions(-)

commit 40cd2798a75558015634fc260a46e77c3c4ff3a5
Author: Alexandre Franke <alexandre.franke@gmail.com>
Date:   Wed Feb 20 20:19:11 2013 +0100

    Update French translation

 po/fr.po | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 11edfc4b42e30e5d42e1df69ab95e2244aadcf2a
Author: Alexandre Franke <alexandre.franke@gmail.com>
Date:   Wed Feb 20 20:18:37 2013 +0100

    Update French translation

 po/fr.po | 181
 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 93 insertions(+), 88 deletions(-)

commit 75ff3f87dc89ed760382267d76823aaaebf7a718
Author: Patrick Ohly <patrick.ohly@intel.com>
Date:   Fri Feb 8 15:23:13 2013 +0100

    support geo location information

    This adds "Location" class with latitude and longitude and
    single-valued "LocationDetails" which exposes that information for a
    contact. The logic for choosing "the best" among many locations from
    different personas is left out for now. Instead folks picks according
    to the default ordering of single values, which prefers values from
    the primary store.

    The EDS backend provides, creates and writes the GEO property as
    location.

 backends/eds/lib/edsf-persona-store.vala |  37 ++++++++-
 backends/eds/lib/edsf-persona.vala       |  61 ++++++++++++++
 folks/Makefile.am                        |   1 +
 folks/individual.vala                    |  49 +++++++++++-
 folks/location-details.vala              | 131
 +++++++++++++++++++++++++++++++
 folks/persona-store.vala                 |   8 ++
 po/POTFILES.in                           |   1 +
 7 files changed, 285 insertions(+), 3 deletions(-)

commit d7846d8d220942d89212b5af045787ae2d47c1f1
Author: Marek Černocký <marek@manet.cz>
Date:   Tue Feb 19 11:13:28 2013 +0100

    Updated Czech translation

 po/cs.po | 157
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 83 insertions(+), 74 deletions(-)

commit 26310e79259dda6ee795361fb3d7164ea2d10eb3
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Feb 18 18:28:04 2013 +0000

    eds: Fix the type of a parameter in add_persona_from_details()

    This build breaker was introduced in commit
    dcc558d87d113dae0aa8721db3d80261c08dee57.

 backends/eds/lib/edsf-persona-store.vala | 11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit dcc558d87d113dae0aa8721db3d80261c08dee57
Author: Patrick Ohly <patrick.ohly@intel.com>
Date:   Mon Feb 18 12:19:08 2013 +0100

    eds: fix Android favourite handling when creating contact

    When processing PersonaDetail.GROUPS before PersonaDetail.IS_FAVOURITE
    while creating a new contact in EDS, the special code for adding the
    contact to the “Starred in Android” group (bgo#661490 was
    skipped). We
    must go through _set_is_favourite instead of _set_contact_is_favourite
    to get that part done, too.

 NEWS                                     | 2 ++
 backends/eds/lib/edsf-persona-store.vala | 4 +++-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 6aaded38f044d6dc2bb28db020bcdaff32e09c76
Author: Patrick Ohly <patrick.ohly@intel.com>
Date:   Thu Feb 7 15:28:08 2013 +0100

    eds: support 'groups' when creating a contact

    There's a minor twist with supporting the setting of groups from
    details: _set_contact_groups() needs to know whether the contact
    is a favorite, for special handling of Google contacts.

    If the PersonaDetail.IS_FAVOURITE is found first in the details, that
    boolean is passed to a later _set_contact_groups(). If
    _set_contact_groups() is done first, then _set_contact_is_favourite()
    applies the special Google workaround.

 backends/eds/lib/edsf-persona-store.vala | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 4a59bc621d55a09718355b46c73f9c71d1f8f90f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Sun Feb 17 19:53:40 2013 -0800

    Update the home page listed in DOAP file

 folks.doap | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c72e47f21a56b00e29cfefbb90bedfb0d3e0e133
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Sun Feb 17 19:44:29 2013 -0800

    Post-release version bump

 NEWS         | 11 +++++++++++
 configure.ac |  4 ++--
 2 files changed, 13 insertions(+), 2 deletions(-)

commit df70f779a0f12b44163392a9cc63679e5d55a2b0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Sun Feb 17 19:29:09 2013 -0800

    Release version 0.9.1

 NEWS         | 4 ----
 configure.ac | 8 ++++----
 2 files changed, 4 insertions(+), 8 deletions(-)

commit 0ad183e612b5567b055cef7f601cd67461c485cd
Author: Giovanni Campagna <gcampagna@src.gnome.org>
Date:   Sun Feb 17 23:50:44 2013 +0100

    Fix build with evolution-data-server master

    Eds recently splitted certain enums from libebook into
    libebook-contacts.
    As part of that, they are now correctly reported as error domains,
    rather than bare enums, so we need to change the syntax to check them.

    https://bugzilla.gnome.org/show_bug.cgi?id=694049

 NEWS                                     |  3 ++
 backends/eds/lib/Makefile.am             |  1 +
 backends/eds/lib/edsf-persona-store.vala | 81
 ++++++++++++++------------------
 configure.ac                             |  7 +--
 4 files changed, 44 insertions(+), 48 deletions(-)

commit f1478b00de135aac38e5c63df7088b92b2cbc928
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Sun Feb 17 18:07:54 2013 -0800

    Post-release version bump

 NEWS         | 11 +++++++++++
 configure.ac |  4 ++--
 2 files changed, 13 insertions(+), 2 deletions(-)

commit 32cbf8af68e5a167fa29fe19e77e98c47512e28c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Sun Feb 17 16:33:26 2013 -0800

    Release version 0.9.0

 backends/eds/lib/edsf-persona-store.vala  |  4 ++--
 backends/eds/lib/edsf-persona.vala        |  6 +++---
 backends/libsocialweb/sw-backend.vala     | 10 +++++-----
 backends/ofono/ofono-backend-factory.vala |  6 +++---
 backends/ofono/ofono-backend.vala         |  2 +-
 backends/ofono/ofono-persona-store.vala   |  8 ++++----
 backends/ofono/ofono-persona.vala         |  4 ++--
 configure.ac                              |  8 ++++----
 folks/abstract-field-details.vala         |  4 ++--
 folks/backend.vala                        |  6 +++---
 folks/individual-aggregator.vala          |  2 +-
 11 files changed, 30 insertions(+), 30 deletions(-)

commit c5ada29a75e9c5a12fa88ca8186521e38e0c99b7
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Tue Feb 12 12:58:43 2013 -0800

    Temporarily disable some broken tests for the release.

 tests/eds/Makefile.am       | 5 -----
 tests/telepathy/Makefile.am | 6 ------
 2 files changed, 11 deletions(-)

commit 95674cf32008ed0353b318d68065dd1196673444
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Sun Feb 17 17:31:37 2013 -0800

    Distribute the ofono backend dir

 backends/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 9fea2344266a3f988eaf34d725ddbc3d705fe9f3
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Sun Feb 17 17:31:17 2013 -0800

    Alphabetize backend subdirs

 backends/Makefile.am | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit dfe0e00118f01293811c29d2baab4000b8124357
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Sun Feb 17 17:04:17 2013 -0800

    Revert "build fix: Only depend on Gee 0.8.3, since 0.8.4 isn't
    released yet"

    This reverts commit ad77950c7a628399e59ac3d04f07f95bb21f1887.

 NEWS                                    |  2 +-
 backends/eds/lib/edsf-persona.vala      | 18 ++++++++----------
 backends/key-file/kf-persona.vala       | 20 ++++++++------------
 backends/telepathy/lib/tpf-persona.vala |  4 ++--
 configure.ac                            |  2 +-
 folks/individual-aggregator.vala        | 10 ++++------
 folks/individual.vala                   | 22 ++++++++--------------
 tests/eds/link-personas.vala            | 20 ++++++++------------
 tests/eds/set-im-addresses.vala         |  7 ++-----
 9 files changed, 42 insertions(+), 63 deletions(-)

commit a25f7610be215a906875b37b50e0472620dce4e3
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Sun Feb 17 17:03:40 2013 -0800

    Bump Tracker requirement to the latest series.

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 98794c76920d8cb85030a7f75059f167f2a45a6e
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   Sun Feb 17 15:48:05 2013 +0100

    Updated Polish translation

 po/pl.po | 174
 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 87 insertions(+), 87 deletions(-)

commit fcc7bc4421bf6071061acca427faf0ae4c63c91b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Tue Feb 12 00:39:32 2013 +0000

    eds: Check property values have changed before committing them to EDS

    This prevents timeouts when waiting for EDS to notify us of property
    changes,
    since it won’t notify for non-changed properties. It also saves
    a D-Bus round
    trip in the case the folks property setter is called with an
    unchanged value.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=692951

 NEWS                                     |  2 ++
 backends/eds/lib/edsf-persona-store.vala | 32
 ++++++++++++++++++++++++++++++++
 2 files changed, 34 insertions(+)

commit f2e78fbe22913473eff65cb04015a98008dc552a
Author: Alexandre Franke <alexandre.franke@gmail.com>
Date:   Thu Feb 14 17:27:15 2013 +0100

    Update French translation

 po/fr.po | 154
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 81 insertions(+), 73 deletions(-)

commit c279d4114275ea921cb51f2339dd09f2cfd68160
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Tue Feb 12 13:06:30 2013 -0800

    Revert "CUT -- disable some broken tests"

    This reverts commit f58c41dfbdb53bb617215888859fafb32ad2b9d6.

 tests/eds/Makefile.am       | 5 +++++
 tests/telepathy/Makefile.am | 6 ++++++
 2 files changed, 11 insertions(+)

commit f58c41dfbdb53bb617215888859fafb32ad2b9d6
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Tue Feb 12 12:58:43 2013 -0800

    CUT -- disable some broken tests

 tests/eds/Makefile.am       | 5 -----
 tests/telepathy/Makefile.am | 6 ------
 2 files changed, 11 deletions(-)

commit ad77950c7a628399e59ac3d04f07f95bb21f1887
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Tue Feb 12 11:18:13 2013 -0800

    build fix: Only depend on Gee 0.8.3, since 0.8.4 isn't released yet

    This can safely be reverted once Gee 0.8.4 is released.

 NEWS                                    |  2 +-
 backends/eds/lib/edsf-persona.vala      | 18 ++++++++++--------
 backends/key-file/kf-persona.vala       | 20 ++++++++++++--------
 backends/telepathy/lib/tpf-persona.vala |  4 ++--
 configure.ac                            |  2 +-
 folks/individual-aggregator.vala        | 10 ++++++----
 folks/individual.vala                   | 22 ++++++++++++++--------
 tests/eds/link-personas.vala            | 20 ++++++++++++--------
 tests/eds/set-im-addresses.vala         |  7 +++++--
 9 files changed, 63 insertions(+), 42 deletions(-)

commit 738b44c867569e53a2da6897d672d8daf1ca8d13
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Tue Feb 12 11:26:50 2013 +0000

    tools: Fix ambiguous references to HashTable

    Could have been GLib.HashTable or Xml.HashTable. Caught by Jenkins:
    https://jenkins.qa.ubuntu.com/view/Raring/view/JHBuild%20Gnome/job/jhbuild-amd64-folks/114/

    On further investigation, this was caused by changes to the libxml2
    bindings in Vala. Compilation of folks against Vala master now
    succeeds, so there shouldn’t be any more HashTable failures.

 tools/import-pidgin.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ef9d16ec39e1c479083ecb7f8e85de3dbac64488
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Tue Feb 12 08:30:35 2013 +0000

    eds: Fix ambiguous references to HashTable

    Could have been GLib.HashTable or Xml.HashTable. Caught by Jenkins:
    https://jenkins.qa.ubuntu.com/view/Raring/view/JHBuild%20Gnome/job/jhbuild-amd64-folks/113/

 backends/eds/lib/edsf-persona.vala | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 01cc61aca9247a43f5132331a155f00d363e5e7d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Wed Feb 6 21:33:24 2013 -0800

    Port folks to libgee 0.8.

    Added hash_static and equal_static to AbstractFieldDetails.
    Use AbstractFieldDetails hash_static and equal_static where needed.

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=673918

 NEWS                                               |  3 +
 backends/eds/Makefile.am                           |  2 +-
 backends/eds/lib/Makefile.am                       |  2 +-
 backends/eds/lib/edsf-persona.vala                 | 93
 ++++++++++++++--------
 backends/eds/lib/folks-eds-uninstalled.pc.in       |  2 +-
 backends/eds/lib/folks-eds.deps                    |  2 +-
 backends/eds/lib/folks-eds.pc.in                   |  2 +-
 backends/key-file/Makefile.am                      |  2 +-
 backends/key-file/kf-persona.vala                  | 18 ++---
 backends/libsocialweb/Makefile.am                  |  2 +-
 backends/libsocialweb/lib/Makefile.am              |  4 +-
 .../lib/folks-libsocialweb-uninstalled.pc.in       |  2 +-
 backends/libsocialweb/lib/folks-libsocialweb.pc.in |  2 +-
 backends/libsocialweb/lib/swf-persona.vala         | 12 +--
 backends/ofono/Makefile.am                         |  2 +-
 backends/telepathy/Makefile.am                     |  2 +-
 backends/telepathy/lib/Makefile.am                 |  2 +-
 .../lib/folks-telepathy-uninstalled.pc.in          |  2 +-
 backends/telepathy/lib/folks-telepathy.pc.in       |  2 +-
 .../telepathy/lib/tpf-persona-store-cache.vala     | 12 +--
 backends/telepathy/lib/tpf-persona.vala            | 28 +++----
 backends/tracker/Makefile.am                       |  2 +-
 backends/tracker/lib/Makefile.am                   |  4 +-
 .../tracker/lib/folks-tracker-uninstalled.pc.in    |  2 +-
 backends/tracker/lib/folks-tracker.pc.in           |  2 +-
 backends/tracker/lib/trf-persona-store.vala        |  5 +-
 backends/tracker/lib/trf-persona.vala              | 53 ++++++------
 configure.ac                                       | 18 +----
 docs/Makefile.am                                   |  8 +-
 folks/Makefile.am                                  |  4 +-
 folks/abstract-field-details.vala                  | 48 +++++++++++
 folks/backend-store.vala                           |  9 +--
 folks/debug.vala                                   |  2 +-
 folks/folks-uninstalled.pc.in                      |  2 +-
 folks/folks.deps                                   |  2 +-
 folks/folks.pc.in                                  |  2 +-
 folks/individual-aggregator.vala                   | 10 +--
 folks/individual.vala                              | 83
 +++++++++----------
 folks/potential-match.vala                         |  2 +-
 tests/eds/Makefile.am                              |  2 +-
 tests/eds/add-persona.vala                         | 20 ++---
 tests/eds/email-details.vala                       |  3 +-
 tests/eds/individual-retrieval.vala                |  3 +-
 tests/eds/link-personas.vala                       | 24 +++---
 tests/eds/linkable-properties.vala                 |  4 +-
 tests/eds/phone-details.vala                       |  3 +-
 tests/eds/set-emails.vala                          |  4 +-
 tests/eds/set-im-addresses.vala                    |  5 +-
 tests/eds/set-phones.vala                          |  4 +-
 tests/eds/set-roles.vala                           |  4 +-
 tests/folks/Makefile.am                            |  2 +-
 tests/folks/aggregation.vala                       |  2 +-
 tests/folks/backend-loading.vala                   | 12 +--
 tests/key-file/Makefile.am                         |  2 +-
 tests/key-file/individual-retrieval.vala           |  3 +-
 tests/lib/Makefile.am                              |  2 +-
 tests/lib/eds/Makefile.am                          |  2 +-
 tests/lib/libsocialweb/Makefile.am                 |  2 +-
 tests/lib/telepathy/contactlist/Makefile.am        |  2 +-
 tests/lib/tracker/Makefile.am                      |  2 +-
 tests/libsocialweb/Makefile.am                     |  2 +-
 tests/telepathy/Makefile.am                        |  2 +-
 tests/telepathy/individual-properties.vala         | 12 +--
 tests/telepathy/individual-retrieval.vala          |  7 +-
 tests/tracker/Makefile.am                          |  2 +-
 tests/tracker/add-persona.vala                     | 29 ++++---
 tests/tracker/duplicated-emails.vala               |  8 +-
 tests/tracker/duplicated-phones.vala               |  8 +-
 tests/tracker/link-personas.vala                   |  8 +-
 tests/tracker/match-email-addresses.vala           |  8 +-
 tests/tracker/match-im-addresses.vala              |  8 +-
 tests/tracker/match-known-emails.vala              |  8 +-
 tests/tracker/match-phone-number.vala              |  8 +-
 tests/tracker/remove-persona.vala                  |  4 +-
 tests/tracker/set-duplicate-email.vala             |  8 +-
 tests/tracker/set-emails.vala                      |  4 +-
 tests/tracker/set-im-addresses.vala                |  5 +-
 tests/tracker/set-notes.vala                       |  4 +-
 tests/tracker/set-phones.vala                      |  4 +-
 tests/tracker/set-postal-addresses.vala            |  4 +-
 tests/tracker/set-roles.vala                       |  6 +-
 tests/tracker/set-urls.vala                        |  4 +-
 tools/Makefile.am                                  |  2 +-
 tools/inspect/Makefile.am                          |  2 +-
 tools/inspect/inspect.vala                         |  2 +-
 85 files changed, 385 insertions(+), 337 deletions(-)

commit a4759c93833422065f55519780148de4dc914c40
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Fri Feb 8 09:28:22 2013 -0800

    eds test: Ensure the source is declared enabled

    This seems to fix the problem with create-remove-stores from failing
    sporadically. And it matches all the sample sources used in e-d-s
    itself.

    I also added a trailing \n to match them as well (though it doesn't
    seem to
    have any obvious effect).

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=693435

 NEWS                       | 1 +
 tests/lib/eds/backend.vala | 3 ++-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 056f229598cb9791cceacd805e5d550faaea7039
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Wed Feb 6 17:21:53 2013 +0000

    individual-aggregator: Expand documentation on linking/unlinking API

 folks/individual-aggregator.vala | 18 +++++++++++++++++-
 1 file changed, 17 insertions(+), 1 deletion(-)

commit 046d75dba7fb82dd5894cc19e6270d4ce6a5e770
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Tue Feb 5 23:00:09 2013 +0000

    individual-aggregator: Add some documentation on linking/unlinking API

 folks/individual-aggregator.vala | 25 ++++++++++++++++++++++++-
 1 file changed, 24 insertions(+), 1 deletion(-)

commit 7213d428d58a9c504625acd3cd6efd372ea9aa7c
Author: Aurimas Černius <aurisc4@gmail.com>
Date:   Sat Jan 26 20:06:56 2013 +0200

    Updated Lithuanian translation

 po/lt.po | 253
 +++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 148 insertions(+), 105 deletions(-)

commit a3427b558e11f66c2581dc2ad346c1073752a8f0
Author: Gheyret Kenji <gheyret@gmail.com>
Date:   Sat Jan 26 10:11:32 2013 +0900

    Updated Uyghur translation

    Signed-off-by: Gheyret Kenji <gheyret@gmail.com>

 po/ug.po | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a6b72155a16eecb81909c44829d09efbb3ea8599
Author: Gheyret Kenji <gheyret@gmail.com>
Date:   Sat Jan 26 10:09:06 2013 +0900

    Updated Uyghur translation

    Signed-off-by: Gheyret Kenji <gheyret@gmail.com>

 po/ug.po | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3045cf5be19e237392907af0db85e99bedd14311
Author: Gheyret Kenji <gheyret@gmail.com>
Date:   Sat Jan 26 10:06:46 2013 +0900

    Updated Uyghur translation

    Signed-off-by: Gheyret Kenji <gheyret@gmail.com>

 po/ug.po | 207
 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 106 insertions(+), 101 deletions(-)

commit 5ffdeac6899925871da0d32aa5643fed5c2cb954
Author: Nuno Araujo <nuno.araujo@russo79.com>
Date:   Mon Jan 21 13:00:41 2013 +0100

    build: Don't use make functions for defining TESTS

    Usage of 'make' functions in the definition of TESTS special variable
    can lead to the creation of a corrupt Makefile.in, thus a corrupt
    Makefile.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=692122

 NEWS                        |  1 +
 tests/telepathy/Makefile.am | 22 ++++++++++++----------
 2 files changed, 13 insertions(+), 10 deletions(-)

commit ba27614f4dbe7e56bed92695d177f804bc8fe4c9
Author: Gheyret Kenji <gheyret@gmail.com>
Date:   Sun Jan 20 11:49:25 2013 +0900

    Uyghur translation added

    Signed-off-by: Gheyret Kenji <gheyret@gmail.com>

 po/LINGUAS |   1 +
 po/ug.po   | 674
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 675 insertions(+)

commit ebc4c0cb4b29459bfa540d639c871f681207ab1a
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:   Fri Jan 18 11:41:46 2013 +0100

    Updated Serbian translation

 po/sr.po       | 160
 ++++++++++++++++++++++++++++++---------------------------
 po/sr@latin.po | 160
 ++++++++++++++++++++++++++++++---------------------------
 2 files changed, 168 insertions(+), 152 deletions(-)

commit 5b0fe0f2cd80f01023baae89decc681ccae6a4ca
Author: Daiki Ueno <ueno@unixuser.org>
Date:   Thu Jan 17 15:02:36 2013 +0900

    Don't rebuild docs on every "make" run.

    Create timestamp files to avoid redundant valadoc invocation.

    https://bugzilla.gnome.org/show_bug.cgi?id=691923

 NEWS             |  1 +
 docs/Makefile.am | 52
 ++++++++++++++++++++++++++++++++--------------------
 2 files changed, 33 insertions(+), 20 deletions(-)

commit 321927a49b34febe9d6a995cb0f1839c3f5fff68
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Sun Jan 6 22:27:27 2013 -0800

    Bug 691382 — Restore tests disabled by bug #668415 (which has
    been fixed)

    This ports the store-removed test to the current EDS introspection
    bindings
    and removes the change-primary-store test on the basis that we
    don't really
    support clients changing the primary store.

    In the future, we may want to add a test to ensure we cope with
    the primary
    store disappearing, but that's a different case.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=691382

 NEWS                                |   1 +
 tests/eds/Makefile.am               |  25 ++----
 tests/eds/change-primary-store.vala | 146
 ------------------------------------
 tests/eds/store-removed.vala        |  20 ++---
 tests/lib/eds/backend.vala          |   5 +-
 5 files changed, 16 insertions(+), 181 deletions(-)

commit a39f2b2e9d20342db9650c432e0b708a50c42de7
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Dec 30 18:53:08 2012 +0000

    Bug 686695 — support nickname in add_persona_from_details

    Support nicknames in add_persona_from_details() in the EDS
    backend. This
    adds a test case (which passes).

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=686695

 NEWS                                     |  1 +
 backends/eds/lib/edsf-persona-store.vala | 12 ++++++++++++
 tests/eds/add-persona.vala               | 15 +++++++++++++++
 3 files changed, 28 insertions(+)

commit c07a733a1c9e1e1ad3ce7d3609aa464680c9cf35
Author: Alexander Shopov <ash@kambanaria.org>
Date:   Wed Jan 9 07:10:55 2013 +0200

    Updated Bulgarian translation

 po/bg.po | 166
 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 85 insertions(+), 81 deletions(-)

commit 0dd391e42e05c3aee0e312a30f7040c6d5f6f25b
Author: Dušan Kazik <prescott66@gmail.com>
Date:   Tue Jan 8 21:53:20 2013 +0100

    Updated slovak translation

 po/sk.po | 213
 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 104 insertions(+), 109 deletions(-)

commit 81d2d6730eb47ab2b87bdd2138a378aac9f853a1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Fri Jan 4 18:02:15 2013 -0800

    Bug 691167 — Build failure: key-file tests built before dependencies

    This fixes a regression from 96c51fe585b which built the key-file
    tests
    before the libraries they depended upon (breaking the build).

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=691167

 NEWS              | 1 +
 tests/Makefile.am | 4 +++-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit ff6bec4f823587f9821827f396492a3fefd823f9
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Sat Jan 5 17:11:42 2013 -0800

    Bug 690876 — eds: fix various test failures

    Note bug fixed by the last several commits

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=690876

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit 9fea7b641ac1d470200677c11baf0e10d6c4ca4d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Fri Jan 4 15:15:57 2013 -0800

    eds test: don't assume Individuals remain after changing a linkable
    property

 tests/eds/set-emails.vala | 29 ++++++++++++++++-------------
 1 file changed, 16 insertions(+), 13 deletions(-)

commit 0e8f8f23b9502c0582d5fa1a4d815d4da0c5a43f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Thu Jan 3 22:23:04 2013 -0800

    eds test: create a new address book for each test to avoid inheriting
    state

    This fixes a bug where the second anti-linking test would fail if
    it ran
    after the first.

 tests/eds/anti-linking.vala  | 18 +++++++++++++-----
 tests/eds/link-personas.vala |  3 ++-
 2 files changed, 15 insertions(+), 6 deletions(-)

commit 9de55174d7a7b4fa9dfbddc60e5490e27542acf0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Thu Jan 3 21:55:19 2013 -0800

    eds test: ensure basic anti-link removal works

 tests/eds/anti-linking.vala | 184
 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 184 insertions(+)

commit 3c269c3f4c10734b0f848f32f40074417d6cac78
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Thu Jan 3 09:42:57 2013 -0800

    eds test: add basic anti-linking test

 tests/eds/Makefile.am       |   5 ++
 tests/eds/anti-linking.vala | 202
 ++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 207 insertions(+)

commit 9d6f5c89444c511c3c5e7f15089ab76d07d0b00f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Wed Jan 2 16:42:38 2013 -0800

    eds test: remove unnecessarily-strict test for extra Individual
    add/remove

    Ideally, we should be able to fulfill this test, but it's probably
    not worth
    the extra code complexity.

 tests/eds/linkable-properties.vala | 109
 -------------------------------------
 1 file changed, 109 deletions(-)

commit 8feed754cad27ad751fc1c6e569ec7de697443bc
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Sun Dec 30 12:17:21 2012 -0800

    eds test: support setting email addresses in test backend

 tests/lib/eds/backend.vala | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 597c93ff6bc5202c10ab6a543f272edd323ba840
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Sun Dec 30 12:10:47 2012 -0800

    eds test: rename _parse_addrs to _parse_im_addrs for specificity.

 tests/lib/eds/backend.vala | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit de4dc1a33468ff5e0a9b0a5fbd88495452806932
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Sun Dec 30 12:08:49 2012 -0800

    eds test: ensure changes to linkable properties aggregate Personas
    together

 tests/eds/linkable-properties.vala | 177
 +++++++++++++++++++++++++++++++++++++
 1 file changed, 177 insertions(+)

commit 01263791d2f827dd7f07cd3451441a26f01b36b2
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Sat Dec 29 18:43:22 2012 -0800

    eds test: create a new address book for each test to avoid inheriting
    state

    This fixes a bug where the web services linking test would fail if
    it ran
    after the im address linking test.

 tests/eds/link-personas.vala | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 7638419cc279f36886434344f391ca39b374a6a4
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Fri Dec 28 09:31:57 2012 -0800

    eds test: add test for specific behavior of linkable properties

    This splits out a subtle and complicated linkable-properties bug
    discovered
    by the set-emails test where changing the emails (which happen to be a
    linkable property in the EDS backend) causes an unnecessary
    Edsf.Persona
    creation and removal cycle.

    The set-* tests are meant to confirm that reading and writing
    the given
    property works, so seperating this should let us simplify those tests
    slightly yet focus on the secondary details we care about in a
    specific test
    case.

 tests/eds/Makefile.am              |   5 ++
 tests/eds/linkable-properties.vala | 175
 +++++++++++++++++++++++++++++++++++++
 tests/eds/set-emails.vala          |   8 --
 3 files changed, 180 insertions(+), 8 deletions(-)

commit 70adbe45ba9ba859ea083e95478770d55ba82b07
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Thu Jan 3 11:18:35 2013 +0000

    HACKING: Update documentation for running single tests

 HACKING | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit e3458da97be361570872f591b42e8bc51e847374
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Thu Jan 3 11:04:11 2013 +0000

    build: Rewrite valgrind.mk to use GNU Make conditionals

    This means we’re not overwriting rules and potentially changing
    their
    prerequisites. Incorrectly overwriting check-* rules was causing
    tests to
    be run twice in the tests/folks directory.

    See: https://bugzilla.gnome.org/show_bug.cgi?id=690990

 NEWS        |  1 +
 valgrind.mk | 33 +++++++++++++++------------------
 2 files changed, 16 insertions(+), 18 deletions(-)

commit 438bf3645cddd0613a67f9eedf74433f7430d964
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Thu Jan 3 10:40:04 2013 +0000

    build: Fix cleaning of .stamp files in EDS tests directory

 tests/eds/Makefile.am | 34 +++-------------------------------
 1 file changed, 3 insertions(+), 31 deletions(-)

commit 96c51fe585b90e4d8b5792b286cc0236433c20b4
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Thu Jan 3 10:35:03 2013 +0000

    build: Tidy up test Makefiles a little

 tests/Makefile.am      | 42 +++++++++++++++---------------------------
 tests/data/Makefile.am |  1 +
 2 files changed, 16 insertions(+), 27 deletions(-)

commit 562add03a72c9a97764700f9d438a1e81b89974a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jan 2 10:33:59 2013 +0100

    HACKING: document how to run a single test

    https://bugzilla.gnome.org/show_bug.cgi?id=690990

 HACKING      | 6 ++++++
 tests/README | 1 +
 2 files changed, 7 insertions(+)

commit 514fd75eb19d7590fc056eabe16a2a739a6c1894
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Wed Jan 2 16:01:18 2013 +0000

    build: Update valgrind.mk to match automake-generated ‘check’ rule

    The dependencies and chained rule were wrong. Not that it seems to
    make much difference.

 valgrind.mk | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 9ddf50ae8b3042cea6fb7d060c16e68231783c07
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Wed Jan 2 15:35:02 2013 +0000

    Bug 690989 — "warning: copying delegates is discouraged"

    Fix a warning introduced by commit
    7088fbafafd3e75f02266aa8b093d69660311b36.
    Whoops.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=690989

 NEWS                                   | 1 +
 backends/telepathy/lib/tpf-logger.vala | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit c3257f777072b0d83e6cd5bc4e1a30b317414721
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Tue Jan 1 17:45:22 2013 +0000

    build: Add a missing bracket in configure.ac

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 31d03d25c1031dede3f83ac98f0b6ba119ed0fbd
Author: Balázs Úr <urbalazs@src.gnome.org>
Date:   Mon Dec 31 18:59:21 2012 +0100

    Updated Hungarian translation

 po/hu.po | 178
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 96 insertions(+), 82 deletions(-)

commit 7088fbafafd3e75f02266aa8b093d69660311b36
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Dec 30 22:41:59 2012 +0000

    telepathy: Call continuations in idle callbacks rather than directly

    The continuations will proceed to a g_simple_async_result_complete()
    call,
    rather than a g_simple_async_result_complete_in_idle() call as
    I expected
    (and didn’t check). This could result in the first continuation
    executing
    a lot of code and starving the other continuations (and the original
    prepare() call). By delaying the continuations to the idle queue, the
    original prepare() call is guaranteed to finish first. Then the
    continuations can only starve each other.

    See: https://bugzilla.gnome.org/show_bug.cgi?id=677633

 backends/telepathy/lib/tpf-logger.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b3a39598abb3e253541c05c09aa3be43b6a30d74
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Dec 30 00:52:36 2012 +0000

    individual-aggregator: Fix some debug spew

 folks/individual-aggregator.vala | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit e21932e8d233f68e0b065882eb06b15089a2935a
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Dec 30 00:48:38 2012 +0000

    documentation: Document which yielding methods are safe to call
    concurrently

    This is a follow-up commit to
    ce55fa2bf2f5f8cf95532da585d835bafeeb3347.
    I went through all methods in folks which yield to another async
    method,
    and tried to work out whether the caller was safe to run multiple
    times
    concurrently (e.g. begin a second asynchronous call to it between
    a previous
    async call beginning and finishing).

    I’ve marked all such methods as safe (or not safe) as appropriate. I
    haven’t made any attempt to make the unsafe methods safe, except
    in one
    case in backend-store.vala.

 backends/eds/lib/edsf-persona-store.vala         |  4 +-
 backends/key-file/kf-persona-store.vala          |  2 +
 backends/libsocialweb/lib/swf-persona-store.vala |  4 ++
 backends/telepathy/lib/tpf-persona-store.vala    | 13 ++++++
 backends/tracker/lib/trf-persona-store.vala      | 58
 +++++++++++++++++++++++-
 folks/anti-linkable.vala                         |  6 +++
 folks/avatar-cache.vala                          |  8 ++++
 folks/backend-store.vala                         | 32 ++++++++++++-
 folks/individual-aggregator.vala                 | 21 +++++++++
 folks/object-cache.vala                          |  5 ++
 10 files changed, 149 insertions(+), 4 deletions(-)

commit bf25b9b6031d65569eb87836325793637b1ddec1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 28 15:11:25 2012 +0100

    phone-details: get_normalised: keep the leading '+'

    It's needed to be able to call phone numbers containing an
    international
    prefix.

    https://bugzilla.gnome.org/show_bug.cgi?id=685992

 NEWS                     |  2 ++
 folks/phone-details.vala | 11 +++--------
 2 files changed, 5 insertions(+), 8 deletions(-)

commit 0084852e8dd1164fa270ff42c75f7973fe7670b0
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   Sat Dec 29 11:39:26 2012 +0200

    Updated Hebrew translation.

 po/he.po | 431
 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 237 insertions(+), 194 deletions(-)

commit ce55fa2bf2f5f8cf95532da585d835bafeeb3347
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Fri Dec 28 13:47:50 2012 +0000

    telepathy: Yield subsequent Logger.prepare() calls if one is pending

    If one PersonaStore began to prepare its Logger, then yielded on
    a D-Bus
    call, another PersonaStore could begin to prepare its Logger and also
    try to create a static D-Bus proxy (which is only supposed to
    be created
    once). This is because the original async call hasn’t returned
    and set
    Logger._logger by that point.

    Fix this by keeping a queue of pending prepare() calls which is
    signalled
    by the initial prepare() call once it finishes yielding.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=677633

 NEWS                                   |  1 +
 backends/telepathy/lib/tpf-logger.vala | 47
 +++++++++++++++++++++++++++++-----
 2 files changed, 42 insertions(+), 6 deletions(-)

commit ce34130ce81d893ee1ad345a8eceb0c0e3a153d9
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Fri Dec 28 13:12:54 2012 +0000

    telepathy: Remove Logger.prepare() return value

    It’s unused. It’s private. It’s a waste of code.

 backends/telepathy/lib/tpf-logger.vala | 9 ++-------
 1 file changed, 2 insertions(+), 7 deletions(-)

commit 1c05da23af561d5a7bed9ab227d0beefb2f40514
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Fri Dec 28 12:50:35 2012 +0000

    telepathy: Fix bus watching by multiple Tpf.PersonaStore instances

    The bus needs to be watched by all Tpf.PersonaStores which are
    connected to
    the Logger instance, so that they all get the ‘invalidated’
    signal.

 backends/telepathy/lib/tpf-logger.vala | 11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 30c4ca658eb3e4272c6f7ea60ab6932f5b9331a8
Author: Dimitris Spingos <dmtrs32@gmail.com>
Date:   Mon Dec 24 17:07:45 2012 +0200

    Updated Greek translation

 po/el.po | 163
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 85 insertions(+), 78 deletions(-)

commit 74afd2dd9e249915aba51c30f7a15728f3c89382
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   Sun Dec 23 04:24:22 2012 +0100

    Updated Galician translations

 po/gl.po | 156
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 82 insertions(+), 74 deletions(-)

commit 87f79108dfb25743066211d44eb93f736ca4db2e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Mon Dec 17 22:41:35 2012 -0800

    eds test: Use the same birthday for the test individual and expected
    value.

 tests/eds/add-persona.vala  | 2 +-
 tests/eds/set-birthday.vala | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 7ca12665919c89646cba1f677e2b948369c058a0
Author: Shantha kumar <shkumar@redhat.com>
Date:   Tue Dec 18 15:27:27 2012 +0530

    Tamil translation updated

 po/ta.po | 19 ++++++++-----------
 1 file changed, 8 insertions(+), 11 deletions(-)

commit 6fc7de1c1ed9c6dd783f36b8cd8c0009eb08e10d
Author: Shantha kumar <shkumar@redhat.com>
Date:   Tue Dec 18 15:21:48 2012 +0530

    Tamil Translation updated

 po/ta.po | 200
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 104 insertions(+), 96 deletions(-)

commit 883e0086a1082dc7d002d1b2e2a5a9a3e5f2b7ae
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Sun Dec 16 20:46:52 2012 +0100

    Updated Spanish translation

 po/es.po | 176
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 94 insertions(+), 82 deletions(-)

commit 8c4ec62519981e604c2da6bbfbc2bc0f89ea2bbd
Author: Patrick Ohly <patrick.ohly@intel.com>
Date:   Fri Dec 7 19:07:17 2012 +0100

    folks.pc: remove telepathy-glib

    Apps linking against just folks core libraries do not need
    telepathy. Always including it as it was done before leads to a
    folks.pc which is unusuable unless Telepathy is installed, which
    partly defeats the purpose of --disable-telepathy-backend.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=689859

 NEWS              | 1 +
 folks/folks.pc.in | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 4cf5ab69e98cf9e39f81a6765974ad7d73ea77f6
Author: Patrick Ohly <patrick.ohly@intel.com>
Date:   Wed Dec 5 15:57:21 2012 +0100

    eds: handle removal of store without removal of personas

    The assumption in the IndividualAggregator that all backends remove
    their personas before removing a store did not hold for the EDS
    backend when stores were removed via set_persona_stores() or
    disable_store().

    Fixing that in EDS is tricky, so better make the IndividualAggregator
    more resilient and remove any remaining personas when the store gets
    removed.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=689146

 NEWS                             |  1 +
 folks/individual-aggregator.vala | 21 ++++++++++++++++++---
 2 files changed, 19 insertions(+), 3 deletions(-)

commit 7c0f8f946c55f5adf229ca820e4fe68b296f9aa1
Author: Takayuki KUSANO <AE5T-KSN@asahi-net.or.jp>
Date:   Sat Dec 1 22:52:39 2012 +0900

    [l10n] Update Japanese translation

 po/ja.po | 154
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 81 insertions(+), 73 deletions(-)

commit eddbbccd7bc26660bf82c0966f566cc4d31723dd
Author: Dušan Kazik <prescott66@gmail.com>
Date:   Fri Nov 30 23:23:40 2012 +0100

    Added slovak translation

 po/LINGUAS |   1 +
 po/sk.po   | 735
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 736 insertions(+)

commit 9d00f4e99517b15ddb9bd812856854d706d221ab
Author: Krishnababu Krothapalli <kkrothap@redhat.com>
Date:   Wed Nov 28 15:53:29 2012 +0530

    Updated Telugu Translations

 po/te.po | 695
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 695 insertions(+)

commit 50208e73ff850e2438f39f7e94fa4bf5b11d6f1d
Author: Krishnababu Krothapalli <kkrothap@redhat.com>
Date:   Wed Nov 28 15:48:57 2012 +0530

    Updated Telugu Translations

 po/LINGUAS | 1 +
 1 file changed, 1 insertion(+)

commit 5f5db24c78d5f67cabf95a1a0b91de4d9a6f463c
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   Tue Nov 27 17:09:20 2012 +0100

    Updated Polish translation

 po/pl.po | 154
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 81 insertions(+), 73 deletions(-)

commit 2d095f9dc410bdb37587ecec808bf107e80f6c9f
Author: Ani Peter <apeter@redhat.com>
Date:   Tue Nov 27 12:14:44 2012 +0530

    Updated Malayalam translations

 po/ml.po | 194
 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 100 insertions(+), 94 deletions(-)

commit 0338f137af249ffdf4e7a28630a95e0e21afcaf4
Author: Patrick Ohly <patrick.ohly@intel.com>
Date:   Fri Nov 23 10:08:31 2012 +0100

    eds: remove urls

    URLs which are represented by EContact fields cannot be removed. When
    setting UrlFieldDetails, the _set_contact_urls method must remove
    X-EVOLUTION-BLOG-URL, X-EVOLUTION-VIDEO-URL, FBURL and URL in addition
    to X-URIS, which was already removed before setting the new set of
    values.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=688923

 NEWS                                     | 1 +
 backends/eds/lib/edsf-persona-store.vala | 4 ++++
 2 files changed, 5 insertions(+)

commit 0ee2a7b74e4a2aabce1b8b48acba013eee56037e
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sat Nov 24 13:01:23 2012 +0000

    eds: Fix some syntax errors in documentation comments

 backends/eds/lib/edsf-persona-store.vala | 5 +++--
 backends/eds/lib/edsf-persona.vala       | 4 ++--
 2 files changed, 5 insertions(+), 4 deletions(-)

commit 90b514025017db3465bdce60ca80f56927743aa1
Author: Patrick Ohly <patrick.ohly@intel.com>
Date:   Fri Nov 23 15:06:58 2012 +0100

    individual: avoid updating in get

    Properties with delayed loading always went through an update check
    each time the property was read. This slowed down reading
    unnecessarily, because constructing the value is costly and necessary
    updates are already dealt with via notifications.

    Fixed by introducing a new parameter "force_update" which is true
    by default (= same behavior as before) and false when used inside
    get().

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=688834

 NEWS                  |  1 +
 folks/individual.vala | 82
 +++++++++++++++++++++++++++++++--------------------
 2 files changed, 51 insertions(+), 32 deletions(-)

commit 7fd2ec2764d342ede63c78e3fb4f0281dfb2676f
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sat Nov 24 12:48:33 2012 +0000

    individual-aggregator: Fix a typo in a documentation comment

 folks/individual-aggregator.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9277eb14ee4a7dbdc87406e91ae2445816dda09c
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Oct 22 19:09:08 2012 -0600

    lsw: Add enable|disable_persona_store api to libsocialweb backend.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=686673

 NEWS                                  |   2 +
 backends/libsocialweb/sw-backend.vala | 121
 +++++++++++++++++++++++++++++++---
 2 files changed, 114 insertions(+), 9 deletions(-)

commit 3d91cf25b5032125d54a9995067b54fd7f9af30c
Author: Rajesh Ranjan <rranjan@redhat.com>
Date:   Fri Nov 23 13:52:38 2012 +0530

    hindi translation update

 po/hi.po | 159
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 84 insertions(+), 75 deletions(-)

commit 8a987af200dbe1950750c077bd0a66039f3899e6
Author: Nilamdyuti Goswami <ngoswami@redhat.com>
Date:   Thu Nov 22 19:53:03 2012 +0530

    Assamese translation updated

 po/as.po | 196
 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 108 insertions(+), 88 deletions(-)

commit a9b993723d235dcd2c4eb942af7fbf6bbe00d0dc
Author: Runa Bhattacharjee <runab@redhat.com>
Date:   Wed Nov 21 20:52:20 2012 +0530

    Added Bengali India to the list of languages

 po/LINGUAS | 1 +
 1 file changed, 1 insertion(+)

commit 9c5013d9c71f93b013520ac2fb70c96e312cd54a
Author: Runa Bhattacharjee <runab@redhat.com>
Date:   Wed Nov 21 20:52:09 2012 +0530

    Added Bengali India Translation

 po/bn_IN.po | 714
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 714 insertions(+)

commit 20a427d3faef892edb0a982dc19ccf99f8d16968
Author: ManojKumar Giri <mgiri@redhat.com>
Date:   Fri Nov 9 18:04:25 2012 +0530

    Updated Odia Translation with FUEL implementation.

 po/or.po | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 43c5a649ab7440d1d8b14ceca329a0bf8d96251c
Author: ManojKumar Giri <mgiri@redhat.com>
Date:   Fri Nov 9 17:58:57 2012 +0530

    Added Odia language into the list.

 po/LINGUAS | 1 +
 1 file changed, 1 insertion(+)

commit f5306712fa0ddf577cb089812f64c522aad31962
Author: ManojKumar Giri <mgiri@redhat.com>
Date:   Fri Nov 9 17:58:29 2012 +0530

    Updated Odia Translation with FUEL implementation.

 po/or.po | 715
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 715 insertions(+)

commit cf2b24c00d9074fc4c881069d4d12438c2b6f14a
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   Tue Nov 6 19:57:10 2012 +0100

    Updated Slovenian translation

 po/sl.po | 158
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 83 insertions(+), 75 deletions(-)

commit 54637faebfb029937325d601bc89180ac2519a41
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Nov 6 11:39:25 2012 -0700

    Add bug fix to NEWS file.

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit 49760b614f3dd0202146717765cc67a707cbd473
Author: Giovanni Campagna <gcampagna@src.gnome.org>
Date:   Sat Oct 20 16:34:04 2012 +0200

    eds: expose Google system groups in the public API

    This will allow gnome-contacts to change it directly (to switch
    a contact
    from My Contacts to Other and back)

    https://bugzilla.gnome.org/show_bug.cgi?id=687050

 backends/eds/lib/edsf-persona-store.vala |  35 ++++++
 backends/eds/lib/edsf-persona.vala       | 194
 ++++++++++++++++++++++++++-----
 2 files changed, 200 insertions(+), 29 deletions(-)

commit 742e26cdff4536e50f31a885197c73bb00d69026
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Oct 29 16:26:21 2012 -0600

    eds: Put email_addresses_ro back into Edsf.Persona.
    eds: Remove extra whitespace.

 backends/eds/lib/edsf-persona.vala | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 43bfcd07477ddf013c795c3f16f8d3d4609dda49
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Oct 29 14:53:23 2012 -0600

    From Patrick Ohly <patrick.ohly@intel.com>
    Like instant messaging handles, email addresses can be assumed to be
    unique for individuals. Therefore they can be used for linking by
    default. This commit enables that in the EDS backend.

    With email addresses being a linkable property, delaying loading of
    them no longer makes sense because they will always be loaded.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=685401

 NEWS                               |  1 +
 backends/eds/lib/edsf-persona.vala | 49
 +++++++++++++-------------------------
 2 files changed, 17 insertions(+), 33 deletions(-)

commit e804cb24d87a5a190d83d8450861f06fa2211592
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Oct 26 14:21:09 2012 -0600

    From Patrick Ohly <patrick.ohly@intel.com>

    Reading converts from date-only to local time to UTC. Writing must do
    the same conversion. Conversion from UTC to local time was missing,
    therefore the date may have gotten shifted by a day (depending on the
    local time zone).

    This commit intentionally does not cache the local time zone (like
    reading does), because this is a bit ugly and the assumption is that
    writing occurs a lot less often than reading.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=686693

 NEWS                                     | 1 +
 backends/eds/lib/edsf-persona-store.vala | 7 ++++---
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 2d615f11c5ee19d7f8743d39f44333200b8b57c7
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Oct 26 14:15:53 2012 -0600

    Fix build broken by zeitgeist optional bugfix.

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8e471c274b7ef225e5e5508dcd462eab9c375e39
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Oct 26 11:11:06 2012 -0600

    Add fix of 686506 to NEWS

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit c893ae90f7d546786975245e09288f5d219c9816
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Oct 22 19:08:28 2012 -0600

    tracker: Add enable|disable_persona_store implementation to tracker
    backend.
    core: Remove trailing whitespace in folks/backend.vala

 NEWS                             |  1 +
 backends/tracker/tr-backend.vala | 65
 ++++++++++++++++++++++++++++++++++++++--
 folks/backend.vala               | 12 ++++----
 3 files changed, 70 insertions(+), 8 deletions(-)

commit a832876c996e41d0872240a4399b1e0365436d60
Author: Matthias Clasen <mclasen@redhat.com>
Date:   Tue Oct 23 12:22:12 2012 -0400

    Make zeitgeist optional again

    This commit makes folks build without zeitgeist again.

 backends/telepathy/lib/Makefile.am            |  3 ++-
 backends/telepathy/lib/tpf-persona-store.vala |  9 +++++++++
 backends/telepathy/lib/tpf-persona.vala       |  4 ++++
 configure.ac                                  | 14 ++++++++++++--
 4 files changed, 27 insertions(+), 3 deletions(-)

commit 4b7db8692d58d8627805f4c45a1c2e885b46653c
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Oct 21 12:24:10 2012 +0100

    Bug 685250 — make <test>.gdb deadlocks

    Always set CHECK_VERBOSE when running tests under gdb so that output
    (from
    gdb) isn’t redirected to a log file. Apparently, headless gdb is
    hard to
    use.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=685250

 NEWS                        | 1 +
 check.mk                    | 1 +
 tests/tools/execute-test.sh | 4 +++-
 3 files changed, 5 insertions(+), 1 deletion(-)

commit e177ff3b14eb255a5b7ec4e0c015b44d4e0dd6fc
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Wed Oct 17 16:17:00 2012 -0600

    Add bugfix and new create|remove_address_book API to NEWS.

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit 11b13fc8c2827c1e39843d26e331c266a3e7ee64
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Oct 15 15:23:04 2012 -0600

    eds: Add create_address_book and remove_address_book to
    Edsf.PersonaStore.
    eds: Add create-remove-stores unit test.

 backends/eds/lib/edsf-persona-store.vala |  52 +++++++++
 tests/eds/Makefile.am                    |   5 +
 tests/eds/create-remove-stores.vala      | 176
 +++++++++++++++++++++++++++++++
 3 files changed, 233 insertions(+)

commit e3b3c1ce64f380053654495ebf36543d55736732
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Wed Oct 10 16:29:48 2012 -0600

    Add Ofono backend to NEWS file.

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit e82b632f96ea49bd55f28228de4729bc64fb57b9
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Sep 28 15:13:39 2012 -0600

    ofono: Added new Ofono backend to read contacts from SIM cards.

 backends/Makefile.am                      |   4 +
 backends/ofono/Makefile.am                |  73 +++++++
 backends/ofono/ofono-backend-factory.vala |  71 +++++++
 backends/ofono/ofono-backend.vala         | 338
 ++++++++++++++++++++++++++++++
 backends/ofono/ofono-persona-store.vala   | 291 +++++++++++++++++++++++++
 backends/ofono/ofono-persona.vala         | 230 ++++++++++++++++++++
 backends/ofono/org-ofono.vala             |  59 ++++++
 configure.ac                              |  33 +++
 8 files changed, 1099 insertions(+)

commit b8c02c39cf970a26f01305c5791b15fca659f11c
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Wed Oct 3 15:15:21 2012 -0600

    telepathy: Implement set_persona_stores backend method.

 backends/telepathy/tp-backend.vala | 49
 +++++++++++++++++++++++++++++++++++++-
 1 file changed, 48 insertions(+), 1 deletion(-)

commit 7fc302f179806ecb3f3af99aa40b189b2981fd4e
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Oct 2 15:37:54 2012 -0600

    eds: if set given to set_persona_stores is null, load any missing
    stores.

 backends/eds/eds-backend.vala | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 2b60bba2da340fc3fc2faef98e1c1c9a34ed0f1c
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Sat Sep 29 10:52:50 2012 -0600

    Add new api to NEWS file.

 NEWS | 4 ++++
 1 file changed, 4 insertions(+)

commit b4bff64ef78de9875bb426569d6024b2a6af82a0
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Wed Sep 26 15:35:54 2012 -0600

    telepathy: Add enable_persona_store and disable_persona_store to
    telepathy backend.
    telepathy: Add empty set_persona_stores to telepathy backend.

 backends/telepathy/tp-backend.vala | 57
 ++++++++++++++++++++++++++++++++++----
 1 file changed, 51 insertions(+), 6 deletions(-)

commit 0ffb154fa48282484fef6776f9435c41cbe149aa
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Wed Sep 26 15:35:02 2012 -0600

    keyfile: Add enable/disable_persona_store to keyfile backend.
    keyfile: Add set_persona_stores to keyfile backend.

 backends/key-file/kf-backend.vala | 129
 ++++++++++++++++++++++++++++++++++----
 1 file changed, 116 insertions(+), 13 deletions(-)

commit 7313ef0f6889a5fe7c02814513bfa55ff7dfd59a
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Sep 24 12:17:21 2012 -0600

    eds: Add test for disabling and enabling persona stores.

 backends/eds/eds-backend.vala        |   3 +-
 tests/eds/Makefile.am                |   5 +
 tests/eds/enable-disable-stores.vala | 191
 +++++++++++++++++++++++++++++++++++
 3 files changed, 198 insertions(+), 1 deletion(-)

commit 1ec098125b13f75056f9718a8b7bfea590c11f79
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Sep 21 18:21:05 2012 -0600

    core: Add set_persona_stores method to Backend.
    eds: Implement set_persona_stores in eds backend.

 backends/eds/eds-backend.vala | 90
 ++++++++++++++++++++++++++++++++++++++-----
 folks/backend.vala            | 18 +++++++++
 2 files changed, 99 insertions(+), 9 deletions(-)

commit 81a1d481f1df91afab9a012396960fc6afb1b75d
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Sep 20 13:59:54 2012 -0600

    core: Add disable_persona_store and enable_persona_store API to
    backend
    eds: Implement new API in eds backend

 backends/eds/eds-backend.vala | 34 ++++++++++++++++++++++++++++------
 folks/backend.vala            | 26 ++++++++++++++++++++++++++
 2 files changed, 54 insertions(+), 6 deletions(-)

commit e1e5c8177e9d2910cb18b9298c42aa6dffb2ec87
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Sep 14 15:34:08 2012 -0600

    core: Add method to create IndividualAggregator passing in a
    BackendStore.

 folks/individual-aggregator.vala | 26 ++++++++++++++++++++++----
 1 file changed, 22 insertions(+), 4 deletions(-)

commit b5e9f24cb777f2f96dd759a50948a234e023d77f
Author: Alexander Shopov <ash@kambanaria.org>
Date:   Wed Oct 10 10:01:46 2012 +0300

    Updated Bulgarian translation

 po/LINGUAS |   1 +
 po/bg.po   | 725
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 726 insertions(+)

commit e449ea73c3f4bda3a3da955305384899e4f95dcc
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Thu Oct 4 08:59:00 2012 +0100

    Post-release version bump

 NEWS         | 11 +++++++++++
 configure.ac |  4 ++--
 2 files changed, 13 insertions(+), 2 deletions(-)

commit dff09ede2973a7d31527f70cea61aacbedcc6adb
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Thu Oct 4 08:55:47 2012 +0100

    Release version 0.8.0

 NEWS         |  8 ++++++--
 configure.ac | 10 +++++-----
 2 files changed, 11 insertions(+), 7 deletions(-)

commit fe0924d063d03637331fefe39cbb8b024342ed44
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Thu Oct 4 08:30:25 2012 +0100

    core: Fix comparison of updated local IDs

    We should be comparing a set of strings, not a set of
    AbstractFieldDetails.
    This fixes a crash in the link-personas-via-local-ids Tracker test.

 folks/individual.vala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 43d690d0aa4ceb6702cc179c5f75d10bcfeb8f72
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Thu Oct 4 00:50:38 2012 +0100

    tests: Fix creation/deletion of E.Sources in EDS test backend

    The E.Sources for testing were being created by calling `cp` in
    the wrapper
    script running around the entire test suite. However, each test
    case was
    tearing down the E.Sources by deleting them. This meant that no
    E.Source
    existed for anything except the first test case in a given test suite.

    The fix is to move the file copying inside the test suite’s
    setup method.

 tests/lib/eds/backend.vala | 59
 +++++++++++++++++++++++++++++++++++++++-------
 tests/tools/Makefile.am    |  2 --
 tests/tools/eds.sh         |  2 --
 tests/tools/other.source   |  6 -----
 tests/tools/test.source    |  6 -----
 5 files changed, 51 insertions(+), 24 deletions(-)

commit 7c0ad68e75c5ab98abe348ce51b9479ce5ff6074
Author: Marc-Antoine Perennou <Marc-Antoine@Perennou.com>
Date:   Tue Oct 2 22:33:31 2012 +0200

    build: fix disabling telepathy backend

    fixes 855803a62b3a89ddb3c6abd3fa316d80cd036baf

    Signed-off-by: Marc-Antoine Perennou <Marc-Antoine@Perennou.com>

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c6e7980430f5c9c3a43aad68aa6070300d3f90f1
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Fri Sep 28 18:27:27 2012 +0100

    Bug 684954 — Debug message claim that Individual are created with
    no personas

    Fix the debug message in the Individual constructor.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=684954

 NEWS                  | 1 +
 folks/individual.vala | 6 +++---
 2 files changed, 4 insertions(+), 3 deletions(-)

commit ee359e89f3332d2c8cb1bd29e8ea54e62798d65b
Author: Seif Lotfy <seif@lotfy.com>
Date:   Tue Sep 11 12:10:40 2012 +0200

    telepathy: Update behaviour of Zeitgeist properties

    Counter works for last 30 days instead of all time since it can
    mess up calculations easily.
    Reduce query size to Zeitgeist since events are filtered in the
    Persona class.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=672709 (again)

 NEWS                                          |  2 ++
 backends/telepathy/lib/tpf-persona-store.vala | 17 +++++++----------
 2 files changed, 9 insertions(+), 10 deletions(-)

commit 0f078082df220a2de767887d2050875612eea939
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sat Sep 8 23:32:32 2012 +0100

    telepathy: Always notify of persona changes when disconnecting

    This reverts commit af500a4bd9fe88ae9f3832a37e19a86a4273ba5d and
    applies
    a different fix. The problem was that persona changes could get
    away without
    being notified when disconnecting due to an account being
    disabled. This
    is because, after storing the cache, an additional check is
    performed for
    whether the account was enabled. If it is, the cache is loaded
    (and persona
    changes notified). If not, the cache is not loaded, *and persona
    changes
    were not notified*.

    This situation could occur when a Telepathy account is disabled:
     1. _notify_connection_cb() is called, but the TpAccount::enabled
     property
        is still true.
     2. While in store_cache(), the TpAccount::enabled property goes
     false.
     3. The check before load_cache() would fail, so load_cache()
     would never
        be called.

    Similarly, it could occur when a Telepathy account is removed, with
    TpAccountManager:account-removed being emitted while in store_cache().

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=683390

 NEWS                                          |  2 +
 backends/telepathy/lib/tpf-persona-store.vala | 58
 ++++++++++++++++++++-------
 2 files changed, 46 insertions(+), 14 deletions(-)

commit f18a7c8e60598395a473b741c3592ee69921dba6
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Sep 24 17:05:49 2012 +0100

    individual-aggregator: Clarify that is-quiescent never changes true
    → false

 folks/individual-aggregator.vala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 3f550e32be0fbe4f24db6f265ec16426dbca1842
Author: Nishio Futoshi <fut_nis@d3.dion.ne.jp>
Date:   Tue Sep 25 00:03:31 2012 +0900

    [l10n] Add Japanese translation

 po/LINGUAS |   1 +
 po/ja.po   | 670
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 671 insertions(+)

commit 4a243cfddb5b518f6b342ad615250133fc650547
Author: Rūdolfs Mazurs <rudolfsm@src.gnome.org>
Date:   Sun Sep 23 17:48:49 2012 +0300

    Updated Latvian translation

 po/lv.po | 220
 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 121 insertions(+), 99 deletions(-)

commit 1243f80b2a80ce7b9d24356ada53fa9817a9aa57
Author: Mario Blättermann <mario.blaettermann@gmail.com>
Date:   Sun Sep 23 13:13:00 2012 +0200

    [l10n] Updated German translation

 po/de.po | 63
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 33 insertions(+), 30 deletions(-)

commit ce47d339660c0216ad69da92a5a05dadf2243885
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:   Sun Sep 23 13:16:03 2012 +0300

    Updated Belarusian translation.

 po/be.po | 35 +++++++++++++++++++++--------------
 1 file changed, 21 insertions(+), 14 deletions(-)

commit 3c38d8b781e9cd34ed287588bf07c7b19ef3d4aa
Author: Ani Peter <apeter@redhat.com>
Date:   Thu Sep 20 21:53:20 2012 +0530

    Updated Malayalam file

 po/LINGUAS | 1 +
 1 file changed, 1 insertion(+)

commit 1285b0de17391e2fcad78a2cc653c5b101f40b7c
Author: Seong-ho Cho <darkcircle.0426@gmail.com>
Date:   Sun Sep 23 15:44:33 2012 +0900

    Updated Korean translation

 po/ko.po | 107
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 56 insertions(+), 51 deletions(-)

commit 6041e8eabeb418da2e578168fd6f78001390db41
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:   Sun Sep 23 00:56:12 2012 +0200

    [l10n]Added Catalan (Valencian) translation

 po/LINGUAS        |   1 +
 po/ca@valencia.po | 734
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 735 insertions(+)

commit bb92da91ea339c6fd4b54e2ca83c948c2a51ae4d
Author: Gil Forcada <gforcada@gnome.org>
Date:   Sun Sep 23 00:55:26 2012 +0200

    [l10n] Added Catalan translation

 po/LINGUAS |   1 +
 po/ca.po   | 735
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 736 insertions(+)

commit 7c57771050271705d06595f34ad08ab1ed71643f
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Fri Sep 21 15:19:46 2012 +0100

    individual: Clarify that Individuals must contain at least one Persona

 folks/individual.vala | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 4403eece60772f677bccf7ecc568e5781f03ce0b
Author: Shankar Prasad <svenkate@redhat.com>
Date:   Fri Sep 21 12:43:16 2012 +0530

    Updated kn translation

 po/kn.po | 83
 +++++++++++++++++++++++++++++++++++++++++++++-------------------
 1 file changed, 59 insertions(+), 24 deletions(-)

commit ef5b3706615861dfaa1fa6b11b5973fb1486152a
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   Thu Sep 20 15:14:31 2012 +0200

    Add hu to LINGUAS

 po/LINGUAS | 1 +
 1 file changed, 1 insertion(+)

commit f92ccc50a5c313a97d8dfc8e06d37775d5de3aca
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   Thu Sep 20 15:14:05 2012 +0200

    Added Hungarian translation

 po/hu.po | 704
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 704 insertions(+)

commit dc48930cec53673b0b703e40ceb113278d46f03c
Author: Rajesh Ranjan <rranjan@redhat.com>
Date:   Thu Sep 20 13:14:02 2012 +0530

    hindi updated file by Chandan Kumar

 po/hi.po | 196
 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 108 insertions(+), 88 deletions(-)

commit a1de0d7e8e412468edcdd0e7d7f9038326eb6aa2
Author: A S Alam <aalam@users.sf.net>
Date:   Wed Sep 19 20:21:38 2012 +0530

    update Punjabi Translation

 po/pa.po | 224
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 120 insertions(+), 104 deletions(-)

commit 668e7dd64cf830ea2815d8d72877ad1c6ec74beb
Author: Dr.T.Vasudevan <agnihot3@gmail.com>
Date:   Wed Sep 19 17:26:08 2012 +0530

    added Tamil translation

 po/ta.po | 232
 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 118 insertions(+), 114 deletions(-)

commit c886d2bb046c4545886f064a2dec7d89adfb58fd
Author: Dr.T.Vasudevan <agnihot3@gmail.com>
Date:   Wed Sep 19 17:13:48 2012 +0530

    Added ta translation

 po/LINGUAS | 1 +
 1 file changed, 1 insertion(+)

commit 6b9a5e2054b98443a344a0549c117268c2237a99
Author: Dr.T.Vasudevan <agnihot3@gmail.com>
Date:   Wed Sep 19 17:11:52 2012 +0530

    Updated Tamil translation

 po/ta.po | 697
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 697 insertions(+)

commit 1b87a4234ab245b85defbc9d506df144adf67a69
Author: Gianvito Cavasoli <gianvito@gmx.it>
Date:   Wed Sep 19 13:37:41 2012 +0200

    [l10n] Updated Italian translation.

 po/it.po | 511
 +++++++++++++++++++++++++--------------------------------------
 1 file changed, 206 insertions(+), 305 deletions(-)

commit 6e3e414f73c46cc6c713a7be859459cd87dd0da6
Author: Marek Černocký <marek@manet.cz>
Date:   Wed Sep 19 13:18:59 2012 +0200

    Updated Czech translation

 po/cs.po | 33 ++++++++++++++++++++-------------
 1 file changed, 20 insertions(+), 13 deletions(-)

commit 0c1c98631e6a8e6c343e40d2fa32eec30c5c1de9
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Tue Sep 18 16:49:32 2012 +0100

    Bug 684014 — A few outstanding issues in the internationalisation

    Add/Expand some translator comments in the EDS backend.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=684014

 NEWS                                     | 1 +
 backends/eds/lib/edsf-persona-store.vala | 6 +++++-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit fd91cba6a129f5d97b0d4573a8c2cb059fdfc94a
Author: Djavan Fagundes <djavanf@gnome.org>
Date:   Mon Sep 17 23:05:12 2012 -0300

    Updated Brazilian Portuguese translation

 po/pt_BR.po | 30 +++++++++++++++++++-----------
 1 file changed, 19 insertions(+), 11 deletions(-)

commit 1e96383e3522f1a1addfeae44cd2965cd523be73
Author: Djavan Fagundes <djavanf@gnome.org>
Date:   Mon Sep 17 22:57:03 2012 -0300

    Updated Brazilian Portuguese translation

 po/pt_BR.po | 622
 ++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 330 insertions(+), 292 deletions(-)

commit 51879699719db4fc0df93b14f9decb5ec1a91cfd
Author: Chris Leonard <cjl@laptop.org>
Date:   Mon Sep 17 20:26:55 2012 +0100

    Updated British English translation

 po/en_GB.po | 57
 ++++++++++++++++++++++++++++++++++++++-------------------
 1 file changed, 38 insertions(+), 19 deletions(-)

commit fe2d89956e74fc2988c5a253b1a3ec5518834567
Author: Yuri Myasoedov <omerta13@yandex.ru>
Date:   Mon Sep 17 20:43:21 2012 +0400

    Updated Russian translation

 po/ru.po | 46 ++++++++++++++++++++++++++++------------------
 1 file changed, 28 insertions(+), 18 deletions(-)

commit c5485255407e08173ba373c99fd22adc91ec695f
Author: Ani Peter <apeter@redhat.com>
Date:   Mon Sep 17 19:43:41 2012 +0530

    Updated Malayalam file

 po/ml.po | 728
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 728 insertions(+)

commit 3a04c447a549be295991d59d3a75792b0a5852eb
Author: Kenneth Nielsen <k.nielsen81@gmail.com>
Date:   Sun Sep 16 14:52:12 2012 +0200

    Updated Danish translation

 po/da.po | 706
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 706 insertions(+)

commit 5254ef6cad971843c78384b732537e1628248c43
Author: Kenneth Nielsen <k.nielsen81@gmail.com>
Date:   Sun Sep 16 14:52:12 2012 +0200

    Added da to list of languages

 po/LINGUAS | 1 +
 1 file changed, 1 insertion(+)

commit e61536a2b73829e854e788c547510d6bf1e55d02
Author: Seong-ho Cho <darkcircle.0426@gmail.com>
Date:   Sun Sep 16 17:13:10 2012 +0900

    Added Korean translation

 po/LINGUAS |   1 +
 po/ko.po   | 695
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 696 insertions(+)

commit 5e08df4663cff3df06f57ec3895287228464d926
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:   Sat Sep 15 12:45:17 2012 +0800

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

 po/zh_HK.po | 208
 ++++++++++++++++++++++++++++++++----------------------------
 po/zh_TW.po | 208
 ++++++++++++++++++++++++++++++++----------------------------
 2 files changed, 224 insertions(+), 192 deletions(-)

commit 7fe99cf6db0b372391c41baea938958e4e7c69c7
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:   Fri Sep 14 09:38:20 2012 +0200

    Updated Serbian translation

 po/sr.po       | 36 ++++++++++++++++++++++--------------
 po/sr@latin.po | 36 ++++++++++++++++++++++--------------
 2 files changed, 44 insertions(+), 28 deletions(-)

commit 12e28f2206974656c69c4f777dffa1bdf1e50c28
Author: Sweta Kothari <swkothar@redhat.com>
Date:   Fri Sep 14 11:31:34 2012 +0530

    Updated gujarati file

 po/gu.po | 202
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 105 insertions(+), 97 deletions(-)

commit cb7a152bd023ba41d54d7c779f4cb0482f165cd8
Author: Aurimas Černius <aurisc4@gmail.com>
Date:   Thu Sep 13 22:48:55 2012 +0300

    Updated Lithuanian translation

 po/lt.po | 37 +++++++++++++++++++++++--------------
 1 file changed, 23 insertions(+), 14 deletions(-)

commit f6b57feeaf07d6d7950e5e84ea08f3a0edd84843
Author: Shankar Prasad <svenkate@redhat.com>
Date:   Thu Sep 13 17:59:55 2012 +0530

    Updated kn translation

 po/LINGUAS | 1 +
 1 file changed, 1 insertion(+)

commit f89c9948a5aa7bc3232d9805170aa54755c46a42
Author: Shankar Prasad <svenkate@redhat.com>
Date:   Thu Sep 13 17:56:57 2012 +0530

    Updated kn translation

 po/kn.po | 102
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 53 insertions(+), 49 deletions(-)

commit 7c2195e0fe83218b0dff535d182ca16919421991
Author: Alexandre Franke <alexandre.franke@gmail.com>
Date:   Thu Sep 13 12:50:27 2012 +0200

    Update French translation

 po/fr.po | 37 +++++++++++++++++++++++--------------
 1 file changed, 23 insertions(+), 14 deletions(-)

commit e0c65cbe20399b55c2c3d4865f4a41a43312a8e5
Author: Shankar Prasad <svenkate@redhat.com>
Date:   Thu Sep 13 14:21:26 2012 +0530

    Updated kn translation

 po/kn.po | 670
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 670 insertions(+)

commit efe15a48a3d070af44304b7509c41a855a8fe5ac
Author: Tom Tryfonidis <tomtryf@gmail.com>
Date:   Thu Sep 13 05:02:26 2012 +0300

    Updated Greek translation

 po/el.po | 286
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 149 insertions(+), 137 deletions(-)

commit 7b339c0d1bed9f6d84d2189431d2ceb4fececbb6
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   Wed Sep 12 13:25:36 2012 +0200

    Updated Slovenian translation

 po/sl.po | 37 +++++++++++++++++++++++--------------
 1 file changed, 23 insertions(+), 14 deletions(-)

commit 2623f6c52870c7c0f33f49ca1babb5d2e019371b
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Wed Sep 12 11:20:07 2012 +0200

    Updated Spanish translation

 po/es.po | 36 ++++++++++++++++++++++--------------
 1 file changed, 22 insertions(+), 14 deletions(-)

commit 2255977474a26b9c61475d909e98390536c90d0b
Author: Nilamdyuti Goswami <nilamdyuti@gmail.com>
Date:   Wed Sep 12 14:34:51 2012 +0530

    Assamese translation updated

 po/as.po | 35 +++++++++++++++++++++--------------
 1 file changed, 21 insertions(+), 14 deletions(-)

commit 3cfd38b85316f094de457aec6c4a2f5dd143d55e
Author: Sandeep Sheshrao Shedmake <sshedmak@redhat.com>
Date:   Wed Sep 12 13:57:14 2012 +0530

    Updated Marathi Translations

 po/mr.po | 140
 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 79 insertions(+), 61 deletions(-)

commit ee8703bbc25c32c9b9f41457d7bb0ccb06d3d09a
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   Wed Sep 12 02:02:41 2012 +0200

    Updated Galician translations

 po/gl.po | 37 +++++++++++++++++++++++--------------
 1 file changed, 23 insertions(+), 14 deletions(-)

commit 80d9fb5f3c850ec632379b031a9495ffaa0a0ceb
Author: Andika Triwidada <andika@gmail.com>
Date:   Wed Sep 12 06:30:39 2012 +0700

    Updated Indonesian translation

 po/id.po | 35 +++++++++++++++++++++--------------
 1 file changed, 21 insertions(+), 14 deletions(-)

commit b5c45b08f5da71be172efd01e57e1ef63d0f1067
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Sep 11 17:00:33 2012 -0600

    Added changes in 0.7.4.1 to NEWS file.

 NEWS | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit de9e7f6377bb385dc6b3af685f8b921a08dc3568
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Sep 11 16:58:01 2012 -0600

    Post release bump in configure.ac

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2bbb36ebade9dc6d315ec72beedfb449bddffe30
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Sep 11 16:12:57 2012 -0600

    Bump release and update the fields for the release correctly.

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 809210708991144852e0036e2373d41626dc0b52
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   Wed Sep 12 00:19:13 2012 +0200

    Updated Polish translation

 po/pl.po | 37 +++++++++++++++++++++++--------------
 1 file changed, 23 insertions(+), 14 deletions(-)

commit 1b4c1abd586623850d7a9dbeb94bc9a5edc60558
Author: Duarte Loreto <happyguy_pt@hotmail.com>
Date:   Tue Sep 11 23:19:37 2012 +0100

    Updated Portuguese translation

 po/LINGUAS |   1 +
 po/pt.po   | 709
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 710 insertions(+)

commit 54519416c689ec448f0d8465e7f39d456f33355f
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Sep 11 15:45:11 2012 -0600

    Post release 0.7.4 changes.
    Added NEWS section
    Reset release bit and bump version to 0.7.4.1 for now

 NEWS         | 5 +++++
 configure.ac | 4 ++--
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 0bec522d26f179be0c5e5d5838b7d9e9b74b397b
Merge: a7824ba f4e9425
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Sep 11 15:25:56 2012 -0600

    Merge branch '0.7.4-release'

commit f4e94254af72b03b37d53e27918e792915caa631
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Sep 11 13:43:40 2012 -0600

    telepathy: Fix individual-properties unit test, always emit notify for
      full-name and urls.

 backends/telepathy/lib/tpf-persona.vala | 12 +++---------
 1 file changed, 3 insertions(+), 9 deletions(-)

commit a7824bab80fab7404edb0dcf8e942f47affc42c2
Author: Nilamdyuti Goswami <nilamdyuti@gmail.com>
Date:   Tue Sep 11 20:22:31 2012 +0530

    Assamese translation updated

 po/as.po | 199
 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 98 insertions(+), 101 deletions(-)

commit 9acedd528045e7e16dd3bfe6fdc9d9cc1f0e4727
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Sep 11 08:28:02 2012 -0600

    telepathy: Fix WeakRef ambiguity.

 backends/telepathy/lib/tpf-persona.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 888e4ecb39010a75675f5ac531b914bd741db89e
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Sep 10 15:43:12 2012 -0600

    Add individual to translation files.

 po/POTFILES.in   | 1 +
 po/POTFILES.skip | 1 +
 2 files changed, 2 insertions(+)

commit 7586d56dabd5d4d42dd7e58289530bf0c22c86ca
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Sep 10 14:54:47 2012 -0600

    .stamp file not needed for internal c only library.

 backends/telepathy/lib/Makefile.am | 1 -
 1 file changed, 1 deletion(-)

commit 500de3e108b04521ba2e7bc5e5d293a702adb358
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Sep 10 14:54:25 2012 -0600

    Bump version numbers and set release flag.

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 6563008a75669524fd3ba02ccb6c25dbda81d19f
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Sep 10 13:21:33 2012 -0600

    Change UNRELEASED to 0.7.4 for release.

 folks/individual.vala | 2 +-
 folks/persona.vala    | 2 +-
 folks/utils.vala      | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit ce9d0f336ebfab3628d7ff660df8188df1f2588e
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sat Sep 8 23:56:36 2012 +0100

    telepathy: Handle connections disappearing during a ‘yield’
    while connecting

    It seems it’s possible for the TpConnection to disconnect while
    in an async
    function call below the _notify_connection_cb(). Handle this
    possibility
    gracefully, rather than exploding.

    Note: This fix is basically a guess. The crash can’t be reproduced,
    and
    no debug output was available from folks for the crash.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=683093

 NEWS                                          |  2 +
 backends/telepathy/lib/tpf-persona-store.vala | 68
 ++++++++++++++++-----------
 2 files changed, 43 insertions(+), 27 deletions(-)

commit c2a17c279624ad202d374555143cb8f3a4edd7b8
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   Mon Sep 10 15:07:27 2012 +0200

    Updated Galician translations

 po/gl.po | 126
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 67 insertions(+), 59 deletions(-)

commit 27151d3b860cb9d8a8fd798a784d2ea2248c84bb
Author: Marek Černocký <marek@manet.cz>
Date:   Sun Sep 9 07:42:06 2012 +0200

    Updated Czech translation

 po/cs.po | 282
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 152 insertions(+), 130 deletions(-)

commit 43e19064a7c4131c4769f036dab39e82604505e9
Author: Aurimas Černius <aurisc4@gmail.com>
Date:   Fri Sep 7 20:23:26 2012 +0300

    Updated Lithuanian translation

 po/lt.po | 201
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 105 insertions(+), 96 deletions(-)

commit 86eddd96ad062e88aed3c9fdd555a7a3d1a94a5d
Author: Yuri Myasoedov <omerta13@yandex.ru>
Date:   Fri Sep 7 20:49:08 2012 +0400

    Updated Russian translation

 po/ru.po | 257
 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 147 insertions(+), 110 deletions(-)

commit 55104f23ab8c41e15b13cf2a3793202a6126f4db
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:   Fri Sep 7 18:15:47 2012 +0300

    Updated Belarusian translation.

 po/be.po | 268
 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 150 insertions(+), 118 deletions(-)

commit 3a936aa49647282cde172a2b1dcc5e987dfddefd
Merge: a81d6d9 7560c54
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Sep 7 09:06:51 2012 -0600

    Merge branch 'emit-notification'
    Reviewed-by: Philip Withnall

commit 7560c54269c1efd3e63f7602d37f7394ffa923a4
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Sep 6 17:06:52 2012 -0600

    core: Added emit_notification parameter to _update methods.
    telepathy: Added emit_notification parameter to lazy load _update
    methods.
    eds: Added emit_notification parameter to lazy load _update methods.

    Fixes bug https://bugzilla.gnome.org/show_bug.cgi?id=683267

 NEWS                                    |   1 +
 backends/eds/lib/edsf-persona.vala      | 104
 ++++++++++++++++++++++----------
 backends/telepathy/lib/tpf-persona.vala |  45 ++++++++++----
 folks/individual.vala                   |  80 +++++++++++++-----------
 4 files changed, 151 insertions(+), 79 deletions(-)

commit a81d6d93e146169f75a2f9bec0be3e929701ebf1
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   Fri Sep 7 15:12:48 2012 +0200

    Updated Slovenian translation

 po/sl.po | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit af500a4bd9fe88ae9f3832a37e19a86a4273ba5d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 6 14:26:33 2012 +0200

    tpf-persona-store: call _emit_personas_changed() when reseting
    _persona_set

    We need to notify when we reset the persona set.

    https://bugzilla.gnome.org/show_bug.cgi?id=683390

    Signed-off-by: Jeremy Whiting <jpwhiting@kde.org>

 NEWS                                          | 1 +
 backends/telepathy/lib/tpf-persona-store.vala | 2 ++
 2 files changed, 3 insertions(+)

commit e6ca59fcec4a0296d0ae155d29b46db1b9b3a553
Author: Christian Kirbach <Christian.Kirbach@googlemail.com>
Date:   Thu Sep 6 23:00:24 2012 +0200

    Updated German translation

 po/de.po | 166
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 86 insertions(+), 80 deletions(-)

commit b073940918c79a134c0998b0d4bea0d4ea552277
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:   Thu Sep 6 22:49:07 2012 +0200

    Updated Serbian translation

 po/sr.po       | 211
 ++++++++++++++++++++++++++++++---------------------------
 po/sr@latin.po | 211
 ++++++++++++++++++++++++++++++---------------------------
 2 files changed, 222 insertions(+), 200 deletions(-)

commit 0e8c52e81b75bbc375e79c958e08c6c83be9d110
Merge: 8762c1a 161b67e
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Sep 6 14:14:02 2012 -0600

    Merge branch 'command-set'
    Reviewed-by: Philip Withnall

commit 161b67e100bb9e161c1c05818463a4c90921bc2e
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Wed Aug 8 13:48:40 2012 -0600

    inspect: Add set command with set alias capability.

 NEWS                           |   1 +
 tools/inspect/Makefile.am      |   1 +
 tools/inspect/command-set.vala | 198
 +++++++++++++++++++++++++++++++++++++++++
 tools/inspect/inspect.vala     |   1 +
 4 files changed, 201 insertions(+)

commit 8762c1aaa603c80e24e9ecdbf8c00b3959006e11
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   Thu Sep 6 21:38:50 2012 +0200

    Updated Slovenian translation

 po/sl.po | 290
 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 165 insertions(+), 125 deletions(-)

commit fa4287cc6d2715762a673c078d49964c14845751
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Thu Sep 6 18:25:31 2012 +0200

    Updated Spanish translation

 po/es.po | 202
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 106 insertions(+), 96 deletions(-)

commit d6d1354e0d0caa8ebb1cd7af5969e0cd52d9ded3
Author: Alexandre Franke <alexandre.franke@gmail.com>
Date:   Thu Sep 6 16:48:50 2012 +0200

    Update French translation

 po/fr.po | 209
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 110 insertions(+), 99 deletions(-)

commit f8bb91c7d5aa1953c4cd0a3a17a0c722da00f819
Author: Arash Mousavi <mousavi.arash@gmail.com>
Date:   Thu Sep 6 16:08:19 2012 +0430

    l10n: Added Persian translation

 po/LINGUAS |   1 +
 po/fa.po   | 664
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 665 insertions(+)

commit a4a61c1016871e4a4d637e451980ecf9b708e23b
Author: Andika Triwidada <andika@gmail.com>
Date:   Thu Sep 6 15:49:55 2012 +0700

    Updated Indonesian translation

 po/id.po | 122
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 64 insertions(+), 58 deletions(-)

commit 2aea61a5ba58a4947753f1f5107d4566f84e6c93
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Thu Sep 6 07:40:27 2012 +0100

    Bug 683452 — gnome-contacts starts up with an empty address book

    Edsf.Persona.is_google_personal_group and .is_favourite can both be
    set by
    the _update_groups() method. Groups must be lazily initialised when
    accessing these properties, therefore.

    Based on a patch by Giovanni Campagna <scampa.giovanni@gmail.com>.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=683452

 NEWS                               |  1 +
 backends/eds/lib/edsf-persona.vala | 16 ++++++++++++----
 2 files changed, 13 insertions(+), 4 deletions(-)

commit ce26b3e83dc8154de6e911ac29f585e610f59eac
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Wed Sep 5 18:01:03 2012 -0600

    Bump vala required version.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d0cfa4fee7c67e744f5419f97ae08663b7afe4ff
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Tue Aug 28 21:48:10 2012 +0100

    Bug 681726 — empathy crashed with SIGABRT in g_assertion_message()

    Handle the case where calling a change_prop() method on an Individual
    doesn’t find a suitable Persona to change the property
    on. Previously, the
    code assumed that not successfully changing the property meant
    an error
    must’ve been set. This was obviously wrong.

    This patch changes it to only try and throw an error if an error
    has actually
    been set. If no suitable Personas exist to write a property change
    to, the
    property change will fail with PropertyError.NOT_WRITEABLE.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=681726

 NEWS                  |   1 +
 folks/individual.vala | 113
 +++++++++++++++++++++++++++++++++-----------------
 2 files changed, 77 insertions(+), 37 deletions(-)

commit 6de79c48d5dfe071807b143973c50fd4629ca447
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   Thu Sep 6 01:37:56 2012 +0200

    Updated Polish translation

 po/pl.po | 39 ++++++++++++++++++++++++---------------
 1 file changed, 24 insertions(+), 15 deletions(-)

commit d556feac0e2551151f4168ba2da5ff73f1751f72
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Sep 2 21:20:31 2012 +0100

    telepathy: Clarify nullability of Tpf.PersonaStore._conn

 backends/telepathy/lib/tpf-persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 302e90d6bc31bcd22e0652551552e12afc64ce77
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Sep 2 21:18:18 2012 +0100

    telepathy: Correctly maintain strong refs on TpContacts in property
    accessors

    While performing operations on a TpContact’s properties, folks
    should hold
    a strong ref on the TpContact (even if it doesn’t normally hold
    one).
    This expands on commit b251bcb92a343b051e62d458b66de4a9d3011f82 to
    fix folks
    to correctly hold a strong reference in such situations.

    This also fixes a potential bug where changing a Tpf.Persona’s
    groups while
    the persona was being served out of the cache would cause a crash
    (null
    pointer dereference).

    This adds the following new API:
     • PropertyError.UNAVAILABLE

    See: https://bugzilla.gnome.org/show_bug.cgi?id=680335

 NEWS                                    |  3 ++
 backends/telepathy/lib/tpf-persona.vala | 95
 ++++++++++++++++++++++++---------
 folks/persona.vala                      | 12 ++++-
 3 files changed, 85 insertions(+), 25 deletions(-)

commit 00590b87e2316c7dbd74a072ece72c30ffd89354
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Sep 2 20:56:44 2012 +0100

    telepathy: Fix a race condition in the handling of weak refs to
    TpContacts

    Use a WeakRef to maintain the pointer to a TpContact in Tpf.Persona,
    rather than g_object_weak_[un]ref() and manually nullifying the
    pointer.

    See the comments in bug #680335 for a full explanation.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=680335

 NEWS                                    |  2 ++
 backends/telepathy/lib/tpf-persona.vala | 34
 +++++++++++++++++++++++++--------
 configure.ac                            |  2 +-
 3 files changed, 29 insertions(+), 9 deletions(-)

commit fcd452d1bb53d88b87426022f815bf2207f6e073
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Wed Sep 5 16:36:15 2012 -0600

    Added bugfix to NEWS.

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit 1b4c480d30d82a02f1f0264e3cb80d2b8da82b42
Merge: b6cd964 0434d19
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Wed Sep 5 16:34:23 2012 -0600

    Merge branch 'inspect-linking'
    Reviewed-by: Philip Withnall

commit b6cd964139abb85e09fff26dce1992f4f9895f19
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Wed Sep 5 00:41:22 2012 +0100

    Bug 683319 — Crash in individual-aggregator: _personas_changed_cb

    Keep a reference to the Tpf.PersonaStore’s self persona when
    emitting
    a ‘personas changed’ notification about it, so that it doesn’t
    get unset
    in the store’s member variable in the mean time, resulting in a
    null persona
    being emitted in the ‘personas changed’ signal.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=683319

 NEWS                                          |  1 +
 backends/telepathy/lib/tpf-persona-store.vala | 14 +++++++++-----
 2 files changed, 10 insertions(+), 5 deletions(-)

commit fb2b26f1f0d66ba7793d0defbfb4ee35687c5736
Author: Bruce Cowan <bruce@bcowan.me.uk>
Date:   Wed Sep 5 15:04:14 2012 +0100

    Updated British English translation

 po/en_GB.po | 550
 ++++++++++++++++++++++++++++--------------------------------
 1 file changed, 257 insertions(+), 293 deletions(-)

commit 6947a982cb9855a9f46710a6103f8a24ce1920c1
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   Wed Sep 5 10:33:19 2012 +0200

    Fix build error

 tests/lib/eds/backend.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0434d197a9ba43eade74787a9a8ba065c3dfb861
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Aug 3 15:23:11 2012 -0600

    inspect: Make Command.run async.
    inspect: Make linking folks-inspect command run not return until done.

 tools/inspect/command-backends.vala       |  2 +-
 tools/inspect/command-debug.vala          |  2 +-
 tools/inspect/command-help.vala           |  2 +-
 tools/inspect/command-individuals.vala    |  2 +-
 tools/inspect/command-linking.vala        | 64
 ++++++++++++++-----------------
 tools/inspect/command-persona-stores.vala |  2 +-
 tools/inspect/command-personas.vala       |  2 +-
 tools/inspect/command-quit.vala           |  2 +-
 tools/inspect/command-signals.vala        |  2 +-
 tools/inspect/inspect.vala                | 57
 +++++++++++++--------------
 10 files changed, 66 insertions(+), 71 deletions(-)

commit 20a7b30982e3c4f75ceffae5396c56489451dded
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   Sun Sep 2 23:13:33 2012 +0200

    Updated Polish translation

 po/pl.po | 84
 +++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 43 insertions(+), 41 deletions(-)

commit 2dcbc92fc2707a96ea10ac70204544b7df42b143
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Wed Aug 29 00:04:31 2012 +0100

    Bug 682719 — eds test fails to compile

    Don’t use deprecated EDS API in the EDS tests. The replacement
    API doesn’t
    require a dependency version bump.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=682719

 NEWS                       |  1 +
 tests/lib/eds/backend.vala | 30 ++++++++++++------------------
 2 files changed, 13 insertions(+), 18 deletions(-)

commit 8ae18840f0b84dc7b5ca5a985c343e284a2cce54
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Wed Aug 29 00:23:40 2012 +0100

    core: Only emit notifications for multi-valued properties when
    necessary

    Previously, notifications were emitted whenever a related Persona’s
    property
    changed, even if it had no effect on the Individual’s property. This
    was
    causing infinite loops of notifications-then-getters-being-called
    in some
    of the EDS tests. Bad.

    This is fixed by only emitting notifications on Individuals’
    multi-valued
    properties if the properties have actually changed. Of course, this
    requires lots of copying and pasting the same code because Vala
    doesn’t
    have a preprocessor and delegates aren’t up to the job. Sigh.

    See: https://bugzilla.gnome.org/show_bug.cgi?id=682809

 folks/individual.vala | 152
 ++++++++++++++++++++++++++++++++++++++++++--------
 1 file changed, 128 insertions(+), 24 deletions(-)

commit af4bb7b8660cddc8c0b377a3bab72f93d9e3e5b3
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Aug 27 13:27:22 2012 +0100

    core: Tidy up multi-valued property update functions

    Create a new _update_multi_valued_property() helper function and
    corresponding delegates, to mirror the existing
    _update_single_valued_property() helper.

    This new function is now used for most multi-valued property
    updaters in
    Individual. It’s not used for groups, because they have weird
    signalling.

 folks/individual.vala | 659
 ++++++++++++++++++++++++++------------------------
 1 file changed, 339 insertions(+), 320 deletions(-)

commit eb75447e8eb6a95aad8f95ee19a2cd4a945fefa1
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Aug 27 10:13:53 2012 +0100

    telepathy: Support lazy initialisation of properties

    See commit 303547fec56e416f57f73643e2afb7bb4e4a8a7f. This adds
    support for
    lazy initialisation of multi-valued properties to the Telepathy
    backend.

 backends/telepathy/lib/tpf-persona.vala | 94
 ++++++++++++++++++++++++---------
 1 file changed, 69 insertions(+), 25 deletions(-)

commit 57f84d50f5fcaf3bf821d368a7ff309bc2edb3d2
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Aug 27 10:13:19 2012 +0100

    eds: Support lazy initialisation of properties

    See commit 303547fec56e416f57f73643e2afb7bb4e4a8a7f. This adds
    support for
    lazy initialisation of multi-valued properties to the EDS backend.

 backends/eds/lib/edsf-persona.vala | 275
 ++++++++++++++++++++++++++-----------
 1 file changed, 198 insertions(+), 77 deletions(-)

commit 4a59af5c74f84932c8da90f6ac996a4a2f69e17c
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Aug 27 10:05:35 2012 +0100

    core: Support lazy initialisation of properties

    Creating several HashSets and HashMultiMaps for every Individual turns
    out to be quite wasteful, especially when most of them will
    typically be
    empty (as address books are generally quite sparse on properties)
    and never
    accessed (since most clients don’t need local IDs or web service
    addresses).

    This commit delays initialisation of various multi-valued Individual
    properties to the first time they’re accessed, giving them a
    null value
    before that time. It preserves the existing API for Individual,
    i.e. the
    properties themselves remain non-nullable, and only the object members
    backing them become nullable.

    This does introduce a slight behaviour change, in that an Individual
    will
    now emit change notifications for a non-initialised multi-valued
    property if
    *any* of the Personas in the Individual emit a notification for that
    property. This is because the Individual can’t compare the current
    value of
    its property to the new one resulting from the change in the
    Persona’s
    property value to determine if a change has really occurred. Therefore
    the
    Individual makes a safe over-estimate and emits notifications
    which might
    be false positives.

    This shouldn’t be a problem: if a client is interested in the
    property,
    they will have already queried it and caused it to be initialised.
    Initialised properties have the same notification behaviour as before.
    If a client isn’t interested in the property, it won’t be
    connected to the
    property notifications anyway.

    This change roughly quarters the number of GObjects being created when
    opening folks-inspect with the Telepathy, key-file and EDS backends
    enabled
    and ~115 personas in the system.

 NEWS                  |   1 +
 folks/individual.vala | 385
 +++++++++++++++++++++++++++++++++++++-------------
 2 files changed, 290 insertions(+), 96 deletions(-)

commit 8632764f450971f1c83e5b209735c4cf50edd7f8
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Aug 27 10:05:14 2012 +0100

    core: Expanding a profiling message slightly

 folks/persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3e48d450d35b8c21b407dc481b74b0983507bf1c
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Aug 27 09:59:55 2012 +0100

    eds: Batch up emissions of personas-changed while starting up

    There’s no point in emitting personas-changed multiple times before
    the EDS
    persona store has reached quiescence — it just means the individual
    aggregator has to re-link more personas with each emission.

    This patch batches up emissions of personas-changed from the EDS
    persona
    store until is-quiescent is reached, then notifies about all
    personas in
    a single emission.

 backends/eds/lib/edsf-persona-store.vala | 44
 ++++++++++++++++++++++++++++++--
 1 file changed, 42 insertions(+), 2 deletions(-)

commit 5df5c3f4cacf16c67c4b1493a3008b418ae98b2c
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Aug 26 23:43:26 2012 +0100

    eds: Remove unnecessary locking

    It didn’t achieve anything.

 backends/eds/lib/edsf-persona-store.vala | 16 +++++++---------
 1 file changed, 7 insertions(+), 9 deletions(-)

commit aa6ea180ad48028da2334759fc848d1df921aff0
Author: Nilamdyuti Goswami <nilamdyuti@gmail.com>
Date:   Tue Aug 28 00:49:08 2012 +0530

    Implemented FUEL entries to Assamese translation

 po/as.po | 20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit da65147754fcf006119907577ad61352640ad8bc
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Aug 27 14:42:11 2012 +0100

    docs: Add some more rules to the HACKING coding guidelines

    Because rules are good.

 HACKING | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit ce0f4eef9ae7451c671992aeed17cb00520f7f7b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sat Aug 25 11:44:23 2012 +0100

    build: Switch to using AS_IF in configure.ac rather than shell
    script ‘if’

    This is necessary because using certain autoconf macros inside a shell
    script ‘if’ can cause problems if the macros perform a one-time
    initialisation. The initialisation variables will be lost if the
    ‘if’ branch
    isn’t taken.

    See: https://bugzilla.gnome.org/show_bug.cgi?id=682346
    See: https://bugzilla.gnome.org/show_bug.cgi?id=681413

 configure.ac | 119
 ++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 60 insertions(+), 59 deletions(-)

commit abb5bff617161c4febc19b331859f4ac26bdeb62
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sat Aug 25 11:42:47 2012 +0100

    build: Add DIST_SUBDIRS in the top-level Makefile.am

    Just in case DISTCHECK_CONFIGURE_FLAGS gets changed at some point
    to no
    longer build all subdirectories, we should list them all in
    DIST_SUBDIRS
    so they still get distributed. It would be a shame to release a folks
    tarball with half of the source code missing.

    See: https://bugzilla.gnome.org/show_bug.cgi?id=682346

 Makefile.am | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 24b1cee91bdcc18053734993403f0d6f6af2186c
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:   Sat Aug 25 17:17:14 2012 +0700

    Updated Vietnamese translation

 po/vi.po | 146
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 80 insertions(+), 66 deletions(-)

commit 4face8d48bc82e9775addbece92fea2420e57bbb
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:   Sat Aug 25 16:55:18 2012 +0700

    po/vi: import from Damned Lies

 po/vi.po | 152
 +++++++++++++++++++++++++++------------------------------------
 1 file changed, 66 insertions(+), 86 deletions(-)

commit ee1d70f9eb7e41e2af9bdf75e1f530eca038f5c1
Author: Arun Raghavan <arun.raghavan@collabora.co.uk>
Date:   Sat Aug 25 10:28:44 2012 +0530

    Update NEWS with fix for bug 682346

    Forgot to push this out with the original commit.

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit 855803a62b3a89ddb3c6abd3fa316d80cd036baf
Author: Arun Raghavan <arun.raghavan@collabora.co.uk>
Date:   Tue Aug 21 16:43:14 2012 +0530

    build: Make telepathy backend optional

    This is handy for while developing for those who don't always have
    bleeding edge telepathy-glib. As a side-effect, tests are also made
    optional (but on by default).

    https://bugzilla.gnome.org/show_bug.cgi?id=682346

 Makefile.am           |  7 ++++++-
 backends/Makefile.am  |  5 ++++-
 configure.ac          | 46 +++++++++++++++++++++++++++++++++++++---------
 tests/Makefile.am     |  5 ++++-
 tests/lib/Makefile.am |  5 ++++-
 5 files changed, 55 insertions(+), 13 deletions(-)

commit b9c37985ed37e9ca0fc7d71ea7f9c07c62e4b7b8
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Aug 24 15:54:04 2012 -0600

    inspect: Fix crash when Utils.output_filestream is uninitialized.

 tools/inspect/utils.vala | 2 ++
 1 file changed, 2 insertions(+)

commit fc2150ee4d4777af20377f692199fa2783d4e1bb
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Thu Aug 23 22:40:45 2012 +0100

    Bug 682572 — Build failures due to accessing static members

    Fix some more build failures due to accessing static members using
    an instance
    variable. Also fix an instance of calling an async function with
    an implicit
    ‘.begin()’.

    Hopefully that’s the last of them.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=682572

 NEWS                               |  1 +
 tools/inspect/command-linking.vala |  2 +-
 tools/inspect/inspect.vala         | 28 ++++++++++++++--------------
 tools/inspect/signal-manager.vala  |  6 +++---
 4 files changed, 19 insertions(+), 18 deletions(-)

commit 7c3b61afc5139dc0083357be4b7f26816002c23c
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   Thu Aug 23 02:52:39 2012 +0200

    Updated Polish translation

 po/pl.po | 468
 +++++++++++++++++++++++----------------------------------------
 1 file changed, 170 insertions(+), 298 deletions(-)

commit 67689f4c321afcf3ef5f5d4eae0deb0a4404ff8b
Author: Dirgita <dirgitadevina@yahoo.co.id>
Date:   Tue Aug 21 16:49:01 2012 +0700

    Updated Indonesian translation

 po/id.po | 356
 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 204 insertions(+), 152 deletions(-)

commit 4ae4e6398af89b341f0b32da74cb6f91b9fb5176
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Jul 30 12:03:21 2012 +0200

    Bug 664072 — Folks should only use assert*() for critical,
    program-terminating errors

    Turn various assert()s into return[_val]_if_fail()s.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=664072

 NEWS                                          |  2 ++
 backends/telepathy/lib/tpf-persona-store.vala |  3 ++-
 folks/individual.vala                         | 14 +++++++-------
 folks/potential-match.vala                    |  8 ++++----
 4 files changed, 15 insertions(+), 12 deletions(-)

commit 0f8f332db32f510cb055185b8d3136f433e705c1
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   Fri Aug 17 00:31:42 2012 +0200

    Updated Galician translations

 po/gl.po | 201
 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 103 insertions(+), 98 deletions(-)

commit 5e13a92835143dfc1a9d1ada4ae0f347a85e260d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Tue Aug 14 17:40:16 2012 -0700

    Note fixes for bgo#681420 in NEWS.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=681420

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit b3ebf1e39c94fed4b4a1f0f2a00a72be7ccbe773
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Tue Aug 14 17:37:39 2012 -0700

    Access static class members through class; use explicit .begin()

    This covers the libsocialweb backend tests.

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=681420

 tests/lib/libsocialweb/backend.vala | 2 +-
 tests/libsocialweb/aggregation.vala | 8 ++++----
 tests/libsocialweb/dummy-lsw.vala   | 4 ++--
 3 files changed, 7 insertions(+), 7 deletions(-)

commit aef8ef6b2d7a1733c8ca567a820cbfb5a620d6c0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Mon Aug 13 09:51:09 2012 -0700

    Access static class members through class, not instance.

    This covers the libsocialweb backend.

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=681420

 backends/libsocialweb/lib/swf-persona-store.vala |  2 +-
 backends/libsocialweb/lib/swf-persona.vala       | 10 +++++-----
 2 files changed, 6 insertions(+), 6 deletions(-)

commit d2d8ceb2e7d586a1addb1739b2e0a612c3041a14
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Tue Aug 14 21:21:05 2012 +0100

    docs: Use correct Valadoc syntax for monospaced content

    The syntax is ‘``monospaced text``’ rather than ‘`monospaced
    text`’, which
    we were consistently getting wrong. Valadoc now produces the correct
    markup
    for monospaced text, but it doesn’t appear differently from other
    text at
    the moment due to Valadoc not having any CSS for it. That will
    change soon.

    Similarly, Valadoc currently produces the wrong markup for monospaced
    text
    with the gtkdoc doclet, but that will soon be fixed.

    See: https://bugzilla.gnome.org/show_bug.cgi?id=681721

 backends/eds/lib/edsf-persona-store.vala           |  4 +-
 backends/eds/lib/edsf-persona.vala                 |  4 +-
 backends/eds/lib/memory-icon.vala                  | 12 ++---
 backends/key-file/kf-persona-store.vala            |  4 +-
 backends/key-file/kf-persona.vala                  |  4 +-
 backends/libsocialweb/lib/swf-persona-store.vala   |  2 +-
 backends/libsocialweb/lib/swf-persona.vala         |  6 +--
 .../telepathy/lib/tpf-persona-store-cache.vala     | 24 ++++-----
 backends/telepathy/lib/tpf-persona-store.vala      |  8 +--
 backends/telepathy/lib/tpf-persona.vala            | 28 +++++-----
 backends/tracker/lib/trf-persona-store.vala        |  4 +-
 backends/tracker/lib/trf-persona.vala              |  2 +-
 folks/abstract-field-details.vala                  | 14 ++---
 folks/alias-details.vala                           |  2 +-
 folks/anti-linkable.vala                           | 10 ++--
 folks/avatar-cache.vala                            |  2 +-
 folks/avatar-details.vala                          |  4 +-
 folks/backend-store.vala                           |  8 +--
 folks/backend.vala                                 |  4 +-
 folks/birthday-details.vala                        |  9 ++--
 folks/email-details.vala                           |  4 +-
 folks/favourite-details.vala                       |  3 +-
 folks/group-details.vala                           |  4 +-
 folks/im-details.vala                              |  4 +-
 folks/individual-aggregator.vala                   | 48 ++++++++---------
 folks/individual.vala                              | 61
 ++++++++++++----------
 folks/name-details.vala                            | 22 ++++----
 folks/note-details.vala                            |  6 +--
 folks/object-cache.vala                            | 35 +++++++------
 folks/persona-store.vala                           | 23 ++++----
 folks/persona.vala                                 | 10 ++--
 folks/phone-details.vala                           | 12 ++---
 folks/postal-address-details.vala                  | 14 ++---
 folks/presence-details.vala                        | 12 ++---
 folks/role-details.vala                            |  6 +--
 folks/url-details.vala                             |  4 +-
 folks/utils.vala                                   |  6 +--
 folks/web-service-details.vala                     |  4 +-
 tests/lib/test-utils.vala                          |  4 +-
 tools/inspect/inspect.vala                         |  4 +-
 40 files changed, 225 insertions(+), 216 deletions(-)

commit c9f16d291d1053e15f968dd23403f0c12573d9b8
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Jul 6 14:21:02 2012 -0600

    Add gir and .vapi files to DISTCLEANFILES if not building a release

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=643128

 backends/telepathy/lib/Makefile.am          | 4 ++++
 configure.ac                                | 2 ++
 tests/lib/telepathy/contactlist/Makefile.am | 4 ++++
 3 files changed, 10 insertions(+)

commit 02282256edf99189acfeab024109f23d864f555e
Author: Erick Pérez Castellanos <erick.red@gmail.com>
Date:   Tue Aug 14 13:22:10 2012 -0400

    eds: Add create_source_registry to eds tests.

 tests/lib/eds/backend.vala | 5 +++++
 1 file changed, 5 insertions(+)

commit 75b2ca9e04f03847f72293387eb4d536a278d8c1
Author: Erick Pérez Castellanos <erick.red@gmail.com>
Date:   Mon Aug 13 15:18:58 2012 -0400

    tracker tests fixed to match last vala release.

    Vala change:
    1. Warn when accessing static members with an instance reference.
    2. Deprecate implicit .begin for async methods.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=681420

 tests/lib/tracker/backend.vala                     |  4 ++--
 tests/tracker/add-contact.vala                     |  2 +-
 tests/tracker/add-persona.vala                     |  4 ++--
 tests/tracker/additional-names-updates.vala        |  2 +-
 tests/tracker/avatar-details-interface.vala        |  2 +-
 tests/tracker/avatar-updates.vala                  |  2 +-
 tests/tracker/birthday-details-interface.vala      |  2 +-
 tests/tracker/birthday-updates.vala                |  2 +-
 tests/tracker/default-contact.vala                 |  2 +-
 tests/tracker/duplicated-emails.vala               |  6 +++---
 tests/tracker/duplicated-phones.vala               |  6 +++---
 tests/tracker/email-details-interface.vala         |  2 +-
 tests/tracker/emails-updates.vala                  |  2 +-
 tests/tracker/family-name-updates.vala             |  2 +-
 tests/tracker/favourite-details-interface.vala     |  2 +-
 tests/tracker/favourite-updates.vala               |  2 +-
 tests/tracker/fullname-updates.vala                |  2 +-
 tests/tracker/gender-details-interface.vala        |  2 +-
 tests/tracker/given-name-updates.vala              |  2 +-
 tests/tracker/im-details-interface.vala            |  2 +-
 tests/tracker/imaddresses-updates.vala             |  2 +-
 tests/tracker/individual-retrieval.vala            |  2 +-
 tests/tracker/link-personas-via-local-ids.vala     |  6 +++---
 tests/tracker/link-personas.vala                   |  6 +++---
 tests/tracker/match-all.vala                       |  6 +++---
 tests/tracker/match-email-addresses.vala           |  6 +++---
 tests/tracker/match-im-addresses.vala              |  6 +++---
 tests/tracker/match-known-emails.vala              |  6 +++---
 tests/tracker/match-name.vala                      |  6 +++---
 tests/tracker/match-phone-number.vala              |  6 +++---
 tests/tracker/name-details-interface.vala          |  2 +-
 tests/tracker/nickname-updates.vala                |  2 +-
 tests/tracker/note-details-interface.vala          |  2 +-
 tests/tracker/phone-details-interface.vala         |  2 +-
 tests/tracker/phones-updates.vala                  |  2 +-
 .../tracker/postal-address-details-interface.vala  |  2 +-
 tests/tracker/prefix-name-updates.vala             |  2 +-
 tests/tracker/remove-contact.vala                  |  2 +-
 tests/tracker/remove-persona.vala                  |  6 +++---
 tests/tracker/role-details-interface.vala          |  2 +-
 tests/tracker/set-avatar.vala                      |  2 +-
 tests/tracker/set-birthday.vala                    |  2 +-
 tests/tracker/set-duplicate-email.vala             |  6 +++---
 tests/tracker/set-emails.vala                      |  2 +-
 tests/tracker/set-favourite.vala                   |  2 +-
 tests/tracker/set-full-name.vala                   |  2 +-
 tests/tracker/set-gender.vala                      |  2 +-
 tests/tracker/set-im-addresses.vala                |  2 +-
 tests/tracker/set-nickname.vala                    |  2 +-
 tests/tracker/set-notes.vala                       |  2 +-
 tests/tracker/set-null-avatar.vala                 |  4 ++--
 tests/tracker/set-phones.vala                      |  2 +-
 tests/tracker/set-postal-addresses.vala            |  2 +-
 tests/tracker/set-roles.vala                       |  2 +-
 tests/tracker/set-structured-name.vala             |  2 +-
 tests/tracker/set-urls.vala                        | 24
 +++++++++++-----------
 tests/tracker/suffix-name-updates.vala             |  2 +-
 tests/tracker/url-details-interface.vala           |  2 +-
 tests/tracker/website-updates.vala                 |  2 +-
 59 files changed, 97 insertions(+), 97 deletions(-)

commit edf5460f4e2c2eaa94905a3b6dc08465e34bdc41
Author: Erick Pérez Castellanos <erick.red@gmail.com>
Date:   Mon Aug 13 15:17:55 2012 -0400

    tracker backend fixed to match last vala release.

    Vala change:
    1. Warn when accessing static members with an instance reference.
    2. Deprecate implicit .begin for async methods.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=681420

 backends/tracker/lib/trf-persona-store.vala | 144
 ++++++++++++++--------------
 backends/tracker/lib/trf-persona.vala       |  12 +--
 2 files changed, 78 insertions(+), 78 deletions(-)

commit 31fb146870a32699a78ce5b082a550116386968b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Aug 13 21:45:20 2012 +0100

    docs: Add replacement symbols to ‘Deprecated’ annotations

    This improves the documentation (and valac error messages) a little.

 backends/eds/lib/edsf-persona.vala | 3 ++-
 folks/utils.vala                   | 2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 9cbbde3707cef1c3649b064c33fc160c5b36ec87
Author: Sandeep Sheshrao Shedmake <sshedmak@redhat.com>
Date:   Sun Aug 12 16:33:08 2012 +0530

    Added Marathi Translation

 po/LINGUAS |   1 +
 po/mr.po   | 677
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 678 insertions(+)

commit 63402f1331e93c6c59e1b76d5b9452b589b1b850
Author: A S Alam <aalam@users.sf.net>
Date:   Sun Aug 12 09:14:20 2012 +0530

    Update Punjabi Translation

 po/pa.po | 275
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 143 insertions(+), 132 deletions(-)

commit f6e3807997b531a0fa05ca987d350d1374ef3c12
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Aug 10 17:00:53 2012 -0600

    eds: Add create_source_registry to eds-backend to fix build.

 backends/eds/eds-backend.vala | 5 +++++
 1 file changed, 5 insertions(+)

commit e5f873bc4ac5909f5c777e9f2df6f36ae69089f8
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Aug 6 20:13:00 2012 -0600

    Prefer earlier alphabetical uid persona when two personas from the
    same persona store.
    Fixes bug https://bugzilla.gnome.org/show_bug.cgi?id=681346

 NEWS                  | 1 +
 folks/individual.vala | 9 ++++++++-
 2 files changed, 9 insertions(+), 1 deletion(-)

commit 3a928bc933b1643709655d479dd80303ebb47685
Author: Sweta Kothari <swkothar@redhat.com>
Date:   Fri Aug 10 16:57:07 2012 +0530

    Updated gujarati file

 po/gu.po | 50 ++++++++++++++++++++++++++++++++++++--------------
 1 file changed, 36 insertions(+), 14 deletions(-)

commit e7d19e86d95e83b677513384406994249d8b376e
Author: Sweta Kothari <swkothar@redhat.com>
Date:   Fri Aug 10 16:31:07 2012 +0530

    Updated gujarati file

 po/gu.po | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 170b08761ad71b0c1685732c4994abdc0cbf3d5e
Author: Sweta Kothari <swkothar@redhat.com>
Date:   Fri Aug 10 15:11:08 2012 +0530

    Updated gujarati file

 po/gu.po | 127
 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 65 insertions(+), 62 deletions(-)

commit e7b96a7b2b9d3c35cf7e804018f8757f48ad2718
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Fri Aug 10 00:15:40 2012 +0100

    docs: Various small fixes and expansions of documentation

     • Various links fixed to point to class documentation rather
     than its
       constructor documentation (this is a quirk of Valadoc; if using
       “{@link ClassName}” inside a method of ClassName, the link
       will point to
       ClassName’s constructor because symbols are resolved relatively
       and the
       class’ constructor is called “ClassName”).
     • Various bits of documentation expanded (mostly trivially)
     to shut gtk-doc
       up about missing long descriptions.
     • Some Vala code attributes moved around so the documentation
     comments are
       correctly associated with the code. (This shouldn’t change
       the behaviour
       of the attributes themselves.)
     • Some trivial constructors added to classes in order to give them
       documentation.
     • Constructor for Utils added and deprecated immediately. Utils
     should
       become a nested namespace on the next API break, since it will
       only ever
       contain static methods, and thus doesn’t need to be instantiable
       (which
       folks will make it at the moment).

 backends/eds/lib/edsf-persona-store.vala         |  6 ++++--
 backends/eds/lib/edsf-persona.vala               |  7 ++++++-
 backends/libsocialweb/lib/swf-persona-store.vala |  1 +
 backends/libsocialweb/lib/swf-persona.vala       |  3 +++
 backends/telepathy/lib/tpf-persona.vala          |  6 ++++++
 folks/alias-details.vala                         |  8 ++++++--
 folks/avatar-cache.vala                          | 20
 +++++++++++++++-----
 folks/avatar-details.vala                        | 14 +++++++++-----
 folks/birthday-details.vala                      |  9 ++++++---
 folks/debug.vala                                 | 17 +++++++++--------
 folks/favourite-details.vala                     |  9 +++++++--
 folks/gender-details.vala                        |  4 +++-
 folks/group-details.vala                         |  8 ++++++--
 folks/individual.vala                            | 14 +++++++-------
 folks/interaction-details.vala                   |  9 +++++----
 folks/name-details.vala                          |  6 ++++--
 folks/postal-address-details.vala                |  3 ++-
 folks/potential-match.vala                       | 23
 +++++++++++++++++++++--
 folks/role-details.vala                          |  6 ++++--
 folks/utils.vala                                 | 23
 +++++++++++++++++++++++
 20 files changed, 147 insertions(+), 49 deletions(-)

commit 9cfa94edfa153b148339db12efe5d787e3c95d43
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Fri Aug 10 00:13:11 2012 +0100

    docs: Remove protected symbols from the documentation

    Folks isn’t really extensible outside its own source tree, so
    why clutter
    up the documentation (and its build process/logs) with protected
    symbols?

 docs/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 93a708dea36235d97861ad1793f3d5ce5457d151
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Fri Aug 10 00:11:20 2012 +0100

    eds: Minor API fixes in the EDS backend

    These APIs, introduced in folks 0.7.1 (so this is an unstable
    API break,
    but that’s OK), weren’t quite right in C. The SourceRegistry
    constructor
    shouldn’t be exposed publicly as part of folks, and the PersonaStore
    constructor had a stray extra parameter.

 backends/eds/lib/edsf-persona-store.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 316c0be531bd9cd53e5459ec014b9c25501768fd
Author: Erick Pérez Castellanos <erick.red@gmail.com>
Date:   Thu Aug 9 14:57:15 2012 -0400

    tests fixed to match last vala release.

    Vala change:
    1. Warn when accessing static members with an instance reference.
    2. Deprecate implicit .begin for async methods.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=681420

 tests/eds/add-contacts-stress-test.vala         |  6 +++---
 tests/eds/add-persona.vala                      | 18 ++++++++++--------
 tests/eds/avatar-details.vala                   |  6 +++---
 tests/eds/email-details.vala                    |  4 ++--
 tests/eds/im-details.vala                       |  2 +-
 tests/eds/individual-retrieval.vala             |  2 +-
 tests/eds/link-personas-diff-stores.vala        |  4 ++--
 tests/eds/link-personas.vala                    |  8 ++++----
 tests/eds/name-details.vala                     |  2 +-
 tests/eds/persona-store-tests.vala              |  2 +-
 tests/eds/phone-details.vala                    |  6 +++---
 tests/eds/postal-address-details.vala           | 10 +++++-----
 tests/eds/remove-persona.vala                   |  6 +++---
 tests/eds/removing-contacts.vala                |  4 ++--
 tests/eds/set-avatar.vala                       |  4 ++--
 tests/eds/set-birthday.vala                     |  2 +-
 tests/eds/set-emails.vala                       |  6 +++---
 tests/eds/set-gender.vala                       |  2 +-
 tests/eds/set-im-addresses.vala                 |  2 +-
 tests/eds/set-is-favourite.vala                 |  2 +-
 tests/eds/set-names.vala                        |  2 +-
 tests/eds/set-notes.vala                        |  2 +-
 tests/eds/set-phones.vala                       |  9 +++++----
 tests/eds/set-postal-addresses.vala             | 10 +++++-----
 tests/eds/set-properties-race.vala              | 10 +++++-----
 tests/eds/set-roles.vala                        |  2 +-
 tests/eds/set-structured-name.vala              |  2 +-
 tests/eds/set-urls.vala                         |  8 +++++---
 tests/eds/updating-contacts.vala                |  4 ++--
 tests/key-file/individual-retrieval.vala        |  4 ++--
 tests/lib/test-case.vala                        |  2 +-
 tests/telepathy/individual-properties.vala      | 10 +++++-----
 tests/telepathy/persona-store-capabilities.vala |  2 +-
 33 files changed, 85 insertions(+), 80 deletions(-)

commit 84dab9a4e3e286be601eb105b8bb6f6d57ec0d46
Author: Erick Pérez Castellanos <erick.red@gmail.com>
Date:   Thu Aug 9 14:55:38 2012 -0400

    Fixes to build with last vala release.

    Vala change:
    1. Warn when accessing static members with an instance reference.
    2. Deprecate implicit .begin for async methods.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=681420

 folks/backend-store.vala         |  8 ++++----
 folks/individual-aggregator.vala | 16 ++++++++--------
 folks/object-cache.vala          | 16 ++++++++--------
 folks/phone-details.vala         | 10 +++++-----
 folks/potential-match.vala       | 10 +++++-----
 5 files changed, 30 insertions(+), 30 deletions(-)

commit 887aab26f35f9ac2e9bf1baa92004b4c3ccafd3e
Author: Erick Pérez Castellanos <erick.red@gmail.com>
Date:   Thu Aug 9 14:54:54 2012 -0400

    telepathy backend fixed to match last vala release.

    Vala change:
    1. Warn when accessing static members with an instance reference.
    2. Deprecate implicit .begin for async methods.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=681420

 backends/telepathy/lib/tpf-logger.vala             | 22
 +++++++++++-----------
 .../telepathy/lib/tpf-persona-store-cache.vala     |  4 ++--
 backends/telepathy/lib/tpf-persona-store.vala      |  6 +++---
 backends/telepathy/lib/tpf-persona.vala            |  4 ++--
 4 files changed, 18 insertions(+), 18 deletions(-)

commit ab760eba2585f2672923a020d18db510ba4591a4
Author: Erick Pérez Castellanos <erick.red@gmail.com>
Date:   Thu Aug 9 14:54:04 2012 -0400

    key-file backend fixed to match last vala release.

    Vala change:
    1. Warn when accessing static members with an instance reference.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=681420

 backends/key-file/kf-persona-store.vala | 4 ++--
 backends/key-file/kf-persona.vala       | 6 +++---
 2 files changed, 5 insertions(+), 5 deletions(-)

commit ae2982b2829a1820c3238ee1c76c4ba59da051b0
Author: Erick Pérez Castellanos <erick.red@gmail.com>
Date:   Thu Aug 9 14:52:52 2012 -0400

    eds backend fixed to match last vala release.

    Vala change:
    1. Warn when accessing static members with an instance reference.

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=681420

 backends/eds/eds-backend.vala            |  2 +-
 backends/eds/lib/edsf-persona-store.vala |  8 ++++----
 backends/eds/lib/edsf-persona.vala       | 12 ++++++------
 3 files changed, 11 insertions(+), 11 deletions(-)

commit 36875052cd71018cb1b39482ed74f02222d2d63d
Author: Arvis Lacis <arvis.lacis@gmail.com>
Date:   Tue Aug 7 22:22:53 2012 +0300

    Added Latvian translation

 po/LINGUAS |   1 +
 po/lv.po   | 680
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 681 insertions(+)

commit dc90a2aab0818e99a9876e7b2054c92839179ae1
Author: chandankumar <chandankumar@git.gnome.org>
Date:   Tue Aug 7 11:22:34 2012 +0530

    LINGUAS updated and new hindi translation added

 po/LINGUAS |   1 +
 po/hi.po   | 686
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 687 insertions(+)

commit 742e0c68304949e2e92c0297601cfb4609b0018e
Author: Nilamdyuti Goswami <nilamdyuti@gmail.com>
Date:   Mon Aug 6 13:46:18 2012 +0530

    Assamese translation completed

 po/as.po | 685
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 685 insertions(+)

commit 8b0511ae5c35f486471faaf9ff33c6b82b84b1ce
Author: Nilamdyuti Goswami <nilamdyuti@gmail.com>
Date:   Mon Aug 6 09:11:52 2012 +0530

    Added Assamese to LINGUAS

 po/LINGUAS | 1 +
 1 file changed, 1 insertion(+)

commit a6de27c8f8b5dba0aeafa85ac6c2b5b979a9f77f
Author: Alban Browaeys <prahal@yahoo.com>
Date:   Wed Aug 1 14:43:21 2012 +0200

    configure: -Werror= make no sense for "no" and "extra"

    gcc error out when -Werror=extra -Werror=no-*
    are used. And it is the most sensible thing to do.

    https://bugzilla.gnome.org/show_bug.cgi?id=680976

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 452c9f797857bdf438feb663b4074bf5bf1cea34
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Tue Jul 31 17:04:06 2012 +0200

    Post-release version bump

 NEWS         | 5 +++++
 configure.ac | 4 ++--
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 8cfa7928887ea8eb868d328af527d81e79f01e90
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Jul 30 12:50:08 2012 +0200

    build: Add a missing file to MAINTAINERCLEANFILES

 backends/telepathy/lib/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 0e9fdc848222d35700634f284e6b3894f6418370
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Jul 30 11:12:05 2012 +0200

    build: Remove -Werror from CFLAGS

    Replace it with a more targetted set of -Werror=[flag] flags,
    copied from
    libsoup:
    http://git.gnome.org/browse/libsoup/tree/configure.ac?id=f5902fce98ae0314f0d9ca6e544895548c94a456#n339

 configure.ac | 45 +++++++++++++++++++++++++++++++++++----------
 1 file changed, 35 insertions(+), 10 deletions(-)

commit 5438bd82d8cb4a2f1d6060c55a526f858b80a74b
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   Mon Jul 30 02:50:19 2012 +0200

    Updated Galician translations

 po/gl.po | 225
 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 110 insertions(+), 115 deletions(-)

commit faafc90657de41a82cf15f66f6b9eadae1191208
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Jul 29 20:06:02 2012 +0200

    eds: Remove unnecessary valadoc taglet

    The [Deprecated] code attribute serves the same purpose.

 backends/eds/lib/edsf-persona-store.vala | 1 -
 1 file changed, 1 deletion(-)

commit 8703f9db92532ba9982a3c75fbe7c6cfd671ba7d
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Jul 29 20:04:44 2012 +0200

    docs: Add “wiki” pages to the documentation

    These, aptly enough, contain information moved from the wiki on
    freedesktop.org about folks concepts, debugging and a glossary.

 docs/Makefile.am            | 16 ++++++++++++++--
 docs/wiki/concepts.valadoc  | 28 ++++++++++++++++++++++++++++
 docs/wiki/debugging.valadoc | 34 ++++++++++++++++++++++++++++++++++
 docs/wiki/glossary.valadoc  | 11 +++++++++++
 4 files changed, 87 insertions(+), 2 deletions(-)

commit 97a92c56e04e03467c2fd764e96db9b64ad26ca6
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Jul 29 17:26:07 2012 +0200

    Release version 0.7.3

 NEWS                               |  8 ++++----
 backends/eds/lib/edsf-persona.vala |  6 +++---
 backends/key-file/kf-persona.vala  |  4 ++--
 configure.ac                       | 10 +++++-----
 folks/anti-linkable.vala           | 12 ++++++------
 folks/individual-aggregator.vala   |  2 +-
 folks/individual.vala              |  4 ++--
 folks/persona-store.vala           |  2 +-
 8 files changed, 24 insertions(+), 24 deletions(-)

commit d9cccbd2640368726a4bf04acd3be8c75289695a
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Jul 29 09:50:38 2012 +0200

    build: Add a missing file to the tests Makefile

 tests/tools/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 2e40d07dd7da9ea145a42fa7647b84b3d8144ea8
Author: Stas Solovey <whats_up@tut.by>
Date:   Sun Jul 29 18:09:24 2012 +0400

    Updated Russian translation

 po/LINGUAS |   1 +
 po/ru.po   | 663
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 664 insertions(+)

commit bc9e6e806dc4cd7f44d9cf8d9da5b136f49d4477
Author: Christian Kirbach <Christian.Kirbach@googlemail.com>
Date:   Sun Jul 29 00:16:34 2012 +0200

    Updated German translation

 po/de.po | 585
 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 300 insertions(+), 285 deletions(-)

commit ac9d990f19a05695e243136fec18822d99affb4e
Author: Sweta Kothari <swkothar@redhat.com>
Date:   Fri Jul 27 15:30:54 2012 +0530

    Updated gujarati file  & Added LINGUAS file for gujarati

 po/LINGUAS |   1 +
 po/gu.po   | 654
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 655 insertions(+)

commit 76b81c892c3ce7b32f58f2606cc79a1fc28e4997
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Jul 24 12:46:06 2012 -0600

    Revert "Change libgee dependency from 0.6 to 0.8."

    This reverts commit 5b5360bff7a61ef17173cbe35cc32712ca0fc329.

 backends/eds/Makefile.am                                |  2 +-
 backends/eds/lib/Makefile.am                            |  2 +-
 backends/eds/lib/folks-eds-uninstalled.pc.in            |  2 +-
 backends/eds/lib/folks-eds.deps                         |  2 +-
 backends/eds/lib/folks-eds.pc.in                        |  2 +-
 backends/key-file/Makefile.am                           |  2 +-
 backends/libsocialweb/Makefile.am                       |  2 +-
 backends/libsocialweb/lib/Makefile.am                   |  4 ++--
 .../lib/folks-libsocialweb-uninstalled.pc.in            |  2 +-
 backends/libsocialweb/lib/folks-libsocialweb.pc.in      |  2 +-
 backends/telepathy/Makefile.am                          |  2 +-
 backends/telepathy/lib/Makefile.am                      |  2 +-
 .../telepathy/lib/folks-telepathy-uninstalled.pc.in     |  2 +-
 backends/telepathy/lib/folks-telepathy.pc.in            |  2 +-
 backends/tracker/Makefile.am                            |  2 +-
 backends/tracker/lib/Makefile.am                        |  4 ++--
 backends/tracker/lib/folks-tracker-uninstalled.pc.in    |  2 +-
 backends/tracker/lib/folks-tracker.pc.in                |  2 +-
 configure.ac                                            | 17
 ++++++++++++++---
 docs/Makefile.am                                        |  8 ++++----
 folks/Makefile.am                                       |  4 ++--
 folks/folks-uninstalled.pc.in                           |  2 +-
 folks/folks.deps                                        |  2 +-
 folks/folks.pc.in                                       |  2 +-
 tests/eds/Makefile.am                                   |  2 +-
 tests/folks/Makefile.am                                 |  2 +-
 tests/key-file/Makefile.am                              |  2 +-
 tests/lib/Makefile.am                                   |  2 +-
 tests/lib/eds/Makefile.am                               |  2 +-
 tests/lib/libsocialweb/Makefile.am                      |  2 +-
 tests/lib/telepathy/contactlist/Makefile.am             |  2 +-
 tests/lib/tracker/Makefile.am                           |  2 +-
 tests/libsocialweb/Makefile.am                          |  2 +-
 tests/telepathy/Makefile.am                             |  2 +-
 tests/tracker/Makefile.am                               |  2 +-
 tools/Makefile.am                                       |  2 +-
 tools/inspect/Makefile.am                               |  2 +-
 37 files changed, 56 insertions(+), 45 deletions(-)

commit 80f317be05e60d94fea4a691506760a8b35f314e
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Jul 24 12:44:25 2012 -0600

    Revert "Port folks to libgee 0.8."

    This reverts commit e069bbe59dc54eb3595d8ee5c96aea4a36cff9aa.

 backends/eds/lib/edsf-persona.vala                 | 60
 +++++++++++-----------
 backends/key-file/kf-persona.vala                  | 15 +++---
 backends/libsocialweb/lib/swf-persona.vala         | 11 ++--
 .../telepathy/lib/tpf-persona-store-cache.vala     | 12 ++---
 backends/telepathy/lib/tpf-persona.vala            | 28 +++++-----
 backends/tracker/lib/trf-persona-store.vala        |  4 +-
 backends/tracker/lib/trf-persona.vala              | 52
 +++++++++----------
 folks/abstract-field-details.vala                  | 48 -----------------
 folks/backend-store.vala                           |  9 ++--
 folks/debug.vala                                   |  2 +-
 folks/individual-aggregator.vala                   |  8 +--
 folks/individual.vala                              | 47 +++++++++--------
 folks/potential-match.vala                         |  2 +-
 tests/eds/add-persona.vala                         | 20 ++++----
 tests/eds/email-details.vala                       |  3 +-
 tests/eds/individual-retrieval.vala                |  3 +-
 tests/eds/link-personas.vala                       | 20 ++++----
 tests/eds/phone-details.vala                       |  3 +-
 tests/eds/set-emails.vala                          |  4 +-
 tests/eds/set-im-addresses.vala                    |  4 +-
 tests/eds/set-phones.vala                          |  4 +-
 tests/eds/set-roles.vala                           |  4 +-
 tests/folks/aggregation.vala                       |  2 +-
 tests/folks/backend-loading.vala                   | 12 ++---
 tests/key-file/individual-retrieval.vala           |  3 +-
 tests/telepathy/individual-properties.vala         | 12 ++---
 tests/telepathy/individual-retrieval.vala          |  7 +--
 tests/tracker/add-persona.vala                     | 28 +++++-----
 tests/tracker/duplicated-emails.vala               |  8 +--
 tests/tracker/duplicated-phones.vala               |  8 +--
 tests/tracker/link-personas.vala                   |  8 +--
 tests/tracker/match-email-addresses.vala           |  8 +--
 tests/tracker/match-im-addresses.vala              |  8 +--
 tests/tracker/match-known-emails.vala              |  8 +--
 tests/tracker/match-phone-number.vala              |  8 +--
 tests/tracker/remove-persona.vala                  |  4 +-
 tests/tracker/set-duplicate-email.vala             |  8 +--
 tests/tracker/set-emails.vala                      |  4 +-
 tests/tracker/set-im-addresses.vala                |  4 +-
 tests/tracker/set-notes.vala                       |  4 +-
 tests/tracker/set-phones.vala                      |  4 +-
 tests/tracker/set-postal-addresses.vala            |  4 +-
 tests/tracker/set-roles.vala                       |  4 +-
 tests/tracker/set-urls.vala                        |  4 +-
 tools/inspect/inspect.vala                         |  2 +-
 45 files changed, 240 insertions(+), 285 deletions(-)

commit 19f77e2a6ca09fb74635c5387bd2e9a98aa7bfe3
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sat Jul 21 01:25:01 2012 +0100

    Bug 660236 — Paging for long text in folks-inspect

    Use $PAGER to allow paging of the output of really long commands in
    folks-inspect.

    Based on work by Raúl Gutierrez Segales and Jeremy Whiting.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=660236

 NEWS                       |   1 +
 tools/inspect/Makefile.am  |   1 +
 tools/inspect/inspect.vala | 320
 ++++++++++++++++++++++++++++++++++++---------
 tools/inspect/utils.vala   |   6 +-
 4 files changed, 268 insertions(+), 60 deletions(-)

commit 3a78f2dbc4d903be02f3969cfd8736749c717682
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Jul 23 12:52:18 2012 -0600

    Remove extra calls to set this._prepare_pending to false.

 backends/eds/lib/edsf-persona-store.vala         | 1 -
 backends/key-file/kf-persona-store.vala          | 3 ---
 backends/libsocialweb/lib/swf-persona-store.vala | 3 ---
 backends/libsocialweb/sw-backend.vala            | 4 ++--
 4 files changed, 2 insertions(+), 9 deletions(-)

commit 779f1ea93d54543548a49eb1649ea1f86fb0734f
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Jul 20 14:57:56 2012 -0600

    Removed locks in trf-persona-store that are not needed.
    Minor style fixes based on review of previous changes.

 backends/libsocialweb/lib/swf-persona-store.vala | 16 ++++--
 backends/libsocialweb/sw-backend.vala            | 66
 +++++++++++++-----------
 backends/telepathy/lib/tpf-persona-store.vala    |  1 -
 backends/telepathy/tp-backend.vala               |  2 +
 backends/tracker/lib/trf-persona-store.vala      | 51 +++++++-----------
 tests/folks/async-locking.vala                   |  3 ++
 6 files changed, 72 insertions(+), 67 deletions(-)

commit f598028e0a29c91c3aeff0fcb322a120bdde5118
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Jul 20 10:51:08 2012 -0600

    Remove additional locks around this._is_prepared.

 backends/eds/eds-backend.vala            |  94 +++++++++++-----------
 backends/eds/lib/edsf-persona-store.vala |  31 +++-----
 backends/key-file/kf-backend.vala        | 130
 +++++++++++++++----------------
 backends/key-file/kf-persona-store.vala  |   1 -
 backends/libsocialweb/sw-backend.vala    |  84 ++++++++++----------
 backends/telepathy/tp-backend.vala       |  96 +++++++++++------------
 backends/tracker/tr-backend.vala         |  76 +++++++++---------
 folks/individual-aggregator.vala         |  77 +++++++++---------
 8 files changed, 275 insertions(+), 314 deletions(-)

commit 0a21e25cfd8753185e21653d1f0c5c3b85c38dab
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Wed Jul 6 18:13:36 2011 -0700

    Cut unnecessary locking in Tracker backend tests.

    Closes: bgo#652637 - Don't hold locks across async calls

 NEWS                                     |  1 +
 tests/tracker/add-persona.vala           | 10 +++-------
 tests/tracker/duplicated-emails.vala     | 10 +++-------
 tests/tracker/duplicated-phones.vala     | 10 +++-------
 tests/tracker/match-all.vala             | 10 +++-------
 tests/tracker/match-email-addresses.vala | 10 +++-------
 tests/tracker/match-im-addresses.vala    | 10 +++-------
 tests/tracker/match-known-emails.vala    | 10 +++-------
 tests/tracker/match-name.vala            | 10 +++-------
 tests/tracker/match-phone-number.vala    | 10 +++-------
 tests/tracker/set-duplicate-email.vala   | 10 +++-------
 11 files changed, 31 insertions(+), 70 deletions(-)

commit ddd1908733002e5159194e137c775ddb0022f904
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Wed Jul 6 17:54:01 2011 -0700

    Cut unnecessary Swf.PersonaStore._is_prepared locking.

    Helps: bgo#652637 - Don't hold locks across async calls

 backends/libsocialweb/lib/swf-persona-store.vala | 151
 +++++++++++------------
 1 file changed, 74 insertions(+), 77 deletions(-)

commit 2c957a5d58c61dfb44b89babe2c7bfb11742b562
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Wed Jul 6 17:51:07 2011 -0700

    Cut unnecessary Kf.PersonaStore._is_prepared locking.

    Helps: bgo#652637 - Don't hold locks across async calls

 backends/key-file/kf-persona-store.vala | 218
 ++++++++++++++++----------------
 1 file changed, 107 insertions(+), 111 deletions(-)

commit a875a1fad9f65b59c57198c72e83373840823304
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Wed Jul 6 17:39:40 2011 -0700

    Cut unnecessary Tpf.PersonaStore._is_prepared locking.

    Helps: bgo#652637 - Don't hold locks across async calls

 backends/telepathy/lib/tpf-persona-store.vala | 207
 +++++++++++++-------------
 1 file changed, 102 insertions(+), 105 deletions(-)

commit 7753697900fdb7943ac48e620676409f46f40c4d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Wed Jul 6 17:21:56 2011 -0700

    Cut unnecessary Trf.PersonaStore._is_prepared locking.

    Helps: bgo#652637 - Don't hold locks across async calls

 backends/tracker/lib/trf-persona-store.vala | 153
 ++++++++++++++--------------
 1 file changed, 75 insertions(+), 78 deletions(-)

commit 8303d317a57af3caf2521aa636327485f2e7e3b8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Wed Jul 6 17:58:05 2011 -0700

    Prevent extra "concurrent" Aggregator prepare() calls from one thread.

    Helps: bgo#652637 - Don't hold locks across async calls

 folks/individual-aggregator.vala | 1 +
 1 file changed, 1 insertion(+)

commit d94b174d002d9304fff090c4eca8d1aa2930d6c6
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Wed Jul 6 14:48:43 2011 -0700

    Prevent extra "concurrent" PersonaStore.prepare() calls from one
    thread.

    The lock() calls which were in place only prevent concurrent
    calls from
    different threads; however, the critical section could still be
    reached
    from two async calls in the same thread a la:

    backend.prepare.begin ((s,r) => {...});
    backend.prepare.begin ((s,r) => {...});

    The bodies of the handlers would not literally execute concurrently,
    but
    would be interleaved if each were sufficiently long. Our fix simply
    ignores any calls which happen while one is still working.

    (yield backend.prepare(); yield backend.prepare(); was already
    safe, of
    course)

    Helps: bgo#652637 - Don't hold locks across async calls

 backends/key-file/kf-persona-store.vala       | 4 ++++
 backends/telepathy/lib/tpf-persona-store.vala | 1 +
 backends/tracker/lib/trf-persona-store.vala   | 4 ++++
 3 files changed, 9 insertions(+)

commit 1492a80a0a05988b32b1d49895002a738c68ebfc
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Wed Jul 6 11:09:26 2011 -0700

    Add test cases for mutexing for async calls from the same thread.

    The standard Vala lock() call is a recursive lock, so it only prevents
    concurrent access between different threads. But we rarely run in
    distinct threads, so this test uses a more-complete solution that
    we can
    depend upon (since the test will fail if its assumptions ever
    change in
    Vala).

    Helps: bgo#652637 - Don't hold locks across async calls

 tests/folks/Makefile.am        |   6 ++
 tests/folks/async-locking.vala | 160
 +++++++++++++++++++++++++++++++++++++++++
 2 files changed, 166 insertions(+)

commit 67f8e41bcc56fe1c38f7e6eb4b60ef5dc971549a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Tue Jul 5 14:36:49 2011 -0700

    Fix Tracker structure locking for user-initiated Persona adds.

    Helps: bgo#652637 - Don't hold locks across async calls

 backends/tracker/lib/trf-persona-store.vala | 52
 +++++++++++++++--------------
 1 file changed, 27 insertions(+), 25 deletions(-)

commit 35e6e8f5e4885ac272a357d287b3c3442f9051d0
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   Mon Jul 23 12:27:16 2012 +0200

    Updated Norwegian bokmål translation

 po/nb.po | 186
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 97 insertions(+), 89 deletions(-)

commit aefde69c13877c6c12298a2a930127c118073695
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Jul 22 13:04:59 2012 +0100

    eds: Make some PersonaStore methods synchronous

    There was absolutely no point in them being asynchronous (they
    didn’t yield
    at all, and didn’t run any blocking operations), so were just
    generating
    excess C code and slowing everything down.

    This cuts 1200 lines from edsf-persona-store.c.

 backends/eds/lib/edsf-persona-store.vala | 86
 +++++++++++++++-----------------
 1 file changed, 40 insertions(+), 46 deletions(-)

commit be282dda2e2913afce09d6140f405d96001c6d4b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Jul 22 09:10:29 2012 +0100

    eds: Hide the “Starred in Android” group from the set of groups

    For Google address books, it’s used to determine whether a contact
    is a
    favourite, so needn’t be shown in the set of groups.

    Note that this requires commit
    161faab40fa65e813ac98042ef822298dc58cfde
    from EDS in order to behave properly.

    See: https://bugzilla.gnome.org/show_bug.cgi?id=661490

 backends/eds/lib/edsf-persona-store.vala | 52 +++++++++------------
 backends/eds/lib/edsf-persona.vala       | 77
 +++++++++++---------------------
 2 files changed, 48 insertions(+), 81 deletions(-)

commit 95496d952b3be5bab1e8bcc0cd699a8af8088a7f
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:   Fri Jul 20 00:07:52 2012 +0300

    Added Belarusian translation.

 po/LINGUAS |   1 +
 po/be.po   | 672
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 673 insertions(+)

commit 62f0cce53ddeb64f9934754b39af7adf3b3002ca
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Thu Jul 19 05:04:31 2012 +0100

    core: Fix documentation on GroupDetails.groups

    It was out of date and didn’t match the data type of
    GroupDetails.groups
    any more.

    See: https://bugzilla.gnome.org/show_bug.cgi?id=679743

 backends/telepathy/lib/tpf-persona.vala | 2 +-
 folks/group-details.vala                | 6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit c2338c651edd3fcdc3ef28c94d87351b8c6bae27
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Fri Jun 22 19:17:42 2012 +0100

    telepathy: Preserve Tpf.Persona avatars from the cache for online
    contacts

    This is a fairly hacky way of fixing the problem in bug #660128:
    maintaining
    a map of IIDs to avatar files for all personas in the Telepathy
    backend, and
    referring to it in case Telepathy doesn’t know the current avatar
    for a
    TpContact. This can happen if that contact is currently offline
    while we’re
    online, for example. This allows use of the avatars cached from
    last time
    contacts were online, even though those contacts are now offline.

    A more comprehensive fix, which I would have implemented if I hadn’t
    just got
    my degree classification and weren’t just heading out to celebrate,
    would
    involve rearchitecting the caching of the Telepathy backend so
    that the
    Tpf.Personas weren’t destroyed and re-created whenever the
    backend went
    offline/online; instead, they would have their properties updated
    from the
    cache/online contact list. This would eliminate spurious
    personas-changed
    signals, unify the code implementing the different properties
    (currently it’s
    split between the properties and separate implementations in
    Tpf.Persona.from_cache()), and allow property values to persist
    from offline
    to online without the need for hacks like this.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=660128

 backends/telepathy/lib/tpf-persona-store.vala | 35 ++++++++++++++++++++
 backends/telepathy/lib/tpf-persona.vala       | 46
 ++++++++++++++++++++++++---
 2 files changed, 76 insertions(+), 5 deletions(-)

commit 36ecd01a58b952c40c985166aa74ededda7fcefc
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Fri Jun 22 19:09:57 2012 +0100

    telepathy: Allow for updated Tpf.Personas properties to update
    the cache

    Currently, the cache is only written when going offline, which means
    that any
    properties of Tpf.Personas which are updated at runtime aren’t
    written to the
    cache unless the client explicitly goes offline before being
    closed. This
    doesn’t often happen, meaning the property updates are lost and
    the cache
    becomes stale.

    This commit keeps track of the clean/dirty state of the cache and
    writes it
    out when PersonaStore.flush() is called. It also adds a new method,
    IndividualAggregator.unprepare(), which ensures all the persona
    stores handled
    by the aggregator are flushed. Clients should call this method
    before closing
    their main loop.

    (Calling flush() in the finalise function of the PersonaStore
    doesn’t work
    because Tpf.PersonaStores are often never finalised due to the
    implementation
    of Tpf.PersonaStore.dup_for_account(). Furthermore, calling flush()
    in the
    finalise function of the IndividualAggregator doesn’t work because
    the client
    will typically quit the main loop immediately afterwards, which
    will cancel
    the asynchronous flush call.)

    New API:
     • IndividualAggregator.unprepare()

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=660128

 NEWS                                          |  2 +
 backends/telepathy/lib/tpf-persona-store.vala | 72
 +++++++++++++++++++++------
 backends/telepathy/lib/tpf-persona.vala       | 24 +++++++++
 folks/individual-aggregator.vala              | 43 ++++++++++++++++
 4 files changed, 126 insertions(+), 15 deletions(-)

commit 6f743fdc074910ff8f4d0b91753e82a0b2c92867
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Fri Jun 22 19:03:55 2012 +0100

    core: Don’t keep references to PersonaStores in each Individual

    Pointless and it makes debugging reference counting bugs a real pain.

 folks/individual.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 921686c334179b58545ead8726cb1684b3d7736c
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Wed Jul 18 12:44:06 2012 -0600

    telepathy: Change warning about CM not implementing contact list to
    debug message.
    fixes: 675223

 NEWS                                          | 1 +
 backends/telepathy/lib/tpf-persona-store.vala | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit dfa96f91fe046e39861a15a305cc05ef9c9bbc5c
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:   Tue Jul 17 22:03:17 2012 +0200

    Updated Serbian translation

 po/sr.po       | 2 +-
 po/sr@latin.po | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 93b5960af48e47dfe3e07e4f3aeda592c812d9bf
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:   Tue Jul 17 22:00:50 2012 +0200

    Added Serbian translation

 po/LINGUAS     |   2 +
 po/sr.po       | 686
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 po/sr@latin.po | 686
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 1374 insertions(+)

commit 9d4ce6a116cfe4707c43135086bb850cf5b0be3c
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Jul 16 16:30:14 2012 -0600

    Update NEWS file adding recently fixed bug.

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit 09e397b9bb690a17a7c80da6e098919d402aff9b
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Jul 16 16:10:33 2012 -0600

    eds: Trust google address books FULL since authorization is required
    to load.

 backends/eds/lib/edsf-persona-store.vala | 3 +++
 1 file changed, 3 insertions(+)

commit aa1c25a54d928eca02385de20925c8f20421babb
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Jul 16 16:09:55 2012 -0600

    folks: Don't downgrade persona store trust level.

 folks/persona-store.vala | 20 +++++++++++++++++++-
 1 file changed, 19 insertions(+), 1 deletion(-)

commit 3485f63a16213542183498a41aa8b9bd5d75cb56
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Jul 16 15:37:49 2012 -0600

    tracker: Fix tracker unit tests to wait until persona store is
    prepared.

 tests/tracker/link-personas-via-local-ids.vala | 10 ++++++++--
 tests/tracker/link-personas.vala               | 10 ++++++++--
 2 files changed, 16 insertions(+), 4 deletions(-)

commit cfcebbd6272db4efd7e88ae1aa999afc07bf4132
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Jul 16 15:30:16 2012 -0600

    tracker: Throw an error if personas are added before store is
    prepared.

 backends/tracker/lib/trf-persona-store.vala | 7 +++++++
 1 file changed, 7 insertions(+)

commit 358e7d8cd7c62f7df4f0897922881ebebb19f925
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Jul 16 10:19:10 2012 -0600

    tests: Add execute-test.sh to do test output capturing.
    tests: Call execute-test.sh from each of with-session-bus scripts.

 tests/tools/execute-test.sh             | 28 ++++++++++++++++++++++++++++
 tests/tools/with-session-bus-eds.sh     |  3 ++-
 tests/tools/with-session-bus-tracker.sh |  2 +-
 tests/tools/with-session-bus.sh         | 18 ++----------------
 4 files changed, 33 insertions(+), 18 deletions(-)

commit ebb44f51171db5f9ee013333f82ba2d0018f23e7
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Jul 16 10:16:39 2012 -0600

    Send eds server debug output into /dev/null along with regular output.
    Extend sleep time to 2 seconds.

 tests/tools/eds.sh | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit d2e60d68156c101e5ba65760b1f4867058f9c6ee
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Mon Jul 16 16:42:24 2012 +0200

    Updated Spanish translation

 po/es.po | 213
 ++++++++++++++++++++++++++++++---------------------------------
 1 file changed, 102 insertions(+), 111 deletions(-)

commit 65fc62d7b5e403b040ac1a2c2faa754d84ddb937
Author: Aurimas Černius <aurisc4@gmail.com>
Date:   Sat Jul 14 14:59:28 2012 +0300

    Added Lithuanian translation

 po/LINGUAS |   1 +
 po/lt.po   | 647
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 648 insertions(+)

commit 90ea3d0b130e4137cbf23e18f80eca9cf306e471
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:   Sat Jul 14 13:40:54 2012 +0800

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

 po/LINGUAS  |   2 +
 po/zh_HK.po | 659
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 po/zh_TW.po | 664
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 1325 insertions(+)

commit 4efd37460b929233404dc84e6923611f901e7aac
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Fri Jul 13 23:17:33 2012 +0100

    telepathy: Tidy up group change notification handling in Tpf.Persona

 backends/telepathy/lib/tpf-persona.vala | 36
 ++++++++++++++-------------------
 1 file changed, 15 insertions(+), 21 deletions(-)

commit 85e8d88f2dae0480d9804f6e60f9e6575cb9488a
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Jun 24 11:50:06 2012 +0100

    eds: Add an Edsf.Persona.in_google_personal_group property

    This is set whenever the persona is in the “My Contacts” group
    in Google
    Contacts, which is normally exposed by EDS as being in the
    “Personal”
    category. This system group can’t be reliably detected normally
    as “Personal”
    is translated by EDS. This caused problems for gnome-contacts,
    hence the
    new API.

    The new API requires EDS 3.5.3 at runtime, and will always be false
    otherwise.

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=676383

 NEWS                               |  3 ++-
 backends/eds/lib/edsf-persona.vala | 47
 +++++++++++++++++++++++++++++++++++++-
 2 files changed, 48 insertions(+), 2 deletions(-)

commit 134c64b5fcf576c3b989c8d468cad82e4b0813fd
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Jul 10 14:48:59 2012 -0600

    Remove gconf soft dependency used for eds unit tests.
    Fixes: bgo 674611

 configure.ac                        |  6 -----
 folks/Makefile.am                   |  1 -
 tests/data/Makefile.am              | 19 -------------
 tests/data/gconf.path.in            | 54
 -------------------------------------
 tests/eds/Makefile.am               |  1 -
 tests/folks/Makefile.am             |  1 -
 tests/libsocialweb/Makefile.am      |  1 -
 tests/tools/with-session-bus-eds.sh |  4 ---
 tests/tracker/Makefile.am           |  1 -
 9 files changed, 88 deletions(-)

commit 0b36298ec59d971e41210d0e31d2ae1118453a33
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Jul 13 15:11:27 2012 -0600

    Add a sleep for one second after starting the eds servers.
    Fixes inconsistent eds unit test failures.  All tests pass here now.

 tests/tools/eds.sh | 1 +
 1 file changed, 1 insertion(+)

commit 91e9b0d9258155cb6e8a4a7af83a890f65e861b7
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Jul 13 10:59:39 2012 -0600

    telepathy: Set _prepare_pending to true at beginning of prepare.
    Fixes folks init unit test failure.

 backends/telepathy/tp-backend.vala | 1 +
 1 file changed, 1 insertion(+)

commit 162919a17115663060887e8041a7b17514ecea26
Merge: 553b3e1 fc98984
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Jul 12 14:22:41 2012 -0600

    Merge branch 'cleantestoutput'
    Reviewed-by: Philip Withnal
    Closes: bgo 657456 https://bugzilla.gnome.org/show_bug.cgi?id=657456

commit 553b3e12454281604b48c27c5b14a6cfc746d142
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Jul 9 21:18:41 2012 +0100

    Bug 679618 — Crash when unsetting all groups

    Rework the group changing code in Tpf.Persona so that:
     1. change_groups() no longer changes the set of groups while
     iterating
        over it; and
     2. batch Telepathy calls are made where possible, rather than one
     call per
        group change.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=679618

 NEWS                                    |  1 +
 backends/telepathy/lib/tpf-persona.vala | 30
 ++++++++++--------------------
 2 files changed, 11 insertions(+), 20 deletions(-)

commit fc98984b1d70dcb3df480ce412817ac3e5de922d
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Jul 10 14:22:29 2012 -0600

    Make test output use color for PASS/FAIL.
    Don't show test output unless CHECK_VERBOSE is set.
    Fixes: bgo 657456

 configure.ac                    |  2 +-
 tests/tools/with-session-bus.sh | 17 +++++++++++++++--
 2 files changed, 16 insertions(+), 3 deletions(-)

commit 9cc834fc7a2af401de11232471186f914634cd8f
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   Mon Jul 9 14:33:34 2012 +0200

    Updated Norwegian bokmål translation

 po/nb.po | 230
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 121 insertions(+), 109 deletions(-)

commit 59ec2ec9dd8519ed4220015b760c4d0e95f1db03
Author: Bruno Brouard <annoa.b@gmail.com>
Date:   Sun Jul 8 11:28:19 2012 +0200

    New French translation

 po/LINGUAS |   1 +
 po/fr.po   | 708
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 709 insertions(+)

commit 675574faba2fe9fbb4e9c663f6a1a79acf7f5d3e
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   Sat Jul 7 22:58:13 2012 +0200

    Updated POTFILES.in and POTFILES.skip

 po/POTFILES.in   | 1 +
 po/POTFILES.skip | 1 +
 2 files changed, 2 insertions(+)

commit 9ccd3a11b8baef9378afd453b96df0e7396117f5
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun May 6 22:59:45 2012 +0100

    key-file: Add anti-linking support

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=629537

 backends/key-file/kf-persona-store.vala |  5 ++-
 backends/key-file/kf-persona.vala       | 70
 ++++++++++++++++++++++++++++++++-
 2 files changed, 73 insertions(+), 2 deletions(-)

commit a87ba87ae231f2c2f511fad804c8cfd8da4c82e3
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun May 6 22:59:34 2012 +0100

    eds: Add anti-linking support

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=629537

 backends/eds/lib/edsf-persona-store.vala | 53
 ++++++++++++++++++++++++++--
 backends/eds/lib/edsf-persona.vala       | 59
 ++++++++++++++++++++++++++++++++
 2 files changed, 109 insertions(+), 3 deletions(-)

commit 1441ae9ddda3dfba8a67d18ecc6a75e16d389553
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Jul 25 20:27:29 2011 +0100

    core: Add core anti-linking support

    This adds the core of the anti-linking support, based around a new
    AntiLinkable interface. This will be implemented by Persona subclasses
    which
    can store anti-linking information (in the form of a set of Persona
    UIDs
    which the given Persona should never be linked to).

    This approach allows anti-linking information to be stored with
    the personas
    (presumably in the primary persona store) and thus it should be
    network
    transparent. i.e. Using folks on two different computers with a Google
    Contacts address book as primary should cause the anti-linking data
    to be
    shared.

    This also includes the necessary IndividualAggregator changes.

    Sadly, no unit tests are included.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=629537

 NEWS                             |   3 +-
 folks/Makefile.am                |   1 +
 folks/anti-linkable.vala         | 157
 +++++++++++++++++++++++++++++++++++++++
 folks/individual-aggregator.vala | 117 ++++++++++++++++++++++++-----
 folks/individual.vala            |  60 +++++++++++++++
 folks/persona-store.vala         |  12 ++-
 folks/potential-match.vala       |  10 ++-
 tools/inspect/utils.vala         |   3 +-
 8 files changed, 339 insertions(+), 24 deletions(-)

commit 2f442b4906a9c0f2c44a7d65e379f695e74cf701
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Tue May 8 00:01:42 2012 +0100

    core: Replace the linking step in
    IA.ensure_individual_property_writeable()

    It’s a waste of time to create a new Persona to ensure the
    property is
    writeable, then create _another_ new Persona to link it to the
    Individual.
    Why not just create the writeable Persona so that it’s automatically
    linked
    to the Individual?

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=629537

 folks/individual-aggregator.vala | 31 ++++++++++++++-----------------
 1 file changed, 14 insertions(+), 17 deletions(-)

commit 34e0b4428332291896d10285aa3f610537a8cf1b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon May 7 23:59:56 2012 +0100

    core: Split details table code out of IA.link_personas()

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=629537

 folks/individual-aggregator.vala | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 787c0769dee8f31f8d9372eaf7a69057677832b0
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Thu Dec 8 10:18:25 2011 +0000

    aggregator: Convert the link map to use a MultiMap

    When it's possible to have personas sharing IM addresses but not being
    linked (due to anti-links), the link map's assumption that one
    IM address
    (or other linkable property) maps to one individual will be
    invalid. This
    commit converts the link map to be a HashMultiMap, effectively
    changing it
    from a mapping of string → Individual to a mapping of
    string → Set<Individual>.

    Helps: bgo#629537

 folks/individual-aggregator.vala | 123
 +++++++++++++++++++++++----------------
 1 file changed, 74 insertions(+), 49 deletions(-)

commit 70a24fe7ce536836dabd5bfd8df4af6ca221b6b3
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Jul 6 14:23:59 2012 -0600

    Change urls to links in doc comments, fixes doc creation.

 folks/abstract-field-details.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 10a93e01242e8469adbf7e2813e296f966aefaa2
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Jul 6 09:22:56 2012 -0600

    Add bugfix and dependency change to NEWS.

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit 6c098372cd3f8b77930eb016439326643bdc3f1f
Merge: b67a111 e069bbe
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Jul 6 09:18:51 2012 -0600

    Merge branch libgeetest which upgrades our libgee dependency.
    Fixes bug https://bugzilla.gnome.org/show_bug.cgi?id=673918

commit e069bbe59dc54eb3595d8ee5c96aea4a36cff9aa
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Wed Jul 4 13:11:48 2012 -0600

    Port folks to libgee 0.8.
    Added hash_static and equal_static to AbstractFieldDetails.
    Use AbstractFieldDetails hash_static and equal_static where needed.

 backends/eds/lib/edsf-persona.vala                 | 60
 +++++++++++-----------
 backends/key-file/kf-persona.vala                  | 15 +++---
 backends/libsocialweb/lib/swf-persona.vala         | 11 ++--
 .../telepathy/lib/tpf-persona-store-cache.vala     | 12 ++---
 backends/telepathy/lib/tpf-persona.vala            | 28 +++++-----
 backends/tracker/lib/trf-persona-store.vala        |  4 +-
 backends/tracker/lib/trf-persona.vala              | 52
 +++++++++----------
 folks/abstract-field-details.vala                  | 48 +++++++++++++++++
 folks/backend-store.vala                           |  9 ++--
 folks/debug.vala                                   |  2 +-
 folks/individual-aggregator.vala                   |  8 +--
 folks/individual.vala                              | 47 ++++++++---------
 folks/potential-match.vala                         |  2 +-
 tests/eds/add-persona.vala                         | 20 ++++----
 tests/eds/email-details.vala                       |  3 +-
 tests/eds/individual-retrieval.vala                |  3 +-
 tests/eds/link-personas.vala                       | 20 ++++----
 tests/eds/phone-details.vala                       |  3 +-
 tests/eds/set-emails.vala                          |  4 +-
 tests/eds/set-im-addresses.vala                    |  4 +-
 tests/eds/set-phones.vala                          |  4 +-
 tests/eds/set-roles.vala                           |  4 +-
 tests/folks/aggregation.vala                       |  2 +-
 tests/folks/backend-loading.vala                   | 12 ++---
 tests/key-file/individual-retrieval.vala           |  3 +-
 tests/telepathy/individual-properties.vala         | 12 ++---
 tests/telepathy/individual-retrieval.vala          |  7 ++-
 tests/tracker/add-persona.vala                     | 28 +++++-----
 tests/tracker/duplicated-emails.vala               |  8 +--
 tests/tracker/duplicated-phones.vala               |  8 +--
 tests/tracker/link-personas.vala                   |  8 +--
 tests/tracker/match-email-addresses.vala           |  8 +--
 tests/tracker/match-im-addresses.vala              |  8 +--
 tests/tracker/match-known-emails.vala              |  8 +--
 tests/tracker/match-phone-number.vala              |  8 +--
 tests/tracker/remove-persona.vala                  |  4 +-
 tests/tracker/set-duplicate-email.vala             |  8 +--
 tests/tracker/set-emails.vala                      |  4 +-
 tests/tracker/set-im-addresses.vala                |  4 +-
 tests/tracker/set-notes.vala                       |  4 +-
 tests/tracker/set-phones.vala                      |  4 +-
 tests/tracker/set-postal-addresses.vala            |  4 +-
 tests/tracker/set-roles.vala                       |  4 +-
 tests/tracker/set-urls.vala                        |  4 +-
 tools/inspect/inspect.vala                         |  2 +-
 45 files changed, 285 insertions(+), 240 deletions(-)

commit b67a111d6f23b0943af42ca202099f9d1a3c350b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 2 09:01:36 2012 +0200

    backend-store: never translate warning messages

    Most of them were not translated.

    https://bugzilla.gnome.org/show_bug.cgi?id=679116

 folks/backend-store.vala | 15 ++++-----------
 1 file changed, 4 insertions(+), 11 deletions(-)

commit 8034c354272e49dfc83039e8f68502f1a1223207
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 29 11:54:57 2012 +0200

    backend-store: output a debug message if mime type of potential
    backends looks weird

    Will make my life much easier next time I'm wondering why nothing
    is working.

    https://bugzilla.gnome.org/show_bug.cgi?id=679116

 folks/backend-store.vala | 7 +++++++
 1 file changed, 7 insertions(+)

commit 88a3eb48d007971cd47900b44a8ee1b75f668841
Author: Khaled Hosny <khaledhosny@eglug.org>
Date:   Fri Jul 6 06:02:13 2012 +0200

    Arabic translation

 po/LINGUAS |   1 +
 po/ar.po   | 675
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 676 insertions(+)

commit 5b5360bff7a61ef17173cbe35cc32712ca0fc329
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Wed Jul 4 09:37:47 2012 -0600

    Change libgee dependency from 0.6 to 0.8.

 backends/eds/Makefile.am                                |  2 +-
 backends/eds/lib/Makefile.am                            |  2 +-
 backends/eds/lib/folks-eds-uninstalled.pc.in            |  2 +-
 backends/eds/lib/folks-eds.deps                         |  2 +-
 backends/eds/lib/folks-eds.pc.in                        |  2 +-
 backends/key-file/Makefile.am                           |  2 +-
 backends/libsocialweb/Makefile.am                       |  2 +-
 backends/libsocialweb/lib/Makefile.am                   |  4 ++--
 .../lib/folks-libsocialweb-uninstalled.pc.in            |  2 +-
 backends/libsocialweb/lib/folks-libsocialweb.pc.in      |  2 +-
 backends/telepathy/Makefile.am                          |  2 +-
 backends/telepathy/lib/Makefile.am                      |  2 +-
 .../telepathy/lib/folks-telepathy-uninstalled.pc.in     |  2 +-
 backends/telepathy/lib/folks-telepathy.pc.in            |  2 +-
 backends/tracker/Makefile.am                            |  2 +-
 backends/tracker/lib/Makefile.am                        |  4 ++--
 backends/tracker/lib/folks-tracker-uninstalled.pc.in    |  2 +-
 backends/tracker/lib/folks-tracker.pc.in                |  2 +-
 configure.ac                                            | 17
 +++--------------
 docs/Makefile.am                                        |  8 ++++----
 folks/Makefile.am                                       |  5 +++--
 folks/folks-uninstalled.pc.in                           |  2 +-
 folks/folks.deps                                        |  2 +-
 folks/folks.pc.in                                       |  2 +-
 tests/eds/Makefile.am                                   |  2 +-
 tests/folks/Makefile.am                                 |  2 +-
 tests/key-file/Makefile.am                              |  2 +-
 tests/lib/Makefile.am                                   |  2 +-
 tests/lib/eds/Makefile.am                               |  2 +-
 tests/lib/libsocialweb/Makefile.am                      |  2 +-
 tests/lib/telepathy/contactlist/Makefile.am             |  2 +-
 tests/lib/tracker/Makefile.am                           |  2 +-
 tests/libsocialweb/Makefile.am                          |  2 +-
 tests/telepathy/Makefile.am                             |  2 +-
 tests/tracker/Makefile.am                               |  2 +-
 tools/Makefile.am                                       |  2 +-
 tools/inspect/Makefile.am                               |  2 +-
 37 files changed, 46 insertions(+), 56 deletions(-)

commit 42bbfe492850c760a4fc46d9b2c7cba944477280
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Wed Jul 4 17:10:27 2012 -0600

    Port away from tp_connection_new since it has been deprecated.
    Synced some sources from telepathy-glib/tests/lib/.

 tests/lib/telepathy/contactlist/backend.c          |  6 ++++--
 .../telepathy/contactlist/contact-list-manager.c   |  5 +++--
 tests/lib/telepathy/contactlist/contacts-conn.c    |  9 ++++-----
 tests/lib/telepathy/contactlist/simple-conn.c      | 23
 +++++++++++-----------
 tests/lib/telepathy/contactlist/textchan-null.c    |  6 ++++--
 tests/lib/telepathy/contactlist/util.c             |  7 +++++--
 6 files changed, 31 insertions(+), 25 deletions(-)

commit 5969d728456585f1414e2dc3b532815700174c4f
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Wed Jul 4 09:38:52 2012 -0600

    Get libexecdir from libedata-book-1.2.pc.

 tests/tools/eds.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8d32f92f0f946c79c48f4db0ecc415247c2e2e70
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Jul 3 10:23:05 2012 -0600

    Bump released bit back to 0.
    Change dependency in NEWS from 3.5.4 to 3.5.3.1

 NEWS         | 2 +-
 configure.ac | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit f1365013bb943fb1f868f606afc39eb640c8e317
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Jul 2 14:38:25 2012 -0600

    Fix eds dependency to 3.5.3.1.
    Bump release numbers for 0.7.2.2 release.

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 39dac3ffbfdb50a9623a0d05d58cba6d756ed77b
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Jul 2 14:38:02 2012 -0600

    Change UNRELEASED to 0.7.2.

 backends/eds/lib/edsf-persona-store.vala | 6 +++---
 folks/internal.vala                      | 6 +++---
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 6ace900f4d42eb15a773048a666f16eec551ffa7
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:   Sat Jun 30 20:26:13 2012 +0700

    Updated Vietnamese translation

 po/LINGUAS |   1 +
 po/vi.po   | 669
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 670 insertions(+)

commit eb7c99e25a59fab64a1c8fb7f9cd9a6e489f2df8
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Jun 28 16:20:55 2012 -0600

    Post 0.7.2.1 release version bump.
    Added 0.7.2 to 0.7.3 section to NEWS.

 NEWS         | 10 ++++++++++
 configure.ac |  4 ++--
 2 files changed, 12 insertions(+), 2 deletions(-)

commit 5546585d66e29837bb0d3416cf362f4a08089b1d
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Jun 28 15:34:55 2012 -0600

    Add Profiling api to NEWS file.
    Bump soname numbers in configure.ac for Folks 0.7.2.1 release.

 NEWS         | 11 +----------
 configure.ac |  6 +++---
 2 files changed, 4 insertions(+), 13 deletions(-)

commit 61f710d3c3c2f8ae60419cb41261346799dd2a38
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Jun 28 14:40:49 2012 -0600

    Bump nano version and revert released bit.
    Add 0.7.3 section to the top of NEWS.

 NEWS         | 10 ++++++++++
 configure.ac |  4 ++--
 2 files changed, 12 insertions(+), 2 deletions(-)

commit 54b47403fa8dab2fe635fc36e155fb8511db55bf
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Jun 28 13:49:50 2012 -0600

    Use async creation of Source Registry in eds test backend.

 tests/lib/eds/backend.vala | 27 +++++++++++++++------------
 1 file changed, 15 insertions(+), 12 deletions(-)

commit 5575c62212216918bfa445bb9bf06ad7b864e70c
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Jun 28 13:49:00 2012 -0600

    Start eds source-registry and addressbook-factory ourselves.

 tests/tools/eds.sh                  | 6 ++++++
 tests/tools/with-session-bus-eds.sh | 1 +
 2 files changed, 7 insertions(+)

commit 41e06cadb865a1ab2db1b72fda9d495aa477221f
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Jun 28 13:47:32 2012 -0600

    Add test.source and other.source to EXTRA_DIST.

 tests/tools/Makefile.am | 2 ++
 1 file changed, 2 insertions(+)

commit 7c9668c86a0408a5dd3f483faba9fee3060de326
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Jun 28 13:46:57 2012 -0600

    Add Bugfix to NEWS.

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit ecd2ac896d06fb77f4cf0a1695820b8f7f6335ff
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Jun 28 12:17:52 2012 -0600

    Add folks-internal to libsocialweb backend library vapi.
    Fixes https://bugzilla.gnome.org/show_bug.cgi?id=679020

 backends/libsocialweb/lib/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit a74d6856327e59488a44c761bec8468a003e8556
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Jun 28 11:41:15 2012 -0600

    Add folks-internal to make docs dependencies for profiling symbols.

 docs/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit b0bebe1a1323160ae711b8751a275109de1ca4c3
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Jun 28 10:53:58 2012 -0600

    Default to xz tarballs for distribution.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 66ad2dbd9c3394da131f0165ee4cea0ecc301b4c
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Wed Jun 27 11:22:18 2012 -0600

    Remove individual-zeitgeist from make check targets.

 tests/telepathy/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 817614ae68c9a08b0e54ecc3d3f905ebc516360d
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Jun 26 21:48:45 2012 -0600

    Folks 0.7.2 release.

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 6313ad3c01ab7f047e5b83671b52de5834cb4071
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Jun 24 20:21:55 2012 +0100

    tracker: Unmark a method as asynchronous

    Private method, didn’t need to be asynchronous.

 backends/tracker/lib/trf-persona-store.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 09c1736bceb33722139704f71bad40ec7b070177
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Jun 24 18:33:49 2012 +0100

    eds: Share a single E.SourceRegistry between all Edsf.PersonaStores

    Turns out a single E.SourceRegistry takes about 200ms to construct,
    due to
    involving D-Bus round trips, so sharing the existing SourceRegistry
    from the
    Eds.Backend to all its Edsf.PersonaStores is a big win.

 backends/eds/eds-backend.vala            |  3 ++-
 backends/eds/lib/edsf-persona-store.vala | 38
 +++++++++++++++++++++++++++-----
 2 files changed, 35 insertions(+), 6 deletions(-)

commit f032c7afaf86fba46dca272cf973a89a78208d56
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Jun 24 18:15:41 2012 +0100

    aggregator: Don’t prematurely reach quiescence

    If one of the backends loads very fast, but doesn’t signal the
    addition of
    any persona stores for a while, the IndividualAggregator will
    prematurely
    reach quiescence. We now force quiescence to be reached at least
    after all
    the backends have finished loading.

 folks/individual-aggregator.vala | 7 +++++++
 1 file changed, 7 insertions(+)

commit 3deab10a238fb77a68f96fb74ce75a4f37c347a8
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Jun 24 17:55:43 2012 +0100

    core: Add a profiling API and implement some profiling points

    The API outputs messages in the format accepted by Federico’s
    plot-timeline.py
    (http://people.gnome.org/~federico/news-2006-03.html#timeline-tools)
    so graphs can easily be generated by running:

        strace -ttt -f -o /tmp/logfile folks-inspect
        python plot-timeline.py -o graph.png /tmp/logfile

    So far, the BackendStore, IndividualAggregator and Backend and
    PersonaStore
    classes for all the backends have been annotated.

 HACKING                                          | 15 +++++
 NEWS                                             |  1 +
 backends/eds/Makefile.am                         |  2 +
 backends/eds/eds-backend.vala                    |  4 ++
 backends/eds/lib/edsf-persona-store.vala         | 23 ++++++++
 backends/key-file/Makefile.am                    |  2 +
 backends/key-file/kf-backend.vala                |  4 ++
 backends/key-file/kf-persona-store.vala          | 10 ++++
 backends/libsocialweb/Makefile.am                |  2 +
 backends/libsocialweb/lib/swf-persona-store.vala | 10 ++++
 backends/libsocialweb/sw-backend.vala            |  4 ++
 backends/telepathy/Makefile.am                   |  2 +
 backends/telepathy/lib/tpf-persona-store.vala    | 24 +++++++-
 backends/telepathy/tp-backend.vala               |  4 ++
 backends/tracker/Makefile.am                     |  2 +
 backends/tracker/lib/Makefile.am                 |  2 +
 backends/tracker/lib/trf-persona-store.vala      | 17 ++++++
 backends/tracker/tr-backend.vala                 |  4 ++
 configure.ac                                     | 11 ++++
 folks/Makefile.am                                |  5 ++
 folks/backend-store.vala                         | 42 ++++++++++++--
 folks/individual-aggregator.vala                 | 10 ++++
 folks/internal.vala                              | 72
 ++++++++++++++++++++++++
 folks/persona-store.vala                         |  3 +
 24 files changed, 269 insertions(+), 6 deletions(-)

commit 93d2f1b947e98fe87ceacc2a26dcd114429e16ad
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Jun 25 16:01:19 2012 -0600

    Add bug fix to NEWS file.

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit 0120e189815b0594188b827e707791d05118d60f
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Jun 25 15:55:22 2012 -0600

    Fix style issues as noted in
    https://bugzilla.gnome.org/show_bug.cgi?id=678811.
    Use _addressbook_name to ref the test source.
    Remove unused _source_name.

 tests/lib/eds/backend.vala | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 922e8afea3bec94f6721c9a0cac15f0e935f64fb
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Jun 25 13:07:49 2012 -0600

    Remove GConf stop from eds test harness, since it's not needed.

 tests/tools/with-session-bus-eds.sh | 7 -------
 1 file changed, 7 deletions(-)

commit a155d6b645fe855de6c4dcb07e85c44f0b3158d9
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Jun 25 13:06:26 2012 -0600

    Add mainloop to eds test backend tear_down to wait for addressbook
    removal.

 tests/lib/eds/backend.vala | 33 +++++++++++++++++++--------------
 1 file changed, 19 insertions(+), 14 deletions(-)

commit b0c51f90db62b8390d55ab098963792627fc29c4
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Jun 25 13:01:49 2012 -0600

    Fix link-personas-diff-stores test.
    Need to use both test and other addressbooks.

 tests/eds/link-personas-diff-stores.vala | 2 ++
 1 file changed, 2 insertions(+)

commit 70f5879d8105ea9f4cb74520637b9c08358e9334
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Jun 25 13:00:15 2012 -0600

    Use ESource display_name instead of uid.

 backends/eds/lib/edsf-persona-store.vala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 28a79de9d06b3222325a6ba44acce14bac051f8d
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Jun 21 12:36:27 2012 -0600

    Use async addressbook remove method, since sync method hangs
    currently.

 tests/lib/eds/backend.vala | 26 ++++++++++++++------------
 1 file changed, 14 insertions(+), 12 deletions(-)

commit bf289030eab2459b9d64afe84ad3304bc61265c9
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Wed Jun 20 12:19:19 2012 -0600

    Fix link-personas-diff-stores unit test.
    Remove obsolete EDS TestBackend address_uri.
    Allow choosing other or test source in set_up method.

 tests/eds/link-personas-diff-stores.vala |  3 +--
 tests/lib/eds/backend.vala               | 13 +++++--------
 2 files changed, 6 insertions(+), 10 deletions(-)

commit 5784cb03bf52b56c7f9439e2ebb45cbc4bc7c4be
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Wed Jun 20 12:18:42 2012 -0600

    Create another other.source for eds unit tests.

 tests/tools/eds.sh       | 2 +-
 tests/tools/other.source | 6 ++++++
 2 files changed, 7 insertions(+), 1 deletion(-)

commit ef7b78ef733f9a3b5ed4658cbd8d4f796ede0760
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Jun 19 11:54:05 2012 -0600

    Port test eds backend to eds api changes.
    Add test.source keyfile for unit tests.

 tests/lib/eds/backend.vala | 41 ++++++++++++-----------------------------
 tests/tools/eds.sh         |  5 +++++
 tests/tools/test.source    |  6 ++++++
 3 files changed, 23 insertions(+), 29 deletions(-)

commit f62079cf2cf382c6627f1b3423d356181644ac03
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Jun 19 11:52:13 2012 -0600

    Re-enable eds backend unit tests.

 configure.ac          | 2 ++
 tests/Makefile.am     | 5 ++---
 tests/lib/Makefile.am | 5 ++---
 3 files changed, 6 insertions(+), 6 deletions(-)

commit 2341b9772bfba76ff153d3b36aa88cb3409e8681
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Jun 25 20:07:21 2012 +0100

    core: Replace symbols with spaces when matching names in
    PotentialMatch

    This allows, for example, “Alice Badger” and “alice.badger”
    to have a HIGH
    match. This is a common situation when trying to pair up IM personas
    with
    other personas.

    This also includes a test case.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=678474

 folks/potential-match.vala    | 17 ++++++++++-------
 tests/tracker/match-name.vala |  9 +++++++++
 2 files changed, 19 insertions(+), 7 deletions(-)

commit 48b4c38494803023d6ad75a2724cf7ee6ad59a14
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Jun 25 21:47:55 2012 +0100

    eds: Fix memory leaks in EDS backend

    These were unavoidably caused by a problem with the EDS Vala
    bindings. This
    will be fixed in EDS 3.5.4, so our dependency has been bumped.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=678781

 NEWS                               |  2 ++
 backends/eds/lib/edsf-persona.vala | 50
 ++++++++++++++++++--------------------
 configure.ac                       |  2 +-
 3 files changed, 27 insertions(+), 27 deletions(-)

commit 697b611adfbfffdb37a817feb5482f43bb715e1e
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sat Jun 23 11:24:53 2012 +0100

    core: Fix indexing for unichars in PotentialMatch’s Jaro distance
    function

    The indexing was getting out of sync between the two strings if
    one contained
    a different number of non-ASCII characters to the other (as the
    indexing was
    done in terms of bytes, rather than characters). This re-works
    the Jaro
    distance function to operate on unichar arrays, and index in terms of
    characters. This also means that exact matches now work over stripped
    non-ASCII
    characters, which they didn’t before.

    This adds a new test case. Yay.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=678474

 NEWS                          |  1 +
 folks/potential-match.vala    | 89
 ++++++++++++++++++++++++++-----------------
 tests/tracker/match-name.vala |  9 +++++
 3 files changed, 64 insertions(+), 35 deletions(-)

commit 6dee26ca93460f1518f13c3af09cf36fff88b8f3
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sat Jun 23 10:09:14 2012 +0100

    core: Tidy up MatchResult usage in PotentialMatch a little

    There’s no need for the result to be an instance variable.

 folks/potential-match.vala | 74
 ++++++++++++++++++++++++----------------------
 1 file changed, 39 insertions(+), 35 deletions(-)

commit b36980efea265edcd822b71e1a1ff8715e75e652
Author: Florian Müllner <fmuellner@gnome.org>
Date:   Mon Jun 25 15:41:44 2012 +0200

    eds: Adjust to e-d-s API break

    Address books are now referenced by UID instead of URI, and the API
    has been updated to reflect this.

 backends/eds/lib/edsf-persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1c6817d6e3e0544015a50211c4127a6ea908acbe
Author: A S Alam <aalam@users.sf.net>
Date:   Mon Jun 25 06:45:20 2012 +0530

    Update Punjabi Translation

 po/pa.po | 189
 ++++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 113 insertions(+), 76 deletions(-)

commit 58e305e8270578fdb942a1272b3b9393eccd1b42
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   Mon Jun 25 00:05:55 2012 +0200

    Updated Galician translations

 po/gl.po | 113
 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 57 insertions(+), 56 deletions(-)

commit c199edd98c5c439b649c61a0dcb247dc3e7a13f5
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sat Jun 23 12:17:23 2012 +0100

    eds: Fix warnings about empty postal addresses

 backends/eds/lib/edsf-persona.vala | 15 +++++++++++++--
 1 file changed, 13 insertions(+), 2 deletions(-)

commit be138e709d9d01c60a09bc7ed2c431a6205b5fcd
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sat Jun 23 12:04:38 2012 +0100

    eds: Revert checks for empty properties

    These are in the wrong place and duplicate checks further down
    those code
    paths.

 backends/eds/lib/edsf-persona-store.vala | 18 +++++++-----------
 1 file changed, 7 insertions(+), 11 deletions(-)

commit 35f426f0d35480504556d2967de5a9aaa4226034
Author: Dimitris Spingos <dmtrs32@gmail.com>
Date:   Fri Jun 22 16:34:04 2012 +0300

    Updated Greek translation

 po/LINGUAS |  1 +
 po/el.po   | 51 +++++++++++++++++++++++++++------------------------
 2 files changed, 28 insertions(+), 24 deletions(-)

commit 59cc87e0d37286f9d9832dc664feac1ec0ac36df
Author: Dimitris Spingos <dmtrs32@gmail.com>
Date:   Fri Jun 22 16:15:38 2012 +0300

    Added Greek translation

 po/el.po | 723
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 723 insertions(+)

commit fe3ddd5fb909c7289aacd7d4d4edfbb6ee298a3f
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Fri Jun 22 13:49:25 2012 +0200

    Updated Spanish translation

 po/es.po | 114
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 59 insertions(+), 55 deletions(-)

commit 714b554524a84b6418fd2d02a6b706ba35123766
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Tue Jun 19 11:25:06 2012 +0100

    telepathy: Remove unused variable

 backends/telepathy/lib/tpf-persona-store.vala | 3 ---
 1 file changed, 3 deletions(-)

commit 392ece02e7bb0e564f9b8fdd6472ab95d6b78361
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Jun 18 12:11:39 2012 +0100

    core: Change default EDS PersonaStore ID to ‘system-address-book’

    The new version of EDS uses that instead of ‘system’. This
    shouldn’t pose
    upgrade problems (e.g. if a user has ‘system’ stored in
    GSettings), since in
    that case the ‘system’ persona store wouldn’t be found, and
    the fallback
    would be to use the persona store marked as the system-set default
    — which
    is the ‘system-address-book’ persona store, as required.

 folks/individual-aggregator.vala           | 2 +-
 folks/org.freedesktop.folks.gschema.xml.in | 2 +-
 tests/eds/change-primary-store.vala        | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 79b83aeb6d97f6ce5b489e64e4cd13e5b2be06df
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Jun 18 12:09:58 2012 +0100

    eds: Fix invalid cast in Edsf.PersonaStore

    E.SourceRegistry.find_extension() always returns an E.Source — we
    must then
    call get_extension() on that E.Source to get the relevant
    extension. This
    commit fixes an invalid cast here and factors out code to check
    for backend
    name matches for things like the ‘google’ and ‘ldap’ address
    book backends.

    Note that this depends on a new GIR annotation in EDataServer.

 backends/eds/lib/edsf-persona-store.vala | 41
 +++++++++++++++-----------------
 1 file changed, 19 insertions(+), 22 deletions(-)

commit c7939400effd108163eb2413c5027222d2508dc8
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Jun 18 12:09:08 2012 +0100

    eds: Handle the possibility of E.SourceRegistry being null

    Several functions can be called before E.SourceRegistry is set
    in prepare(),
    so they must cope with it potentially being null.

 backends/eds/lib/edsf-persona-store.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 09ab10a3068e52b5f4d7f55375dd67fa3c98fa29
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Jun 19 08:51:09 2012 -0600

    Get E.SourceAddressBook extensions from the source.
    Fix eds backend warnings.

 backends/eds/lib/edsf-persona-store.vala | 42
 ++++++++++++++++++--------------
 1 file changed, 24 insertions(+), 18 deletions(-)

commit 1446c3ed1adafbb153925b81e42e3f199cc1e63a
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Jun 18 11:08:59 2012 +0100

    telepathy: Don’t create PersonaStores for disabled accounts

    We shouldn’t create persona stores for disabled accounts, as they
    just sit
    there looking lonely and empty. Persona stores should be created
    for enabled
    and valid accounts, and should be removed when those accounts are
    disabled
    or become invalid.

 backends/telepathy/tp-backend.vala | 5 +++++
 1 file changed, 5 insertions(+)

commit c8fa98d3ae271c56d7e760f9c2eed37585108541
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Jun 18 11:04:57 2012 +0100

    Bug 677166 — Salut personas survive disconnection

    Handle TpAccounts being disabled by listening for
    TpAccountManager::account-disabled rather than (erroneously)
    assuming that
    TpAccount:enabled will have been changed by the time the corresponding
    TpConnection is disconnected.

    This fixes a race condition when accounts are disabled, where the
    account’s
    personas would persist if TpAccount:enabled hadn’t changed by the
    time the
    connection was disconnected.

    This comes at the cost of potentially storing and re-loading the
    set of
    personas for that account to the cache, only to later delete the
    cache file
    when TpAccount:enabled changes. I can’t think of a simple fix
    for this.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=677166

 NEWS                                          |  3 +-
 backends/telepathy/lib/tpf-persona-store.vala | 50
 ++++++++++++++++-----------
 2 files changed, 31 insertions(+), 22 deletions(-)

commit 1c3357fb0c32855f5423e5b88127f2b4cfb1baa5
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Jun 18 10:32:49 2012 +0100

    inspect: Implement pretty printing of GDateTime

    The new Zeitgeist work in the Telepathy backend makes use of nullable
    GDateTimes, so this implements pretty printing of them in
    folks-inspect.

    Everyone prefers reading well-formatted ISO 8601 date/times over
    reading
    error messages saying the conversion wasn’t possible, right?

 tools/inspect/utils.vala | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 0e729d7be7f3431922aa531704aad897c0bb598b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Mon Jun 18 10:31:54 2012 +0100

    telepathy: Set some missing properties on cached TpfPersonas

    Recently-added properties needed implementing for cached personas.

 backends/telepathy/lib/tpf-persona.vala | 3 +++
 1 file changed, 3 insertions(+)

commit 83ad58a85a2c623c66a3864f25b995f29b18ede6
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Jun 15 10:10:32 2012 -0600

    Bump version number post 0.7.1 release.
    Add a new section to NEWS for 0.7.1 -> 0.7.2 changes.

 NEWS         | 10 ++++++++++
 configure.ac |  4 ++--
 2 files changed, 12 insertions(+), 2 deletions(-)

commit acd8e999e408c73e0a432696c083f814281d6752
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Jun 14 13:55:26 2012 -0600

    Add evolution-data-server dependency version change to NEWS.

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit af9071ec3df2e5723b25fe9284a8561e6d0672e0
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Jun 14 13:50:49 2012 -0600

    Add libzeitgeist requirement to NEWS.
    Remove duplicate API change in NEWS.

 NEWS | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4b0b3c6de4a49cc08632d7c2627d0397b4f43e69
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Jun 14 12:44:13 2012 -0600

    Add myself to folks.doap file.

 folks.doap | 7 +++++++
 1 file changed, 7 insertions(+)

commit 7eb73a38bfe84e79c29d763bfe548d617b17818e
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Jun 14 12:40:43 2012 -0600

    Add myself to MAINTAINERS file.

 MAINTAINERS | 2 ++
 1 file changed, 2 insertions(+)

commit 014496f385f6f4e4a14ec985787236d500da9bbc
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Jun 14 11:31:13 2012 -0600

    Remove wrong entry in NEWS file.

 NEWS | 1 -
 1 file changed, 1 deletion(-)

commit 3874f33a79639be7da681619cb4401c52200e15a
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu Jun 14 09:56:00 2012 -0600

    Remove eds test from dist target until it is ported to eds api
    changes.

 configure.ac | 2 --
 1 file changed, 2 deletions(-)

commit df1ea03ae772a9b408ab154f1883744ecb1416a6
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Wed Jun 13 12:15:12 2012 -0600

    Remove ENABLE_ZEITGEIST macro from Makefile and sources.

 backends/telepathy/lib/Makefile.am            |  8 +++-----
 backends/telepathy/lib/tpf-persona-store.vala | 18 +++++-------------
 backends/telepathy/lib/tpf-persona.vala       |  8 ++------
 3 files changed, 10 insertions(+), 24 deletions(-)

commit 79b8e41aa4ab55c898bf385614700912178fcb91
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Wed Jun 13 12:14:42 2012 -0600

    Add zeitgeist-1.0 as vala dependency in docs Makefile.am.

 docs/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 41d164c3e4e2ff62b374a47f999921e836aea69f
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Jun 12 14:26:25 2012 -0600

    Make libzeitgeist a hard dependency of folks.
    As discussed here: https://bugzilla.gnome.org/show_bug.cgi?id=677428

 backends/telepathy/lib/Makefile.am |  2 --
 configure.ac                       | 31 +++----------------------------
 2 files changed, 3 insertions(+), 30 deletions(-)

commit b0688d1295f3582aafc70836914b8c08586854f2
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Mon Jun 4 15:07:34 2012 -0700

    Release version 0.7.1

 backends/telepathy/lib/tpf-persona.vala |  8 ++++----
 configure.ac                            | 10 +++++-----
 folks/interaction-details.vala          | 10 +++++-----
 folks/persona-store.vala                |  8 ++++----
 folks/presence-details.vala             |  2 +-
 5 files changed, 19 insertions(+), 19 deletions(-)

commit 0b3f957b50f6b5578b5a66cb3a1825d7bf7351d1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Mon Jun 4 15:17:45 2012 -0700

    Downgrade missing Zeitgeist events to debug, as we do with TpLogger.

 backends/telepathy/lib/tpf-persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2bc5ed5fe185db95aa29a1f83181c3e392390d78
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Mon Jun 4 08:20:36 2012 -0700

    Don't expect a tp-lowlevel stamp file vapigen no longer generates.

 backends/telepathy/lib/Makefile.am | 1 -
 1 file changed, 1 deletion(-)

commit 4a6db1808e48fd286e022828131e990ea58132af
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Mon Jun 4 08:04:15 2012 -0700

    Enable all optional features when distchecking.

 Makefile.am | 4 ++++
 1 file changed, 4 insertions(+)

commit 1bd8ea940d48f0adf2e1cf71e9259ae46ab27e06
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Mon Jun 4 07:55:41 2012 -0700

    Note InteractionDetails in NEWS.

 NEWS | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit c12f9ad0f668f32defb6f19bbd3fc462a5e37148
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Mon Jun 4 07:56:12 2012 -0700

    Add missing bullet in NEWS.

 NEWS | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 5fe1c160080eb5a763d3e2292ac99579234c3340
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Wed Jun 13 14:21:29 2012 -0600

    Disable eds unit tests in distcheck target.

 tests/Makefile.am     | 1 -
 tests/lib/Makefile.am | 1 -
 2 files changed, 2 deletions(-)

commit cb679c8b3bc9132676c7072e379dd2b9c90e3422
Author: Seif Lotfy <seif.lotfy@collabora.co.uk>
Date:   Tue Jun 12 22:35:02 2012 +0200

    Fix bug number for last bug fix in NEWS

 NEWS | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8eaabd9c62bccb3d4f775357205d115432177767
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Jun 12 12:22:01 2012 -0600

    Update mkdir macro to use autoconf version.

 tests/lib/telepathy/contactlist/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9bd7bf41e6df0a81710d671f5b8c23e9754b273c
Author: Seif Lotfy <seif.lotfy@collabora.co.uk>
Date:   Tue Jun 12 20:04:44 2012 +0200

    Update NEWS to inform about the new InteractionDetails

 NEWS | 7 +++++++
 1 file changed, 7 insertions(+)

commit 3bf5a412d1d0144c7611b90284450920aa6b31cb
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Jun 12 10:40:43 2012 -0600

    Add bug number to comment about create_source_registry.

 backends/eds/lib/edsf-persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ac852c2c9ffee2f77ff585c5d18a4f86cbfcde34
Merge: 09b27d0 5b69213
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Jun 12 10:20:18 2012 -0600

    Merge branch 'edsport'
    Reviewed-by: Philip Withnall

commit 5b692136dc36f967555a13f933a438ddafdb5770
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Jun 12 09:49:27 2012 -0600

    Add eds port description to NEWS file.

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit 67858bfb322d1b09680b343092eebdbb048fe37a
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Jun 12 09:43:26 2012 -0600

    Add comment about async create_source_registry method.

 backends/eds/lib/edsf-persona-store.vala | 2 ++
 1 file changed, 2 insertions(+)

commit ac3078313abda2c65cccd52e55fc4edcd02f4fb7
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Jun 12 09:41:52 2012 -0600

    Bump eds and ebook dependency versions.

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 04607ac5ba6e6c225ad58406e8ef0e7559829704
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Tue Jun 12 08:48:54 2012 -0600

    Add fixme comment to commented out tests in makefile.

 tests/Makefile.am     | 2 ++
 tests/lib/Makefile.am | 2 ++
 2 files changed, 4 insertions(+)

commit 1d50d11529edc78e359359ecb10b4226b338daf7
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Mon Jun 11 09:49:09 2012 -0600

    Fix items noted in bug
    https://bugzilla.gnome.org/show_bug.cgi?id=675121 comments.

 backends/eds/eds-backend.vala            |  2 +-
 backends/eds/lib/edsf-persona-store.vala | 12 ++++++++----
 2 files changed, 9 insertions(+), 5 deletions(-)

commit 5243832dfd32a1704f729e7b6cdaa306ce814aac
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Jun 8 18:14:24 2012 -0600

    Use SourceRegistry.ref_source rather than iterate to find a source.

 backends/eds/lib/edsf-persona-store.vala | 13 ++++---------
 1 file changed, 4 insertions(+), 9 deletions(-)

commit 71b41f703828c3ff2e82ad2c2008b7298d61a9ff
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Jun 8 18:09:26 2012 -0600

    Check for google not google: since backend name wont have a colon.

 backends/eds/lib/edsf-persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7a2aeb5fd6f05f286e0b5494e3d1e9c03da17b3b
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Jun 8 17:45:25 2012 -0600

    Disable eds backend test while porting to new api.

 tests/Makefile.am     | 2 +-
 tests/lib/Makefile.am | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 22fe9fa03ecdbce0c3dc21922abfd874114a4097
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Fri Jun 8 17:43:18 2012 -0600

    Port folks eds backend to eds api changes.

 backends/eds/eds-backend.vala            |  52 +++++++--------
 backends/eds/lib/edsf-persona-store.vala | 107
 +++++++++++++------------------
 2 files changed, 71 insertions(+), 88 deletions(-)

commit 09b27d0fc9ada08755b852070c0e43da9473a469
Author: Seif Lotfy <seif.lotfy@collabora.co.uk>
Date:   Tue Jun 12 03:01:37 2012 +0200

    Fixed reseting the individual interaction details upon connection
    state changes in the Telepathy backend.

 backends/telepathy/lib/tpf-persona-store.vala | 32
 +++++++++++++--------------
 backends/telepathy/lib/tpf-persona.vala       |  8 +++++++
 2 files changed, 23 insertions(+), 17 deletions(-)

commit 2ca10cde4106f36ec41aff16347f15affc15039f
Author: Seif Lotfy <seif@lotfy.com>
Date:   Sat Mar 24 12:02:25 2012 +0100

    Added dummy test for the new individual properties for telepathy

    Signed-off-by: Seif Lotfy <seif.lotfy@collabora.co.uk>

 tests/telepathy/Makefile.am               |   6 ++
 tests/telepathy/individual-zeitgeist.vala | 100
 ++++++++++++++++++++++++++++++
 2 files changed, 106 insertions(+)

commit b5eb514338764fdb6f1d206a08b3f2e13d62f3e2
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Tue Jun 5 10:46:31 2012 +0200

    Fix typo in InteractionDetails comment

 folks/interaction-details.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d77baba5f6b47220f36f0fd0be2bde973fbdead5
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   Sun Jun 3 02:25:06 2012 +0200

    Updated Galician translations

 po/gl.po | 186
 +++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 109 insertions(+), 77 deletions(-)

commit 8ec79c1f43a40a9e684c0fc4834143604436dc8e
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   Thu May 31 12:11:35 2012 +0200

    Updated Spanish translation

 po/es.po | 193
 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 111 insertions(+), 82 deletions(-)

commit 03c364f16e9f63967421d8ed526dccf8a26caf13
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Wed May 30 09:36:07 2012 -0700

    Note bgo#627403 as fixed in NEWS.

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit e89332de2fd99f8646bb0a0ac73aab17cb4eb747
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:   Mon May 28 11:02:26 2012 -0700

    Clean up some bits related to bgo#627403

    * make get_default_message_from_presence_type() return an unowned
    string
    * add @param and @return lines to said function
    * add presence-details.vala to translated files

 folks/presence-details.vala | 6 +++++-
 po/POTFILES.in              | 1 +
 po/POTFILES.skip            | 1 +
 3 files changed, 7 insertions(+), 1 deletion(-)

commit 46bec402205d52a8d228c7ed8d7d502b9267b85f
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   Wed May 30 13:28:58 2012 +0200

    Updated Norwegian bokmål translation

 po/nb.po | 44 ++++++++++++++++++++++----------------------
 1 file changed, 22 insertions(+), 22 deletions(-)

commit a5ef0adc0c5accb2b90640b8c57fb8febdf0571c
Author: Seif Lotfy <seif.lotfy@collabora.co.uk>
Date:   Wed May 23 14:47:25 2012 +0200

    Added new properties to the Telepathy backends.

    The Telepathy backend requires Zeitgeist to pull its info.

    Signed-off-by: Seif Lotfy <seif.lotfy@collabora.co.uk>

 backends/telepathy/lib/Makefile.am            |   7 ++
 backends/telepathy/lib/tpf-persona-store.vala | 130
 +++++++++++++++++++++++++-
 backends/telepathy/lib/tpf-persona.vala       | 103 ++++++++++++++++++++
 configure.ac                                  |  29 ++++++
 4 files changed, 268 insertions(+), 1 deletion(-)

commit f08ec1f0490c601c1a576428b55fb36dd1a93e93
Author: Seif Lotfy <seif@lotfy.com>
Date:   Thu Apr 19 02:24:05 2012 +0200

    Add new properties to Individual and Persona:

    Added new im_interaction_count and last_im_interaction_timestamp to
    Persona and Individual
    Added new call_interaction_count and last_call_interaction_timestamp
    to Persona and Individual

    Signed-off-by: Seif Lotfy <seif.lotfy@collabora.co.uk>
    Signed-off-by: Seif Lotfy <seif@lotfy.com>

 folks/Makefile.am              |   1 +
 folks/individual.vala          | 162
 +++++++++++++++++++++++++++++++++++++++++
 folks/interaction-details.vala |  72 ++++++++++++++++++
 folks/persona-store.vala       |  36 ++++++++-
 4 files changed, 269 insertions(+), 2 deletions(-)

commit 8974b4429a3d3b1322b43de6869f6ca084c66e4e
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   Sat May 26 08:08:17 2012 +0300

    Initiated Hebrew translation.

 po/LINGUAS |   1 +
 po/he.po   | 625
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 626 insertions(+)

commit 529e859ec6ac2260f15f7066b76c022dcd620242
Author: Jeremy Whiting <jpwhiting@kde.org>
Date:   Thu May 24 14:31:40 2012 -0600

    Bug 627402 Move default presence messages from Empathy to libfolks

    Move presence string mapping into folks from gnome-contacts.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=627402

 NEWS                        |  3 +++
 folks/presence-details.vala | 31 +++++++++++++++++++++++++++++++
 2 files changed, 34 insertions(+)

commit 41028e7cbf5ef69aa684da37c52cc625741b148c
Author: Marek Černocký <marek@manet.cz>
Date:   Wed May 23 13:41:53 2012 +0200

    Updated Czech translation

 po/cs.po | 167
 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 81 insertions(+), 86 deletions(-)

commit 8adc76353f6c7234ab38cafeb3689c806e186708
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   Tue May 22 16:15:43 2012 +0200

    Update telepathy test lib copy

 .../telepathy/contactlist/contact-list-manager.c   |  2 -
 .../telepathy/contactlist/simple-account-manager.c | 30 +++++++--
 .../telepathy/contactlist/simple-account-manager.h |  6 ++
 tests/lib/telepathy/contactlist/simple-account.c   |  1 +
 tests/lib/telepathy/contactlist/simple-conn.c      |  3 -
 tests/lib/telepathy/contactlist/util.c             | 71
 ++++------------------
 tests/lib/telepathy/contactlist/util.h             |  4 --
 7 files changed, 44 insertions(+), 73 deletions(-)

commit 5204c80c7f3556b31bd0cc4ef51e1fd6e6ec5db7
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   Tue May 22 16:12:41 2012 +0200

    Use TpConnection::dup_contact_by_id_async()

    No need to use C wrapper for that anymore

 backends/telepathy/lib/tp-lowlevel.c          | 105
 --------------------------
 backends/telepathy/lib/tp-lowlevel.h          |  15 ----
 backends/telepathy/lib/tpf-persona-store.vala |   7 +-
 3 files changed, 2 insertions(+), 125 deletions(-)

commit ddeec4800a3ccac3fed1dd8c2917c81d998958d0
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   Tue May 22 14:52:14 2012 +0200

    Bump telepathy-glib dep to 0.19.0

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 1009431aa095d6ed3d88c3ed32603d9937b14962
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   Sat May 19 11:37:48 2012 +0200

    Updated Norwegian bokmål translation

 po/nb.po | 384
 +++++++++++++++++++++++++--------------------------------------
 1 file changed, 150 insertions(+), 234 deletions(-)

commit b492dc62fcf284e8ec00acc17e3265ce831b1073
Author: Andika Triwidada <andika@gmail.com>
Date:   Sat May 19 11:07:38 2012 +0700

    Added Indonesian translation

 po/LINGUAS |   1 +
 po/id.po   | 632
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 633 insertions(+)

commit bd53985979f53ae17533b363d991313f9ad34b4e
Author: A S Alam <aalam@users.sf.net>
Date:   Wed May 16 07:22:35 2012 +0530

    update Punjabi Translaiton

 po/pa.po | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6e520b4a629fa700308f450e4c1ea8a1782fd781
Author: A S Alam <aalam@users.sf.net>
Date:   Wed May 16 07:19:28 2012 +0530

    updated LINGUAS file for Punjabi (pa)

 po/LINGUAS | 1 +
 1 file changed, 1 insertion(+)

commit 508ed2b4d3f68d6ebba043f90a8ffa531047d46a
Author: A S Alam <aalam@users.sf.net>
Date:   Wed May 16 07:19:09 2012 +0530

    added Punjabi (pa) Translation

 po/pa.po | 641
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 641 insertions(+)

commit 5a62b1be5b2f11989403982a876d1eb7fb7c6b3c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 14 12:59:20 2012 +0200

    Use tp-glib API version macros

    https://bugzilla.gnome.org/show_bug.cgi?id=676021

 configure.ac | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 6b29928ae3e979b488802e60deb29a02450f30f2
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Tue May 15 00:21:46 2012 +0100

    Bug 676023 — Invalid read when preparing the aggregator

    Properly 0-terminate an array passed to tp_proxy_prepare_async().

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=676023

 NEWS                                          | 1 +
 backends/telepathy/lib/tpf-persona-store.vala | 3 ++-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 3f02098bbb5dfbc8d04f1f0ac8d3d9ed4feb2120
Author: Ray Strode <rstrode@redhat.com>
Date:   Fri May 11 12:03:50 2012 -0400

    Fix build

    commit 9b5b7798fee20b88cab2cf78f43b4843aa8718a2 resynced
    the unit test lib from tp-glib.  Unfortunately, it broke
    the build because util.h is in a slightly different place
    on disk.

    This commit updates the #include line to fix the build again.

 tests/lib/telepathy/contactlist/util.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 20bf6cba338f294a3532d8d8625a8f940f196461
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   Thu May 10 09:53:10 2012 +0200

    Add missing files

 tests/lib/telepathy/contactlist/room-list-chan.c | 253
 +++++++++++++++++++++++
 tests/lib/telepathy/contactlist/room-list-chan.h |  50 +++++
 2 files changed, 303 insertions(+)

commit 9b5b7798fee20b88cab2cf78f43b4843aa8718a2
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   Wed May 9 12:08:03 2012 +0200

    Update tp-glib copy of unit test lib

 tests/lib/telepathy/contactlist/Makefile.am        |  2 +
 .../telepathy/contactlist/contact-list-manager.c   |  9 +--
 .../telepathy/contactlist/simple-account-manager.c |  6 +-
 tests/lib/telepathy/contactlist/simple-account.c   | 55 ++++++++---------
 tests/lib/telepathy/contactlist/simple-conn.c      | 68
 +++++++++++++++++++---
 tests/lib/telepathy/contactlist/simple-conn.h      |  5 ++
 tests/lib/telepathy/contactlist/textchan-null.c    | 16 ++---
 tests/lib/telepathy/contactlist/util.c             | 49 ++++++++++++----
 tests/lib/telepathy/contactlist/util.h             |  6 ++
 9 files changed, 150 insertions(+), 66 deletions(-)

commit 932a2311c587013e726fbcecc52cde8eb13be6a9
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   Wed May 9 12:03:41 2012 +0200

    Cleanup previous commit

 backends/telepathy/lib/tpf-persona-store.vala | 12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit 209f4a3469aeb7e07c81f6a875ff521742dec810
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   Mon Apr 30 17:48:51 2012 +0200

    TpfPersonaStore: Immediately call _reset() when disconnected

    Otherwise we get weak-notify for each TpContact when TpConnection
    unref them.

    https://bugzilla.gnome.org/show_bug.cgi?id=675141

 backends/telepathy/lib/tpf-persona-store.vala | 18 +++++++++++-------
 1 file changed, 11 insertions(+), 7 deletions(-)

commit aed0ae5d16aec39a7143e6c1265906c9976fb2ef
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   Mon Apr 30 17:47:38 2012 +0200

    TpfPersonaStore::_load_cache(): use _add_persona()

    https://bugzilla.gnome.org/show_bug.cgi?id=675141

 backends/telepathy/lib/tpf-persona-store.vala | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 9a827c1f1126b906b18392f3f93566cc68842397
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Apr 29 11:55:53 2012 +0100

    core: Fix some whitespace problems in PotentialMatch

 folks/potential-match.vala | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 85b02009142d04d6271f06d4a2fea8bcaca2cb3f
Author: Marek Černocký <marek@manet.cz>
Date:   Fri May 4 19:35:24 2012 +0200

    Updated Czech translation

 po/cs.po | 352
 +++++++++++++++++++++++----------------------------------------
 1 file changed, 129 insertions(+), 223 deletions(-)

commit d32f20c2369f7c4fce903f5bfdbcf87a1da220e8
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   Fri May 4 13:51:51 2012 +0200

    Updated Slovenian translation

 po/sl.po | 191
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 99 insertions(+), 92 deletions(-)

commit d71eabd2ee1fb2b5d6c266d35f20f6baccd4a23d
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Thu May 3 22:48:18 2012 +0100

    Bug 675292 — Assertion when joining IRC channel

    Correctly initialise Tpf.PersonaStore._favourite_ids on store
    construction,
    rather than on preparation. This prevents it being null at inopportune
    times.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=675292

 NEWS                                          | 1 +
 backends/telepathy/lib/tpf-persona-store.vala | 7 ++++---
 2 files changed, 5 insertions(+), 3 deletions(-)

commit cc0464559669c9c6a092ee1a72c6189a9de27b2c
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Thu May 3 23:16:53 2012 +0100

    tests: Re-fix compiler warnings in textchan-null.c

    Still need to get them upstreamed to telepathy-glib.

 tests/lib/telepathy/contactlist/textchan-null.c | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 2f1c60b5a3a60c8f1b80f690b88076c041ea3215
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 1 08:03:59 2012 +0200

    persona-store-cache: don't create empty field details

    https://bugzilla.gnome.org/show_bug.cgi?id=675211

 backends/telepathy/lib/tpf-persona-store-cache.vala | 17
 ++++++++++++++---
 1 file changed, 14 insertions(+), 3 deletions(-)

commit fa99531e2d155fe7948cf36323cdadc6c10ebb61
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:   Wed May 2 16:51:22 2012 +0200

    Update copy of textchan-null.c from tp-glib

    This aboid deprecation warnings

 tests/lib/telepathy/contactlist/textchan-null.c | 22
 ++++++++++++++--------
 1 file changed, 14 insertions(+), 8 deletions(-)

commit 4cfb16eeb76e633aca2a5c33beb4e8b4d2f13a8f
Merge: 186a237 79f7983
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 30 15:26:40 2012 +0200

    Merge branch 'folks-0-6'

    Conflicts:
	NEWS
	configure.ac

commit 79f7983759a7d6b8527f31f3ecaa8f9b2e5e0525
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:	Mon Apr 30 14:49:39 2012 +0200

    tpf-persona: ignore empty email or phone number

    The interface implementation raises an error if we pass it an
    empty value.

    https://bugzilla.gnome.org/show_bug.cgi?id=675144

 backends/telepathy/lib/tpf-persona.vala | 27 ++++++++++++++++++---------
 1 file changed, 18 insertions(+), 9 deletions(-)

commit bdc430c704b2964e05ecc0bd3fdea67fd4caaa1a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:	Mon Apr 30 15:09:13 2012 +0200

    Raise a debug message rather than a warning when failing to parse
    bday field

    There is no much we can't do if other clients didn't respect the
    vCard spec.

    https://bugzilla.gnome.org/show_bug.cgi?id=675155

 backends/telepathy/lib/tpf-persona.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 186a237ba31d9bb392a48511ab2b95bdb4352d2c
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Apr 24 00:02:43 2012 +0100

    Bug 663890 — @throws annotations missing for some functions

    Add missing ‘@throws’ annotations to various public methods.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=663890

 NEWS						  |  1 +
 backends/eds/lib/edsf-persona-store.vala	  | 18 +++++++++++++++
 backends/key-file/kf-persona-store.vala	  |  3 +++
 backends/libsocialweb/lib/swf-persona-store.vala | 10 ++++++++
 backends/telepathy/lib/tpf-persona-store.vala	  | 12 ++++++++++
 backends/telepathy/lib/tpf-persona.vala	  |  3 +++
 backends/tracker/lib/trf-persona-store.vala	  |  7 ++++++
 folks/backend-store.vala			  |  2 ++
 folks/backend.vala				  |  4 ++++
 folks/group-details.vala			  |  2 ++
 folks/individual-aggregator.vala		  | 29
 ++++++++++++++++++++++++
 folks/persona-store.vala			  |  6 +++++
 12 files changed, 97 insertions(+)

commit cacb8622b1346ae09d6581ea7195be0ed760d0f1
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	Wed Apr 25 11:57:29 2012 +0200

    Updated Spanish translation

 po/es.po | 148
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 81 insertions(+), 67 deletions(-)

commit 25a299c1b119882049cfd87cc8986c8214cf970a
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	Tue Apr 24 00:53:11 2012 +0200

    Updated Galician translations

 po/gl.po | 143
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 78 insertions(+), 65 deletions(-)

commit e5174753199070ee6fe804d4c0c95a776302f506
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Apr 23 14:38:36 2012 +0100

    core: Use intltool 0.50’s enhanced GSettings support

    This bumps our intltool dependency to 0.50.0, but means we can
    simplify the
    build for GSettings schemas.

    See: https://bugzilla.gnome.org/show_bug.cgi?id=647909

 NEWS					       |  1 +
 configure.ac				       |  4 ++--
 folks/Makefile.am			       |  1 -
 folks/org.freedesktop.folks.gschema.xml.in    | 12 ++++++++++++
 folks/org.freedesktop.folks.gschema.xml.in.in | 12 ------------
 po/POTFILES.in				       |  2 +-
 po/POTFILES.skip			       |  1 -
 7 files changed, 16 insertions(+), 17 deletions(-)

commit 374beb10e0445f1caba9a12cbf61c21938812215
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Fri Sep 16 15:15:03 2011 +0100

    core: Port to GSettings

    Drops our dependency on GConf, but bumps our GLib dependency to
    2.26.0.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=647909

 NEWS					       |  3 ++
 configure.ac				       | 11 +++++--
 docs/Makefile.am			       |  4 ---
 folks/Makefile.am			       | 20 +++++++++++--
 folks/folks.convert			       |  2 ++
 folks/individual-aggregator.vala	       | 42
 +++++++++++----------------
 folks/org.freedesktop.folks.gschema.xml.in.in | 12 ++++++++
 folks/persona-store.vala		       |  2 +-
 po/POTFILES.in				       |  1 +
 po/POTFILES.skip			       |  1 +
 10 files changed, 62 insertions(+), 36 deletions(-)

commit fe63d6987200a1d0c45b37a4614ffada218e1ce9
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Apr 22 00:35:56 2012 +0100

    telepathy: Remove extraneous whitespace from a warning string

 backends/telepathy/lib/tpf-persona-store.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 52e9ad1883ee9137a87cf50c9896fba2a0ea9ffa
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Apr 22 00:35:00 2012 +0100

    core: Don’t leak file contents when loading key-files

    Vala’s ‘*’ operator requires explicit memory management. It’s
    better that
    we avoid using it at all.

 backends/key-file/kf-persona-store.vala | 4 ++--
 folks/backend-store.vala		 | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit c2345c09373f325dae504fae9ea4e8e8feaf552b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Apr 17 16:11:18 2012 +0100

    Bug 674256 — telepathy-glib minimal version is insufficient

    Bump the minimum telepathy-glib dependency to 0.17.5 for
    tp_connection_disconnect_async().

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=674256

 NEWS	      | 4 ++++
 configure.ac | 2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit a44de3258ee922d19a3a39e3012ba81bcee063ea
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Apr 17 16:11:18 2012 +0100

    Bug 674256 — telepathy-glib minimal version is insufficient

    Bump the minimum telepathy-glib dependency to 0.17.5 for
    tp_connection_disconnect_async().

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=674256

 NEWS	      | 4 ++++
 configure.ac | 2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 6b70bd74429fab669fc0f82af8cb2ca98067147f
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Apr 17 12:56:11 2012 +0100

    eds: Don’t try and remove a non-existent timeout source

    In the case that the modify_contact() call fails, timeout_id will
    equal 0,
    and GLib will complain when we try to remove it in the finally{}
    block.

 backends/eds/lib/edsf-persona-store.vala | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit 284f2f1a4541756832ee59127e7ff3d6685b883b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Apr 17 13:29:02 2012 +0100

    Post-release version bump

 NEWS	      | 5 +++++
 configure.ac | 4 ++--
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 66c248254e5e602ff55edcfebaac0475aeddc469
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Apr 17 13:27:37 2012 +0100

    Release version 0.7.0

 NEWS					       |  6 ++++++
 backends/telepathy/lib/tpf-persona-store.vala |  2 +-
 configure.ac				       | 12 ++++++------
 folks/individual-aggregator.vala	       |  2 +-
 4 files changed, 14 insertions(+), 8 deletions(-)

commit d7b8ccbe27d0a1ff3e9ed291e04ba18a86d5f89f
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Apr 17 12:56:11 2012 +0100

    eds: Don’t try and remove a non-existent timeout source

    In the case that the modify_contact() call fails, timeout_id will
    equal 0,
    and GLib will complain when we try to remove it in the finally{}
    block.

 backends/eds/lib/edsf-persona-store.vala | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit f8cd520f396964e17984fc585c5f0913f512e30d
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Apr 17 12:45:53 2012 +0100

    telepathy: Convert another logger warning to a debug message

 backends/telepathy/lib/tpf-persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2d0ca2ce7e07caa00baac0c5787e14b69229322e
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Apr 16 15:39:37 2012 +0100

    eds: Add an extra timeout to the EDS tests to ensure the main
    loop’s empty

    This is a horrible hack for which I should probably be shot. I just
    want to
    make the release. Please don’t judge me.

    The tests all need to be rearchitected to no longer rely on timers
    everywhere
    anyway.

 tests/eds/link-personas.vala | 13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit d92c24753eae430c4c7f1810d96973ee40d278f0
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Apr 16 18:12:30 2012 +0100

    telepathy: Change the logger warning to a debug message

    It’s quite legitimate for no logger to be running, and users will
    get an
    error when they try to change the favourite status of a contact
    anyway.

 backends/telepathy/lib/tpf-persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 55c37843df726147bff087311f261fdf5f317b2e
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Apr 16 18:11:31 2012 +0100

    telepathy: Only allow is-favourite to be writeable if the logger
    initialised

    This prevents setting favourites falling into a black hole.

 backends/telepathy/lib/tpf-persona-store.vala | 16 ++++++++++++++--
 tests/telepathy/individual-properties.vala    |  8 ++++++--
 2 files changed, 20 insertions(+), 4 deletions(-)

commit 834cb05e09c75d1ed0100af3a495217b04a20670
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Mar 26 16:58:50 2012 +0100

    telepathy: Correctly advertise the writeability of alias and group
    properties

    Previously, Tpf.Personas were always advertising aliases and groups as
    being writeable properties, when they're actually not writeable for
    Facebook XMPP connections.

    Aliases were previously not writeable in the Telepathy fake CM
    (so the test
    was previously in error), but they’re now writeable, so
    everything’s fine.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=671662

 NEWS					       |  1 +
 backends/telepathy/lib/tpf-persona-store.vala | 70
 +++++++++++++++------------
 backends/telepathy/lib/tpf-persona.vala       | 62
 ++++++++++++------------
 3 files changed, 70 insertions(+), 63 deletions(-)

commit 74bb1d2dc0f8e891cc3c90ddb5e4002ed4b7db2e
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Mar 26 16:21:56 2012 +0100

    telepathy: Fix notification of is-favourite changes

    This ensures that the UI reflects errors in changing the is-favourite
    status
    of a Tpf.Persona, rather than just blindly assuming they succeed.

 backends/telepathy/lib/tpf-persona.vala | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 46ca881a18febf9848ea96379cfd3ee004c6ab6f
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Mar 26 15:07:31 2012 +0100

    telepathy: Make group changes truly asynchronous and report errors
    properly

    Take advantage of GroupDetails.change_group() being async, and wait
    for the
    underlying Telepathy operation to complete before returning from
    it. This
    allows us to propagate errors properly, rather than just printing
    them as warnings on the terminal.

    This also includes changes to not notify of changes to
    Tpf.Persona.groups
    until Telepathy has notified us of the change. This should prevent
    groups
    changing in the UI if the underlying operation has actually failed.

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=671662

 backends/telepathy/lib/tpf-persona-store.vala | 24 --------------
 backends/telepathy/lib/tpf-persona.vala       | 45
 +++++++++++++++++++++------
 2 files changed, 35 insertions(+), 34 deletions(-)

commit 9a7015cac1fedee8154bce6d267a0a0a89a6d40b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Mar 26 15:00:49 2012 +0100

    telepathy: Remove some unused internal signals

 backends/telepathy/lib/tpf-persona-store.vala | 3 ---
 1 file changed, 3 deletions(-)

commit 197cda29d89b59cfdaafd8eda6754f82d93feb05
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Mar 26 14:56:21 2012 +0100

    telepathy: Make alias changes truly asynchronous and report errors
    properly

    Take advantage of AliasDetails.change_alias() being async, and wait
    for the
    underlying Telepathy operation to complete before returning from
    it. This
    allows us to propagate errors properly, rather than just printing
    them as
    warnings on the terminal.

    This also includes changes to not notify of changes to
    Tpf.Persona.alias
    until Telepathy has notified us of the change. This should prevent
    aliases
    changing in the UI if the underlying operation has actually failed.

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=671662

 backends/telepathy/lib/tp-lowlevel.c	       | 65
 +++++++++++++++++++++++----
 backends/telepathy/lib/tp-lowlevel.h	       | 11 ++++-
 backends/telepathy/lib/tpf-persona-store.vala | 19 +++++---
 backends/telepathy/lib/tpf-persona.vala       |  3 +-
 4 files changed, 81 insertions(+), 17 deletions(-)

commit 137a87c3300b1ef87f737972d4c401c752578e35
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Tue Apr 17 12:56:03 2012 +0200

    Sync contacts-conn.c from tp-glib

    Now implementing SetAliases

 tests/lib/telepathy/contactlist/contacts-conn.c | 57
 +++++++++++++++++++++++--
 1 file changed, 54 insertions(+), 3 deletions(-)

commit 37aa70f07c0496879419274e881a6fa05ec5d068
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Apr 16 18:01:42 2012 +0100

    Post-release version bump

 NEWS	      | 5 +++++
 configure.ac | 4 ++--
 2 files changed, 7 insertions(+), 2 deletions(-)

commit f8f6290da81a0f785bf24c8e08eda2e69b7ebab6
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Apr 16 18:00:11 2012 +0100

    Release version 0.6.9

 NEWS	      | 7 ++++++-
 configure.ac | 8 ++++----
 2 files changed, 10 insertions(+), 5 deletions(-)

commit c46ccee525d63ad247e6ed552b946b39867c45a8
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Mar 28 14:46:34 2012 +0100

    Bug 658576 — Need API to get a FolksIndividual from his ID

    Add an IndividualAggregator.look_up_individual() method which
    currently just
    looks up in the map from IDs to individuals. In future, however,
    this method
    will also ensure all properties of that individual have been loaded
    if the
    aggregator has otherwise not lazy-loaded properties. (See:
    bgo#648805.)

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=658576

 NEWS				  |  9 +++++++++
 folks/individual-aggregator.vala | 29 +++++++++++++++++++++++++++++
 2 files changed, 38 insertions(+)

commit ef9accf8b57b94840c7a2216c2dcccc6bf0a29e8
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Apr 16 15:39:37 2012 +0100

    eds: Add an extra timeout to the EDS tests to ensure the main
    loop’s empty

    This is a horrible hack for which I should probably be shot. I just
    want to
    make the release. Please don’t judge me.

    The tests all need to be rearchitected to no longer rely on timers
    everywhere
    anyway.

 tests/eds/link-personas.vala | 13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit a535eed2047f7b873bdad125820effae03c3740b
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	Sat Apr 14 14:07:04 2012 +0200

    Updated Galician translations

 po/gl.po | 265
 +++++++++++++++++++++++----------------------------------------
 1 file changed, 95 insertions(+), 170 deletions(-)

commit 383182f33395b93481edd43348de26ed150d1c7a
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	Sat Apr 14 09:57:52 2012 +0200

    Updated Slovenian translation

 po/sl.po | 255
 ++++++++++++++++++++++++---------------------------------------
 1 file changed, 96 insertions(+), 159 deletions(-)

commit 12486748d2ceaa19d69db5bf17a15b53daeaa035
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	Fri Apr 13 17:32:55 2012 +0200

    Updated Spanish translation

 po/es.po | 257
 ++++++++++++++++++++++-----------------------------------------
 1 file changed, 91 insertions(+), 166 deletions(-)

commit 650cfd0e3b644227e9d979c5237384742a34170e
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Fri Apr 13 16:39:52 2012 +0200

    TpfPersonaStore: fix indentation

 backends/telepathy/lib/tpf-persona-store.vala | 23
 ++++++++++++-----------
 1 file changed, 12 insertions(+), 11 deletions(-)

commit 5ba88816c6b1787296db1411e22249753d5dfc5c
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Wed Apr 11 21:39:44 2012 +0200

    TpfPersonaStore: do not reset _favourite_ids at each reconnect

    https://bugzilla.gnome.org/show_bug.cgi?id=630822

 backends/telepathy/lib/tpf-persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 889ac810497d74fc43e1530de06af50956c69cdd
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Tue Apr 10 17:28:21 2012 +0200

    Add back TpContact features

    This is for backward compatibility

    https://bugzilla.gnome.org/show_bug.cgi?id=630822

 backends/telepathy/lib/tpf-persona-store.vala | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit 40f614da5dd245922386cd4ad6ddeb8afc536ed7
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Tue Apr 10 17:05:19 2012 +0200

    TpfPersonaStore: return null in add_persona_from_details() if persona
    is already in contact list

    https://bugzilla.gnome.org/show_bug.cgi?id=630822

 backends/telepathy/lib/tpf-persona-store.vala | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit a08aaa04fc305873eee728102b1edfa6f04ef390
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Tue Apr 10 17:04:07 2012 +0200

    TpfPersonaStore: throw PersonaStoreError if an error occure while
    removing the contact

    https://bugzilla.gnome.org/show_bug.cgi?id=630822

 backends/telepathy/lib/tpf-persona-store.vala | 21 +++++++++++++++------
 1 file changed, 15 insertions(+), 6 deletions(-)

commit f516257d5892d4114151d7e7c751d7396b7daaf9
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Tue Apr 10 17:01:29 2012 +0200

    TpfPersona: throw PropertyError when an error occure changing group
    membership

    https://bugzilla.gnome.org/show_bug.cgi?id=630822

 backends/telepathy/lib/tpf-persona-store.vala | 23
 ++++++++++++++++++-----
 backends/telepathy/lib/tpf-persona.vala       |  1 +
 2 files changed, 19 insertions(+), 5 deletions(-)

commit d701c9f35da152327351bff8f4ea3ccf265f1431
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Tue Apr 10 16:58:27 2012 +0200

    TpfPersonaStore: freeze/thaw notify signals when changing connection

    https://bugzilla.gnome.org/show_bug.cgi?id=630822

 backends/telepathy/lib/tpf-persona-store.vala | 2 ++
 1 file changed, 2 insertions(+)

commit b77e14e32c11ca77690f36bcb9667a52f5dd4b1a
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Tue Apr 10 16:57:09 2012 +0200

    TpfPersonaStore: remove the store if connection does not implement
    ContactList

    https://bugzilla.gnome.org/show_bug.cgi?id=630822

 backends/telepathy/lib/tpf-persona-store.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9d525bb0c3ae87b2156dfa52ee37736d42a6dd71
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Tue Apr 10 16:54:21 2012 +0200

    TpfPersonaStore: warn on error initialising tp logger

    https://bugzilla.gnome.org/show_bug.cgi?id=630822

 backends/telepathy/lib/tpf-persona-store.vala | 53
 +++++++++++----------------
 1 file changed, 22 insertions(+), 31 deletions(-)

commit b28e65a2c84f7c974a5f2c6ea8d247b06e1d24cb
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Tue Apr 10 16:53:13 2012 +0200

    TpfPersonaStore: disconnect signals in _reset

    https://bugzilla.gnome.org/show_bug.cgi?id=630822

 backends/telepathy/lib/tpf-persona-store.vala | 5 +++++
 1 file changed, 5 insertions(+)

commit 5996f2672902e19510807b058da6062c8e7f2495
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Tue Apr 10 15:55:48 2012 +0200

    Various coding style fixes, add comments and debug()

    https://bugzilla.gnome.org/show_bug.cgi?id=630822

 backends/telepathy/lib/tpf-persona-store.vala | 129
 ++++++++++++++++++--------
 backends/telepathy/lib/tpf-persona.vala       |   8 +-
 2 files changed, 96 insertions(+), 41 deletions(-)

commit e7fe2e607a7fdeeeaa76de9a4ead872951b1611d
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Tue Apr 10 15:15:07 2012 +0200

    Add internal TpfPersona._set_is_favourite

    https://bugzilla.gnome.org/show_bug.cgi?id=630822

 backends/telepathy/lib/tpf-persona-store.vala | 7 ++++---
 backends/telepathy/lib/tpf-persona.vala       | 6 ++++++
 2 files changed, 10 insertions(+), 3 deletions(-)

commit ac7413f779e92d174f58da1544eb623c8ec07192
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Fri Mar 30 10:19:37 2012 +0200

    Port TpfPersonaStore to high-level tp-glib APIs

    It now uses Connection.ContactList iface instead of deprecated
    ContactList channels.

    Note that this introduce an important behaviour change: folks will
    no longer pull all TpContact features, but rely on the user to define
    features needed on the default AM's factory.

    https://bugzilla.gnome.org/show_bug.cgi?id=630822

 backends/telepathy/lib/tp-lowlevel.c	       |  519 +-------
 backends/telepathy/lib/tp-lowlevel.h	       |   88 +-
 backends/telepathy/lib/tpf-persona-store.vala | 1764
 ++++---------------------
 backends/telepathy/lib/tpf-persona.vala       |   40 +-
 tests/lib/telepathy/contactlist/backend.c     |   12 +
 5 files changed, 271 insertions(+), 2152 deletions(-)

commit 622ad4c1b2992cb22466b0ae4e28faa05271186b
Author: Gianvito Cavasoli <gianvito@gmx.it>
Date:	Fri Apr 6 17:18:45 2012 +0200

    [l10n] Added Italian translation

 po/LINGUAS |	1 +
 po/it.po   | 823
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 824 insertions(+)

commit 470410c9f7d78a31632f6d1e98459efec16d1030
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Fri Mar 30 10:19:32 2012 +0200

    Test: disconnect individuals_changed signal to avoid race

    Otherwise, deleting the 2nd account runs the mainloop and could make
    the aggregator realize the 1st account got removed and start removing
    its individuals.

 tests/folks/aggregation.vala | 18 ++++++++++++++----
 1 file changed, 14 insertions(+), 4 deletions(-)

commit fc2fe61108ca736a0e42208bf4f830196e286028
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Fri Mar 30 09:41:07 2012 +0200

    Tests: TpConnectionStatus can also be CONNECTING

 tests/lib/telepathy/contactlist/contact-list-manager.c | 3 ---
 1 file changed, 3 deletions(-)

commit c040c685e9da4a1822664824e1667fe841704883
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Wed Mar 28 16:06:31 2012 +0200

    Tests: terminate DBus trafic with the connection before removing
    its account

    Otherwise unit tests gets racy.

 tests/lib/telepathy/contactlist/backend.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 645095eebbf3a2b772ad99c9fcf60acc63f14a0f
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Mar 28 14:18:28 2012 +0100

    tests: Fix some C warnings in the Telepathy tests library

 .../telepathy/contactlist/contact-list-manager.c   |  6 +++
 tests/lib/telepathy/contactlist/contacts-conn.c    |  4 +-
 .../telepathy/contactlist/simple-account-manager.c |  6 +--
 tests/lib/telepathy/contactlist/simple-account.c   | 51
 ++++++++++++----------
 tests/lib/telepathy/contactlist/textchan-null.c    | 16 +++----
 tests/lib/telepathy/contactlist/util.c		    |  9 ++++
 6 files changed, 56 insertions(+), 36 deletions(-)

commit bfdc8c8710ad87ff44b1e32ac85325a3225895ec
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Wed Mar 28 13:29:50 2012 +0200

    Tests: fix a race condition

    It is not guaranteed that individuals_changed and
    individuals_changed_detailed
    signals will have the individuals in the same order.

 tests/folks/aggregation.vala | 20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit 109133c590822eb93fa9c8245fdb2f7347f5acf6
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Tue Mar 27 18:05:12 2012 +0200

    Tests: port to verbatim copy of tp-glib files

 tests/lib/telepathy/contactlist/Makefile.am	    |	19 +-
 tests/lib/telepathy/contactlist/account-manager.c  |  226 ---
 tests/lib/telepathy/contactlist/account-manager.h  |	66 -
 tests/lib/telepathy/contactlist/account.c	    |  341 ----
 tests/lib/telepathy/contactlist/account.h	    |	60 -
 tests/lib/telepathy/contactlist/backend.c	    |  253 +--
 tests/lib/telepathy/contactlist/backend.h	    |	14 +-
 tests/lib/telepathy/contactlist/conn.c		    |  972 ---------
 tests/lib/telepathy/contactlist/conn.h		    |	75 -
 .../telepathy/contactlist/contact-list-manager.c   | 2139
 ++++++--------------
 .../telepathy/contactlist/contact-list-manager.h   |  103 +-
 tests/lib/telepathy/contactlist/contact-list.c     |  632 ------
 tests/lib/telepathy/contactlist/contact-list.h     |  118 --
 tests/lib/telepathy/contactlist/contacts-conn.c    | 1392 +++++++++++++
 tests/lib/telepathy/contactlist/contacts-conn.h    |  190 ++
 tests/lib/telepathy/contactlist/debug.h	    |	 3 +
 .../telepathy/contactlist/simple-account-manager.c |  222 ++
 .../telepathy/contactlist/simple-account-manager.h |	66 +
 tests/lib/telepathy/contactlist/simple-account.c   |  579 ++++++
 tests/lib/telepathy/contactlist/simple-account.h   |	69 +
 tests/lib/telepathy/contactlist/simple-conn.c	    |  452 +++++
 tests/lib/telepathy/contactlist/simple-conn.h	    |	77 +
 tests/lib/telepathy/contactlist/textchan-null.c    |  571 ++++++
 tests/lib/telepathy/contactlist/textchan-null.h    |  137 ++
 .../telepathy/contactlist/tp-test-contactlist.h    |	 7 +-
 tests/telepathy/individual-properties.vala	    |	 4 +-
 26 files changed, 4540 insertions(+), 4247 deletions(-)

commit 98e2bf01ff5d51070719c7674ba6b0c2b942145f
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Tue Mar 27 17:13:50 2012 +0200

    Tests: Change namespace to TpTests instead of TpTest

    Files from telepathy-glib are in TpTests namespace, so this
    will facilitate copying verbatim copy.

 tests/folks/aggregation.vala			    |	6 +-
 tests/folks/backend-loading.vala		    |	4 +-
 tests/folks/init.vala				    |	4 +-
 tests/lib/telepathy/contactlist/Makefile.am	    |	2 +-
 tests/lib/telepathy/contactlist/account-manager.c  |  48 ++--
 tests/lib/telepathy/contactlist/account-manager.h  |  56 ++--
 tests/lib/telepathy/contactlist/account.c	    |  46 ++--
 tests/lib/telepathy/contactlist/account.h	    |  54 ++--
 tests/lib/telepathy/contactlist/backend.c	    |  88 +++---
 tests/lib/telepathy/contactlist/backend.h	    |  52 ++--
 tests/lib/telepathy/contactlist/conn.c		    | 172 ++++++------
 tests/lib/telepathy/contactlist/conn.h		    |  60 ++--
 .../telepathy/contactlist/contact-list-manager.c   | 306
 ++++++++++-----------
 .../telepathy/contactlist/contact-list-manager.h   | 124 ++++-----
 tests/lib/telepathy/contactlist/contact-list.c     | 114 ++++----
 tests/lib/telepathy/contactlist/contact-list.h     | 158 +++++------
 tests/telepathy/fake-tp-backend.vala		    |	4 +-
 tests/telepathy/individual-properties.vala	    |	6 +-
 tests/telepathy/individual-retrieval.vala	    |	6 +-
 tests/telepathy/init.vala			    |	4 +-
 tests/telepathy/persona-store-capabilities.vala    |	6 +-
 21 files changed, 660 insertions(+), 660 deletions(-)

commit ff5f319a5901e51567e9ec13db5455de7b7f53aa
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Tue Mar 27 12:49:32 2012 +0200

    TpTestBackend: Make sure DBus trafic is done in tear_down

 tests/lib/telepathy/contactlist/Makefile.am |	 2 +
 tests/lib/telepathy/contactlist/backend.c   |	 8 +
 tests/lib/telepathy/contactlist/util.c      | 473
 ++++++++++++++++++++++++++++
 tests/lib/telepathy/contactlist/util.h      |	76 +++++
 4 files changed, 559 insertions(+)

commit 9b7eb0547284f314e089715bd7286e3c788a47f9
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Mon Mar 26 14:09:55 2012 +0200

    Make sure unit cache tests are not messing the user's cache

    XDG_CACHE_HOME must be set before the first call of
    g_get_user_cache_dir().
    The problem is g_file_new_for_path() actually ends to a call to
    g_get_user_cache_dir() somewhere in gvfs, so ensure we set the
    env before
    that.

 tests/folks/avatar-cache.vala | 10 +++++-----
 tests/folks/object-cache.vala | 10 +++++-----
 2 files changed, 10 insertions(+), 10 deletions(-)

commit ada8261b601b27f85dd71750ef140edee02e1863
Author: Xavier Claessens <xavier.claessens@collabora.co.uk>
Date:	Mon Mar 26 10:54:56 2012 +0200

    Increase quiescent timeout to 30s

    5s is too optimistical, it can easily take longer when printing debug
    messages on terminal (unit test failing because of this) or even
    in real
    world usage if system is a bit on load.

 folks/individual-aggregator.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 278de0b59eb5dee93f8436e982901438a55d5b19
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:	Wed Mar 28 11:22:28 2012 +0200

    tpf-persona: use tp_connection_get_account()

    telepathy-glib introduced API to get the TpAccount of a TpConnection
    so Folks
    doesn't have to do it manually.

    This has the nice side effect of fixing a crash when
    TpAccount/TpConnection
    are momentary out of sync while connecting/disconnecting accounts.

    https://bugzilla.gnome.org/show_bug.cgi?id=672980

 NEWS					 |  4 ++++
 backends/telepathy/lib/tpf-persona.vala | 23 ++---------------------
 configure.ac				 |  2 +-
 3 files changed, 7 insertions(+), 22 deletions(-)

commit 5093de52d401d18f1ee67eed83982cc4b0d928ca
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	Tue Mar 27 21:33:59 2012 +0200

    Updated Polish translation

 po/pl.po | 94
 +++++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 57 insertions(+), 37 deletions(-)

commit 3dad66e2de6a184221091e51fa1274b756683fd0
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	Tue Mar 27 12:39:25 2012 +0200

    Updated Galician translations

 po/gl.po | 94
 +++++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 57 insertions(+), 37 deletions(-)

commit 297a15d7453368180a12b6d58acd6ce6fd5b727f
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	Tue Mar 27 10:44:42 2012 +0200

    Updated Spanish translation

 po/es.po | 117
 +++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 69 insertions(+), 48 deletions(-)

commit ea6d2102a2fae382d7275279695fb38ba3deb1f9
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Mar 26 23:29:32 2012 +0100

    Post-release version bump

 NEWS	      | 5 +++++
 configure.ac | 4 ++--
 2 files changed, 7 insertions(+), 2 deletions(-)

commit b82a52126451c1fa72a22d331d565db238dd1271
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Mar 26 23:20:32 2012 +0100

    Release version 0.6.8

 NEWS			    | 14 ++++++++++++++
 configure.ac		    | 10 +++++-----
 folks/potential-match.vala |  2 +-
 3 files changed, 20 insertions(+), 6 deletions(-)

commit 28114e2bdcf7ebb7549875e5116f7f7afa12545d
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Mar 26 23:19:26 2012 +0100

    telepathy: Add a couple of debug messages

 backends/telepathy/lib/tpf-persona-store.vala | 1 +
 backends/telepathy/lib/tpf-persona.vala       | 2 ++
 2 files changed, 3 insertions(+)

commit 385247e706a2c9118b312f546b5175469c8f4894
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Mar 26 22:03:30 2012 +0100

    tests: Fix potential match tests in Tracker backend

    The recent changes to name matching broke the incrementing of
    match levels
    depended on by the tests. Fix that.

 folks/potential-match.vala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a42c33e9c6a6afc55da807e8f5e4543b3b74e579
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Mar 26 22:02:27 2012 +0100

    eds: Remove Vala 0.14 code from EDS backend

    Now that we depend on Vala 0.15 unconditionally, we don't need the
    Vala 0.14
    versions of things.

 backends/eds/lib/memory-icon.vala | 4 ----
 1 file changed, 4 deletions(-)

commit be108a4272bb514bdce72125ad432544b5ea9470
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Mar 26 21:23:50 2012 +0100

    libsocialweb: Fix the tests to work with libsocialweb 0.25.20

    This bumps our libsocialweb dependency to 0.25.20 since that's
    the first
    release to include the s/com.meego/org.gnome/ D-Bus path change.

 configure.ac			     |	2 +-
 tests/lib/libsocialweb/backend.vala | 18 +++++++++---------
 tests/libsocialweb/aggregation.vala |	4 ++--
 tests/libsocialweb/dummy-lsw.vala   |	8 ++++----
 4 files changed, 16 insertions(+), 16 deletions(-)

commit 49218e6d2918ce5b60b9698f812ad52f0be94812
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Mar 26 20:16:00 2012 +0100

    telepathy: Handle null account managers

    This can occur in the tests when using persona stores which haven't
    been
    prepare()d at all.

 backends/telepathy/lib/tpf-persona-store.vala | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit a85a5dce3edf27b318a81036cfdd4bd8e48707b0
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	Mon Mar 26 21:01:49 2012 +0200

    Updated Slovenian translation

 po/sl.po | 94
 +++++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 57 insertions(+), 37 deletions(-)

commit 5aa11e108e8174b0b3c052e33f8191d3b07dac82
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Mar 26 19:47:54 2012 +0100

    i18n: Update British English translation

 po/en_GB.po | 300
 +++++++++++++++++++++++++++++++++++++-----------------------
 1 file changed, 185 insertions(+), 115 deletions(-)

commit 6d32d4660e85b81f535c3515c607450ce712c4e7
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Mar 26 19:38:49 2012 +0100

    telepathy: Fix weak_unref() warnings

    If a TpContact is destroyed and our weak reference handler is
    invoked, it
    could previously not remove the TpContact's pointer from the map
    of weak
    references held by the persona store. When the persona was later
    destroyed,
    it would call weak_unref() on the stale pointer and cause a warning.

    This patch ensures we always remove pointers from the map when their
    weak notification functions are called.

 backends/telepathy/lib/tpf-persona-store.vala | 2 ++
 1 file changed, 2 insertions(+)

commit c4890cedb9ecd0cd48a80ede747569899a8788d8
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Mar 26 19:22:09 2012 +0100

    i18n: Add a missing file to POTFILES.in

 po/POTFILES.in   | 1 +
 po/POTFILES.skip | 1 +
 2 files changed, 2 insertions(+)

commit 1cf34ed63c050935241271c9ec7838086b2ef0eb
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Mar 26 19:20:03 2012 +0100

    docs: Various documentation fixes

 backends/eds/lib/edsf-persona.vala		  | 23
 +++++++++++++++++++++++
 backends/libsocialweb/lib/swf-persona-store.vala |  3 +++
 backends/libsocialweb/lib/swf-persona.vala	  | 22
 ++++++++++++++++++++++
 backends/telepathy/lib/tpf-persona-store.vala	  | 16 ++++++++--------
 folks/email-details.vala			  |  2 +-
 folks/note-details.vala			  |  2 ++
 folks/persona-store.vala			  |  4 ++--
 folks/postal-address-details.vala		  |  1 -
 8 files changed, 61 insertions(+), 12 deletions(-)

commit 456575eb920abe5c132d22db0871b5a7fcdde74f
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Fri Jan 13 19:37:29 2012 +0000

    Bug 660235 — Consistent signal handlers to a terminal would be cool

    Fix folks-inspect’s handling of SIGINT, SIGTERM and EOF. In the
    former case,
    we want to clear the current input buffer and display a new prompt. In
    the case of SIGTERM we want to exit cleanly, and in the case of EOF
    we want
    to exit if the input buffer is empty.

    The combination of readline, Unix signals and threads in this
    was unfun.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=660235

 NEWS			    |  1 +
 tools/inspect/Makefile.am  |  1 +
 tools/inspect/inspect.vala | 30 +++++++++++++++++++++++++++++-
 3 files changed, 31 insertions(+), 1 deletion(-)

commit 75c7fb1803a27a608d75ffda41306ef9082aa01c
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Fri Jan 13 16:29:22 2012 +0000

    inspect: Move readline() loop into the GLib main loop

    The readline() loop is more pain than it’s worth, so we now use
    readline’s
    callback interface for command line handling, allowing us to use
    a single
    main loop and a single thread for both the aggregator and readline.

    This should make signal handling a lot easier.

    Note that this bumps our Vala requirement from 0.15.1 to 0.15.2.

 configure.ac		    |  2 +-
 tools/inspect/inspect.vala | 95
 ++++++++++++++++++++++++++++++----------------
 2 files changed, 63 insertions(+), 34 deletions(-)

commit 0010985fe858635b1ba059cdfa1b4d5e2468dd4a
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Mar 4 13:10:30 2012 +0000

    telepathy: Handle contact removals from groups

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=669984

 NEWS					       |  1 +
 backends/telepathy/lib/tpf-persona-store.vala | 63
 ++++++++++++++++++++++-----
 backends/telepathy/lib/tpf-persona.vala       | 10 ++---
 folks/individual.vala			       |  8 +---
 4 files changed, 58 insertions(+), 24 deletions(-)

commit f8e59f0d0a051ed9dcfeab2467b78ca1aabec741
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Mar 24 22:18:21 2012 +0000

    Bug 670872 — Should be less sensitive to accentuated chars

    Strip accented characters from names and make them all lower case when
    searching for potential matches between individuals.

    This uses a modified version of Empathy's live search code to
    allow for
    string matches regardless of case or accentuation.

    The commit also fixes the potential match code to handle UTF-8
    properly,
    which it wasn't doing before.

    This includes a test case.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=670872

 NEWS			       |   1 +
 folks/potential-match.vala    | 112
 +++++++++++++++++++++++++++++++++++++-----
 tests/tracker/match-name.vala |  11 +++++
 3 files changed, 112 insertions(+), 12 deletions(-)

commit 478389889e05bbbadcc079734ac6519b9e3c673b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Mar 24 22:15:25 2012 +0000

    tests: Tidy up the tracker/match-name test a little

    Reduce code duplication somewhat.

 tests/tracker/match-name.vala | 50
 ++++++++-----------------------------------
 1 file changed, 9 insertions(+), 41 deletions(-)

commit 6e92923a31576058b0064f660d4065ff267fa859
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Mar 24 18:58:58 2012 +0000

    Bug 671900 — Folks should not suggest linking contacts from
    telepathy-salut

    Reject any possibility of a match between two individuals if either
    of them
    have a trust level of NONE (which can happen if they contain
    link-local XMPP
    personas, for example).

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=671900

 NEWS			    |  1 +
 folks/potential-match.vala | 33 +++++++++++++++++++++++++++------
 2 files changed, 28 insertions(+), 6 deletions(-)

commit 01bb4e28b7760c105867c885f546d20e70c8e34e
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Mar 24 18:56:43 2012 +0000

    core: Make PotentialMatch._inspect_im_addresses() private

    It was never meant to be public, and nobody should've been using it.
    Consequently, let's pretend this isn't an API break.

 folks/potential-match.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3b3df69cbf0c13e7a6bcee6d4e3945722b45694b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Feb 18 13:55:37 2012 +0000

    telepathy: Handle TpProxy::invalidated signals in the Telepathy
    backend

    If the TpConnection is invalidated (due to the CM crashing), we
    want to
    reset the state of the TpfPersonaStore (but not remove it). If the
    TpAccountManager is invalidated (due to it crashing), we assume
    that all
    accounts have been invalidated, and remove all TpfPersonaStores. Same
    for
    the TpAccount.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=670348

 NEWS					       |  1 +
 backends/telepathy/lib/tpf-persona-store.vala | 61
 +++++++++++++++++++++++----
 2 files changed, 53 insertions(+), 9 deletions(-)

commit 5811fd7c860e21a3f8d7cb1bf9b564d444e7e409
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Mar 24 17:55:32 2012 +0000

    Bug 672373 — folks-import segfaults (Archlinux x86_64)

    Fix a GValue boxed-type-mismatch between folks-import and ImDetails
    which
    was causing crashes.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=672373

 NEWS			  | 1 +
 tools/import-pidgin.vala | 5 +++--
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 7df672ddcd782a314745c998d1aa566a2a02f06d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:	Thu Mar 22 15:34:15 2012 +0100

    create_personas_from_contact_ids: always return all the personas

    We always want to try adding the persona to Telepathy, even if it
    was already
    existing in Folks because, for example, we look for the details
    of this
    contact before adding it.

    https://bugzilla.gnome.org/show_bug.cgi?id=671714

 NEWS					       |  1 +
 backends/telepathy/lib/tpf-persona-store.vala | 13 ++++++++-----
 2 files changed, 9 insertions(+), 5 deletions(-)

commit 8f26cd581c1afd14e98247789abe1b3b40f397ed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:	Thu Mar 22 15:32:02 2012 +0100

    _add_persona_from_contact: always return the persona

    In some case we may be interested by using the persona even if it
    was already
    existing.

    https://bugzilla.gnome.org/show_bug.cgi?id=671714

 backends/telepathy/lib/tpf-persona-store.vala | 28
 ++++++++++++++++-----------
 1 file changed, 17 insertions(+), 11 deletions(-)

commit 22debb77d6049dfd84c63a5e71d577101ae835f2
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	Tue Mar 20 17:19:16 2012 +0100

    Updated Spanish translation

 po/es.po | 110
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 60 insertions(+), 50 deletions(-)

commit acbeac07e499c43d01d784eb26cf807fa60a6b20
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	Tue Mar 20 16:00:44 2012 +0100

    Updated Polish translation

 po/pl.po | 109
 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 60 insertions(+), 49 deletions(-)

commit fafa29f709cc71b06476b9d7cc447b34cee6fcfd
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	Tue Mar 20 14:57:43 2012 +0100

    Updated Galician translations

    Signed-off-by: Fran Diéguez <fran.dieguez@mabishu.com>

 po/gl.po | 149
 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 84 insertions(+), 65 deletions(-)

commit bb28e9a9c749f923ae03d843691421feb7f2f30d
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	Tue Mar 20 14:44:37 2012 +0100

    Updated Slovenian translation

 po/sl.po | 109
 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 60 insertions(+), 49 deletions(-)

commit 910d6c295cd4aaccc781314933ce62d5c5dc66b6
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Mar 19 19:02:05 2012 +0000

    core: Improve quiescence timeout

    Ensure that we start the timeout in the case that all backends
    are marked
    as quiescent (meaning that they've added all their persona stores),
    but none
    of the persona stores are.

 folks/individual-aggregator.vala | 9 +++++++++
 1 file changed, 9 insertions(+)

commit dcf663dd9100b1ef1e52fdc6e2decdaf21a1332b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Jan 9 13:18:56 2012 +0000

    eds: Tie favourite status to “Starred in Android” group for
    Google Contacts

    Link is-favourite to whether a “Starred in Android” group exists
    on a contact
    (and vice-versa) if the contact is from a Google Contacts address
    book.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=661490

 NEWS					  |  2 ++
 backends/eds/lib/edsf-persona-store.vala | 50
 +++++++++++++++++++++++++++++
 backends/eds/lib/edsf-persona.vala	  | 54
 ++++++++++++++++++++++++++++++++
 3 files changed, 106 insertions(+)

commit 01c0fd63a6371b804978fb3f523551114d4d06c1
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Feb 18 13:56:54 2012 +0000

    telepathy: Handle null birthday strings

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=670347

 NEWS					 | 1 +
 backends/telepathy/lib/tpf-persona.vala | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 6983ab619c2ab6981221ff9045b7e0188792e005
Author: Daniel Nylander <po@danielnylander.se>
Date:	Mon Mar 19 15:11:39 2012 +0100

    Updated Swedish translation

 po/sv.po | 560
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 304 insertions(+), 256 deletions(-)

commit 0c923897715c17ef6036c4bba38fe316718cfa8c
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Mar 19 13:49:36 2012 +0000

    build: Add missing entry to NEWS

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit 46d4506d346199f53039d8d31275b8ce61146528
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Mar 5 00:11:09 2012 +0000

    core: Don’t modify a HashSet while iterating over it

    Even though we were modifying it from the Iterator (which should’ve
    been OK),
    we got hit by https://bugzilla.gnome.org/show_bug.cgi?id=671327
    which meant
    that some Personas weren't getting disconnected from Individuals. This
    is a
    likely cause of bug #670523.

    This also includes a related (but irrelevant to the bug itself)
    tidy-up to
    Persona._individual.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=670523

 NEWS		       |  2 ++
 folks/individual.vala | 11 ++++++-----
 folks/persona.vala    |  4 ++--
 3 files changed, 10 insertions(+), 7 deletions(-)

commit 11b837ad8c3474da9b7048be9401269522d569d5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:	Mon Mar 19 14:21:37 2012 +0100

    Persona: make sure to NULL-ify the individual when it's destroyed

    https://bugzilla.gnome.org/show_bug.cgi?id=672381

 folks/persona.vala | 23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit 31e803448d206b75c820b5147364adac453dce50
Author: Jasper St. Pierre <jstpierre@mecheye.net>
Date:	Sat Mar 17 04:49:19 2012 -0400

    folks: Don't set G_MESSAGES_DEBUG unconditionally

    https://bugzilla.gnome.org/show_bug.cgi?id=671499

 folks/backend-store.vala | 2 +-
 folks/debug.vala	  | 5 -----
 2 files changed, 1 insertion(+), 6 deletions(-)

commit 24f60323f06e7e801b8c5cb97ffda184ecfcfbc6
Author: Colin Walters <walters@verbum.org>
Date:	Fri Jan 20 12:24:59 2012 -0500

    build: Add --disable-fatal-warnings configure flag

    Useful for builders who aren't necessarily developers.

 configure.ac | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit d1c3bc710dbd08ab2ce27c698d35e5523c208156
Author: Daniel Korostil <ted.korostiled@gmail.com>
Date:	Sun Mar 11 22:31:53 2012 +0200

    Added uk translation

 po/LINGUAS |	1 +
 po/uk.po   | 773
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 774 insertions(+)

commit 699d009e2673bc9d078b43cdd20e5224f868bebd
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Mar 4 20:24:49 2012 +0000

    libsocialweb: Tidy up Swf.PersonaStore.prepare() to return
    asynchronously

    Previously, the prepare() method would return synchronously,
    firing off
    some asynchronous methods in libsocialweb, which would later return in
    callbacks and (theoretically) cause the persona store to reach
    quiescence.

    This behaviour was not playing nicely with the expected asynchronous
    behaviour of prepare(), and wasn't handling errors properly — on
    an error,
    the code would cancel preparation, but not throw an error or
    remove the
    persona store.

    The code now throws errors and removes the persona store if
    preparation
    fails, which should hopefully help some of the not-reaching-quiescence
    issues
    we’ve been seeing.

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=670191

 backends/libsocialweb/lib/swf-persona-store.vala | 241
 ++++++++++++++++-------
 1 file changed, 165 insertions(+), 76 deletions(-)

commit b7bda06afca7ad5222e26e7ef6f9765162d38093
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Mar 4 14:29:27 2012 +0000

    core: Force IndividualAggregator quiescence after a 5s timeout

    This prevents clients being (too) adversely affected (e.g. not
    being able
    to do anything) by buggy Backends and PersonaStores which never reach
    quiescence.

    Note that this patches the symptoms, not the cause of the
    problem. Good as
    a safety net, though.

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=670191

 NEWS				  |  1 +
 folks/individual-aggregator.vala | 51
 ++++++++++++++++++++++++++++++++++++++++
 2 files changed, 52 insertions(+)

commit f19d5ad0ab162b41747c0cd10a9c5ed30b23e187
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Mar 5 14:22:13 2012 -0800

    Bump Tracker version requirements to match current Tracker

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5f26596731a40c8103fe403d5aaa7049e3eae496
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Mar 5 15:30:10 2012 -0800

    Factor out the tracker-sparql major number.

    This changes fairly often, so this will make it easier to adjust
    it all
    in one place.

 backends/tracker/Makefile.am			      | 2 +-
 backends/tracker/lib/Makefile.am		      | 4 ++--
 backends/tracker/lib/folks-tracker-uninstalled.pc.in | 2 +-
 backends/tracker/lib/folks-tracker.deps	      | 4 ----
 backends/tracker/lib/folks-tracker.deps.in	      | 4 ++++
 backends/tracker/lib/folks-tracker.pc.in	      | 2 +-
 configure.ac					      | 3 +++
 tests/lib/tracker/Makefile.am			      | 2 +-
 tests/tracker/Makefile.am			      | 2 +-
 9 files changed, 14 insertions(+), 11 deletions(-)

commit 7644dea4c10534806f029b68623a403e66c1f83a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Feb 22 18:30:13 2012 -0800

    Post-release version bump

 NEWS	      | 4 ++++
 configure.ac | 4 ++--
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 75da6df96b004220cf5baf25027827ef861d2839
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Feb 22 14:18:23 2012 -0800

    Release version 0.6.7

 configure.ac			   | 10 +++++-----
 folks/postal-address-details.vala |  2 +-
 folks/role-details.vala	   |  2 +-
 3 files changed, 7 insertions(+), 7 deletions(-)

commit 7c824b4baed19420bdd1eebca774aaf9cc5c4f6e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Feb 22 15:50:26 2012 -0800

    Temporarily disable troublesome tests due to bgo#668415

 tests/eds/Makefile.am | 28 ++++++++++++++++++----------
 1 file changed, 18 insertions(+), 10 deletions(-)

commit c0003918e4be83e13e8823e0801486f05e66227d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 30 11:23:26 2012 -0800

    Cut invalid overly-specific type cast

    The Vala compiler now correctly warns that typeof(Foo<Bar>)
    is invalid,
    so this stops pretending we can be that specific.

    (The generated C code can't make a GValue as specific as the
    above Vala
    code fragment suggests; historically, the compiler would let you get
    away with this, likely with the false assumption that the generic type
    would ever be considered again.)

 folks/individual-aggregator.vala	  |  2 +-
 tests/eds/add-persona.vala		  | 12 ++++++------
 tests/eds/link-personas.vala		  | 10 +++++-----
 tests/tracker/add-persona.vala		  | 14 +++++++-------
 tests/tracker/duplicated-emails.vala	  |  4 ++--
 tests/tracker/duplicated-phones.vala	  |  4 ++--
 tests/tracker/link-personas.vala	  |  4 ++--
 tests/tracker/match-email-addresses.vala |  4 ++--
 tests/tracker/match-im-addresses.vala	  |  4 ++--
 tests/tracker/match-known-emails.vala	  |  4 ++--
 tests/tracker/match-phone-number.vala	  |  4 ++--
 tests/tracker/remove-persona.vala	  |  2 +-
 tests/tracker/set-duplicate-email.vala   |  2 +-
 13 files changed, 35 insertions(+), 35 deletions(-)

commit 55539ee4accd29d89d28d23e6ef76ad2ab023724
Author: Colin Walters <walters@verbum.org>
Date:	Fri Jan 20 14:46:14 2012 -0500

    Build with vala 0.15

 NEWS					 |  1 +
 backends/key-file/kf-persona-store.vala | 13 +++----------
 configure.ac				 |  2 +-
 folks/backend-store.vala		 | 16 ++++++++--------
 folks/object-cache.vala		 |  6 +++---
 tests/folks/backend-loading.vala	 |  6 +++---
 tests/lib/eds/backend.vala		 |  2 +-
 tests/libsocialweb/aggregation.vala	 | 10 ++++------
 tools/inspect/inspect.vala		 |  2 +-
 9 files changed, 25 insertions(+), 33 deletions(-)

commit 22159d44ec6e516f4d0266b8d1efec7273ef1db8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Feb 17 15:03:17 2012 -0800

    Note fix for bgo#670196 in NEWS

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit ee8e0871a53e0209aa081342990a200d328aee48
Author: Marek Černocký <marek@manet.cz>
Date:	Fri Feb 17 11:28:42 2012 +0100

    Updated Czech translation

 po/cs.po | 160
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 84 insertions(+), 76 deletions(-)

commit c231159f4206322dabf510f938a2e3979cf4fa4e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:	Thu Feb 16 10:02:49 2012 +0100

    add missing config.h includes

    https://bugzilla.gnome.org/show_bug.cgi?id=670196

 tests/lib/telepathy/contactlist/conn.c			| 3 +++
 tests/lib/telepathy/contactlist/contact-list-manager.c | 2 ++
 2 files changed, 5 insertions(+)

commit a062e90a17c303c20063b4aa912779860f2e2de0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:	Thu Feb 16 10:02:13 2012 +0100

    Disable glib deprecated warnings

    We need GValueArray for dbus-glib, and it got deprecated in GLib
    2.31.x

    https://bugzilla.gnome.org/show_bug.cgi?id=670196

 configure.ac | 4 ++++
 1 file changed, 4 insertions(+)

commit 7f0a54b8e59a1d03181c67a035e8a924a67f5b0c
Author: Automatic Mirroring <aronmalache@gmail.com>
Date:	Thu Feb 16 11:57:35 2012 +0000

    Add zh_CN to LINGUAS

 po/LINGUAS | 1 +
 1 file changed, 1 insertion(+)

commit d067754ab6edc0db833026bdcd23da7e733fa65b
Author: Wylmer Wang <wantinghard@gmail.com>
Date:	Thu Feb 16 11:56:39 2012 +0000

    Add Simplified Chinese translation.

 po/zh_CN.po | 753
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 753 insertions(+)

commit 3b479090475e5eb7ab1d40a2de48e3b727f50f6c
Author: Mario Blättermann <mario.blaettermann@gmail.com>
Date:	Sun Feb 5 13:52:33 2012 +0100

    [l10n] Updated German translation

 po/de.po | 342
 +++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 203 insertions(+), 139 deletions(-)

commit 312d2c035bf68bea78f6d3f0e11b5b1dcba88097
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	Thu Feb 2 19:18:29 2012 +0100

    Updated Polish translation

 po/pl.po | 186
 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 94 insertions(+), 92 deletions(-)

commit 221cb22ae55b4cf9ecab6d02969a87ad72590c8e
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	Tue Jan 31 20:10:18 2012 +0100

    Updated Slovenian translation

 po/sl.po | 186
 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 93 insertions(+), 93 deletions(-)

commit a8f50f0b7d77e83781c7dd7433ae99f48c64a9c8
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	Tue Jan 31 13:14:54 2012 +0100

    Updated Spanish translation

 po/es.po | 205
 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 104 insertions(+), 101 deletions(-)

commit 3f78e4a1c5b6cb9084608fa3a28264341d4274c7
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jan 26 16:27:03 2012 -0800

    Only add non-empty Role or PostalAddress fields in Tracker backend

    This prevents some newly-exposed test failures.

 backends/tracker/lib/trf-persona-store.vala |	7 +++++--
 backends/tracker/lib/trf-persona.vala	     | 31
 +++++++++++++++++++----------
 2 files changed, 25 insertions(+), 13 deletions(-)

commit 50171f5392901dca6eb1af48cc76a7b0c7ad7b5b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jan 24 18:00:29 2012 -0800

    Don't assume every Tpf.Persona has a contact

 backends/telepathy/lib/tpf-persona-store.vala | 38
 +++++++++++++++++++++++++--
 1 file changed, 36 insertions(+), 2 deletions(-)

commit 22e4318d3ff4a10c94d51d509553428529c9a729
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jan 24 17:00:58 2012 -0800

    Fix the nullity of test functions.

 tests/folks/aggregation.vala | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 05e72fcf261fb7a45cebf6db58c754d1b548f72f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jan 24 15:57:32 2012 -0800

    Make Individual implement PresenceDetails properly

 folks/individual.vala | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 84ada94322ade52392f386b09450d1a92ed9d02c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Sat Jan 21 17:24:05 2012 -0800

    Make Tpf.Persona properly implement the PresenceDetails properties.

 backends/telepathy/lib/tpf-persona.vala | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit e407887f03f84379934391760a779109f1237cbe
Author: Alexander Larsson <alexl@redhat.com>
Date:	Mon Jan 23 16:30:58 2012 +0100

    Match names better for PotentialMatches

    We match alias as well as full name, to e.g. match an EDS contact
    (full name)
    with an IM contact (alias).

    Also, we make exact name matches bring the priority to HIGH alone,
    which
    is needed in the IM case since the alias is the only piece of data
    we have to match on.

    https://bugzilla.gnome.org/show_bug.cgi?id=668499

 folks/potential-match.vala | 46
 ++++++++++++++++++++++++++++++++++++++++++----
 1 file changed, 42 insertions(+), 4 deletions(-)

commit 555d2d05f103dc48056a2f83521128c567c3159d
Author: Colin Walters <walters@verbum.org>
Date:	Thu Jan 19 15:38:35 2012 -0500

    autogen.sh: Honor NOCONFIGURE=1

    See http://people.gnome.org/~walters/docs/build-api.txt

 autogen.sh | 24 ++++++++++++++----------
 1 file changed, 14 insertions(+), 10 deletions(-)

commit 1f6ad99baf8d64b6f887c8fb2c862779118a05c0
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	Tue Jan 17 01:52:27 2012 +0100

    Updated Galician translations

 po/gl.po | 250
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 134 insertions(+), 116 deletions(-)

commit b5f3bfb649ec9b86c24f870177e3648df9f5a8c0
Author: Marek Černocký <marek@manet.cz>
Date:	Mon Jan 16 10:02:20 2012 +0100

    Updated Czech translation

 po/cs.po | 244
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 129 insertions(+), 115 deletions(-)

commit 8c0c98a26914f5b1014866ae889f24d461ba3877
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Jan 9 18:24:21 2012 +0000

    eds: Add a dummy authentication handler

    This will deny any authentication requests, which goes some way
    to stopping
    address books remaining in the “opening” state
    indefinitely. However, it
    (curiously) doesn’t entirely eliminate the problem.

    It also looks like this is a situation where the ::opened signal
    can return
    an error while the async open() call doesn’t. Joy.

 backends/eds/lib/edsf-persona-store.vala | 26 +++++++++++++++++++++++++-
 1 file changed, 25 insertions(+), 1 deletion(-)

commit 1e3cde1b510a936832b04e741f634dda72d943d3
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Jan 9 14:47:02 2012 +0000

    telepathy: Fix weak notification of TpContacts

    By the time our weak notification callback was called, the
    TpContact’s
    handle had been set to 0, which mucked things up for us.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=667535

 NEWS					       |  2 ++
 backends/telepathy/lib/tpf-persona-store.vala | 36
 +++++++++++++++++----------
 2 files changed, 25 insertions(+), 13 deletions(-)

commit bf8dfa934b1e6fa31818d51a3eba5cbb04a1632b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Fri Jan 6 23:08:10 2012 +0000

    telepathy: Keep Tpf.PersonaStore.personas up to date for cached stores

    When loading a Tpf.PersonaStore from its cache, ensure Personas
    are inserted
    into both the set of personas _and_ the map of IIDs to personas.

    This fixes Tpf.PersonaStore.personas being empty for cached stores.

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=667410

 backends/telepathy/lib/tpf-persona-store.vala | 1 +
 1 file changed, 1 insertion(+)

commit d258c86814c0dd4405a8a2b7a45f3d2a036fa1eb
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Fri Jan 6 23:05:05 2012 +0000

    Bug 667410 — A second aggregator instance only fetches a subset
    of contacts

    This was happening because the initial BackendStore was hanging
    around across
    multiple IndividualAggregator instances, keeping all the Backends,
    PersonaStores and Personas alive.

    The IndividualAggregator didn’t have code to deal with pre-prepared
    Backends
    and PersonaStores, meaning it never realised the Personas existed
    (because
    they weren’t announced via personas-changed signals), and thus
    never created
    Individuals out of them.

    This commit fixes the problem by having IndividualAggregator check for
    existing Backends, PersonaStores and Personas when prepare()
    is called.

    It also adds a test case to the folks test suite, based on the
    one written
    by Guillaume in bgo#667410.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=667410

 NEWS				  |  2 +
 folks/backend.vala		  | 10 +++++
 folks/individual-aggregator.vala | 50 +++++++++++++++++++++-
 folks/persona-store.vala	  | 10 +++++
 tests/folks/init.vala		  | 91
 ++++++++++++++++++++++++++++++++++++++++
 5 files changed, 161 insertions(+), 2 deletions(-)

commit 93a0fa7049f9a94ff917fa3bba24b376257a7c2b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Jan 9 11:16:09 2012 +0000

    eds: Mark a few more contact fields as being handled

    This should prevent a few debug messages about unhandled fields.

 backends/eds/lib/edsf-persona-store.vala | 19 ++++++++++++++-----
 1 file changed, 14 insertions(+), 5 deletions(-)

commit c34cd4b9f07b22f3813c3f26051521cb6338ea5e
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Jan 9 10:55:02 2012 +0000

    core: Set G_MESSAGES_DEBUG when parsing debug domains

    This stops GLib from dropping all our debug output (unless the
    user has
    remembered to set G_MESSAGES_DEBUG manually in addition to
    FOLKS_DEBUG).

 folks/debug.vala | 5 +++++
 1 file changed, 5 insertions(+)

commit 065de8cfbe14b819a0f3e2670060899b8cc8b9be
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Jan 9 10:12:30 2012 +0000

    build: Add folks-internal files to MAINTAINERCLEANFILES etc.

 folks/Makefile.am | 4 ++++
 1 file changed, 4 insertions(+)

commit 97dce24a20534d33dbea1d9520d9e1333c4e8e56
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Jan 8 23:43:29 2012 +0000

    docs: Add NEWS for the previous two commits

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit 4acfe29de66deff09e778084dae2d9f39fdbf28e
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Jan 8 23:16:14 2012 +0000

    build: Add lcov make targets from telepathy-glib

    Add lcov.mk, copied from telepathy-glib:
    http://cgit.freedesktop.org/telepathy/telepathy-glib/tree/tools/lcov.am
    with the tp-glib–specific bits removed.

    These targets are only useful if folks is compiled with
    --enable-code-coverage.

    To run the test suite and generate a report, run `make lcov-check`. To
    just
    generate a report without running the test suite, run `make
    lcov-report`.

    The .info file and generated report are only deleted by
    `make maintainer-clean`, since the developer might want to refer
    to them
    across other cleans.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=659610

 Makefile.am | 15 +++++++++++++++
 lcov.mk     | 23 +++++++++++++++++++++++
 2 files changed, 38 insertions(+)

commit 56e69d1c2bdb2311f01b8d291f85645a356edd78
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Jan 8 21:31:04 2012 +0000

    Bug 657063 — Allow to pass a command to folks-inspect

    Add a non-interactive mode to folks-inspect which executes the command
    given on the command line synchronously, and then exits.

    Closes: https://bugzilla.gnome.org/show_bug.cgi?id=657063

 tools/inspect/inspect.vala | 165
 +++++++++++++++++++++++++++++++++++----------
 1 file changed, 128 insertions(+), 37 deletions(-)

commit ba2d3fb69a0c5145ef3fca75377a8f63137025cc
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Jan 8 19:51:25 2012 +0000

    inspect: Set up locale in main()

 tools/inspect/Makefile.am  | 3 +++
 tools/inspect/inspect.vala | 3 +++
 2 files changed, 6 insertions(+)

commit 7ee89fb9376af9aa671e86c5ef4116819c5a0cdf
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Jan 8 19:19:03 2012 +0000

    tests: Add a quiescence test for the Telepathy backend

    This just checks that an aggregator with a single Tpf.PersonaStore
    reaches
    quiescence in a reasonable time.

 tests/lib/Makefile.am	     |	25 +++++++++-
 tests/lib/test-utils.vala   |	44 ++++++++++++++++++
 tests/telepathy/Makefile.am |	 7 ++-
 tests/telepathy/init.vala   | 109
 ++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 182 insertions(+), 3 deletions(-)

commit d6e9f684b0303b6c7365373dad1adb937c7e99cf
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Jan 8 17:02:40 2012 +0000

    tests: Add a fake-tp-backend program in the Telepathy tests

    This is not an automated test, and is intended to be run manually
    on a D-Bus
    bus specified using the DBUS_SESSION_BUS_ADDRESS environment variable,
    together with a client program (for example, a test program) to be
    run against
    it.

 tests/telepathy/Makefile.am	      |  8 ++++-
 tests/telepathy/fake-tp-backend.vala | 68
 ++++++++++++++++++++++++++++++++++++
 2 files changed, 75 insertions(+), 1 deletion(-)

commit 945cb3d7301b94205ad77fb454482d07679f5037
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Jan 8 15:58:16 2012 +0000

    build: Add an --enable-code-coverage configure parameter

    When building with code coverage enabled, -fprofile-arcs and
    -ftest-coverage
    will be passed to gcc during compilation, and -lgcov will be passed
    during
    linking.

    Code coverage is disabled by default for the core of folks, since
    it has to
    turn off valac’s ‘-g’ option to output #line directives in
    the generated C
    code. This is necessary because lcov gets confused by execution
    passing
    between .vala and .c files. More useful results can be obtained
    by just
    looking at the code coverage of the .c files and ignoring the
    boilerplate
    in them.

    (More specifically, lcov reports on .vala files aren’t especially
    useful
    because they erroneously mark many lines as being executed which
    actually
    weren’t. This happens because one Vala line may be compiled
    into several
    lines of C, some of which will be executed unconditionally even if
    the Vala
    line itself isn’t executed. This will fool lcov into thinking the
    Vala line
    was actually executed.)

    Code coverage is automatically turned off when making a release.

 backends/eds/Makefile.am	       |  2 ++
 backends/eds/lib/Makefile.am	       |  2 ++
 backends/key-file/Makefile.am	       |  2 ++
 backends/libsocialweb/Makefile.am     |  2 ++
 backends/libsocialweb/lib/Makefile.am |  2 ++
 backends/telepathy/Makefile.am        |  2 ++
 backends/telepathy/lib/Makefile.am    |  4 ++++
 backends/tracker/Makefile.am	       |  2 ++
 backends/tracker/lib/Makefile.am      |  2 ++
 configure.ac			       | 34
 ++++++++++++++++++++++++++++++++--
 folks/Makefile.am		       |  4 ++++
 11 files changed, 56 insertions(+), 2 deletions(-)

commit f4b46b0cdbea0ef334ffc1fe281440654c40dfea
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Jan 8 15:50:02 2012 +0000

    build: Tidy up use of AM_* variables in Makefile.ams

 backends/eds/Makefile.am	    | 33 +++++++++++++++++++++------------
 backends/eds/lib/Makefile.am	    |  4 ++++
 backends/key-file/Makefile.am	    | 27 ++++++++++++++++++---------
 backends/libsocialweb/Makefile.am  | 33 +++++++++++++++++++++------------
 backends/telepathy/Makefile.am     | 31 ++++++++++++++++++++-----------
 backends/telepathy/lib/Makefile.am |  9 ++++++++-
 backends/tracker/Makefile.am	    | 33 +++++++++++++++++++++------------
 backends/tracker/lib/Makefile.am   | 28 ++++++++++++----------------
 folks/Makefile.am		    | 11 +++++++++++
 tools/Makefile.am		    | 15 +++++++++------
 tools/inspect/Makefile.am	    |  8 +++++++-
 11 files changed, 152 insertions(+), 80 deletions(-)

commit 478d8b0f9744d97600303dcd3dd7876b74949806
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Fri Jan 6 23:01:12 2012 +0000

    eds: Cope with opening buggy EDS address book backends

    Turns out that almost as soon as I’d pushed the previous commit,
    one of my
    address books proved me wrong and returned successfully from the
    async open()
    call without being open (according to is_opened()) afterwards. Bother.

    This replaces the assertion that the above holds with some code
    which will
    throw an error instead, which should be a bit more robust in the
    case of
    buggy EDS address books.

 backends/eds/lib/edsf-persona-store.vala | 28
 +++++++++++++---------------
 1 file changed, 13 insertions(+), 15 deletions(-)

commit 9eac06d8f0fe7cb5e58a95d7540f670419d98e54
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Fri Jan 6 18:29:21 2012 +0000

    eds: Handle BUSY errors when opening address books better

    If another process is in the middle of opening an address book when
    we come
    to try and open it, our open() call will return immediately with
    a BUSY
    error.

    In this case, we need to wait for the EClient::opened signal to
    know when
    the open operation has finished.

    Hopefully, this will fix those irritating ‘blah is busy’ errors
    I frequently
    get when running the EDS backend test suite. Hopefully it also won’t
    introduce too many other problems.

 backends/eds/lib/edsf-persona-store.vala | 86
 +++++++++++++++++++++++++++++++-
 1 file changed, 85 insertions(+), 1 deletion(-)

commit 07bd131884ce4ae7d6e1fa9bf777da38b82b1a46
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Fri Jan 6 14:37:28 2012 +0000

    tests: Fix the EDS link-personas-diff-stores test

    Due to the tightening up of checks for PersonaStores being prepared
    before
    PersonaStore.add_persona_from_details() is called, this test was
    failing
    because it didn’t wait for its persona stores to get prepared.

    This fixes the problem by waiting for quiescence before launching
    into the
    test code proper.

 tests/eds/link-personas-diff-stores.vala | 26 +++++++++++++++++---------
 1 file changed, 17 insertions(+), 9 deletions(-)

commit d4aeea66f0719dc7a77a43372a940735cdfff4f2
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Fri Jan 6 14:35:01 2012 +0000

    eds: Reach quiescence in Edsf.PersonaStore for address books with
    no contacts

    It’s possible for an address book to have the “do-initial-query”
    capability
    yet not emit any ::objects-added signals on its view, if the address
    book has
    no contacts.

    This commit fixes that by listening for the ::complete signal on
    the address
    book view and using that to determine quiescence instead.

    This should theoretically also catch cases where the address book
    encounters
    an error part-way through initialisation, since that will be
    reported via
    the ::complete signal.

 backends/eds/lib/edsf-persona-store.vala | 41
 +++++++++++++++++++++++++-------
 1 file changed, 33 insertions(+), 8 deletions(-)

commit 6e8949a42ebb767c3d82039365e5204422e26d50
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Fri Jan 6 14:33:52 2012 +0000

    tests: Fix printerr() handler in TestCase

    It was always getting a null message due to having an extraneous extra
    parameter (in its C form), meaning that stacktraces from failed
    assertions
    in test cases were never getting printed.

 tests/lib/test-case.vala | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 33f7d0564156e766c22e8637e33f6389ae110bc6
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Dec 28 19:17:09 2011 +0000

    eds: Nullability fixes

    With the EDS annotation fixes in
    https://bugzilla.gnome.org/show_bug.cgi?id=667388, this fixes all
    of the
    nullability problems found by compiling with
    --enable-experimental-non-null.

    As mentioned in the previous commit, we can’t use
    --enable-experimental-non-null by default yet, but the fixes should
    work by
    themselves.

 backends/eds/lib/edsf-persona-store.vala | 286
 ++++++++++++++++++-------------
 backends/eds/lib/edsf-persona.vala	  | 247 ++++++++++++++------------
 backends/eds/lib/memory-icon.vala	  |  12 +-
 folks/persona-store.vala		  |   9 +-
 4 files changed, 324 insertions(+), 230 deletions(-)

commit d3385bae363651fe9588826210f79359fa820e01
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Dec 21 23:58:39 2011 +0000

    core: Nullability fixes

    Almost all of these are just the necessary ‘(!)’ annotations to
    allow the
    nullability check to pass. There were few, if any, actual bugs found
    by the
    check (which either means folks is perfect, or Vala's nullability
    checking
    is imperfect).

    This brings us down from 296 nullability errors to just below 50.

    The work was done by compiling folks with valac’s
    --enable-experimental-non-null flag. We’re not ready to add the
    flag to
    VALAFLAGS permanently yet, since this commit depends on various
    annotation
    fixes in GLib (and similarly, the next one depends on several in EDS).
    However, the fixes themselves should be valid without the flag.

    This depends on (at least):
     • https://bugzilla.gnome.org/show_bug.cgi?id=666700
     • https://bugzilla.gnome.org/show_bug.cgi?id=666699

 folks/abstract-field-details.vala |   4 +-
 folks/avatar-cache.vala	   |  17 ++--
 folks/backend-store.vala	   |  80 ++++++++++------
 folks/debug.vala		   |  23 +++--
 folks/email-details.vala	   |   4 +-
 folks/im-details.vala		   |  28 +++---
 folks/individual-aggregator.vala  | 169 ++++++++++++++++++---------------
 folks/individual.vala		   | 190
 ++++++++++++++++++++++----------------
 folks/note-details.vala	   |  12 +--
 folks/object-cache.vala	   |  43 +++++----
 folks/persona-store.vala	   |   9 +-
 folks/persona.vala		   |   6 +-
 folks/phone-details.vala	   |   7 +-
 folks/postal-address-details.vala |   2 +-
 folks/potential-match.vala	   |  14 ++-
 folks/role-details.vala	   |   7 +-
 folks/url-details.vala		   |   2 +-
 folks/web-service-details.vala    |   2 +-
 18 files changed, 357 insertions(+), 262 deletions(-)

commit 9136e590ecfade421f419233bb6afc70df5b332c
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	Wed Jan 4 20:31:26 2012 +0100

    Updated Slovenian translation

 po/sl.po | 234
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 123 insertions(+), 111 deletions(-)

commit d8dcef46764b17771eed66cd1b53ceb4caeff082
Author: Christian Kirbach <Christian.Kirbach@googlemail.com>
Date:	Sun Jan 1 22:44:46 2012 +0100

    Updated German translation

 po/de.po | 364
 ++++++++++++++++++++++++++++-----------------------------------
 1 file changed, 163 insertions(+), 201 deletions(-)

commit ec7d34f1532a734c87eaec9ee7178c6a65c02841
Author: Nicolás Satragno <nsatragno@gmail.com>
Date:	Sat Dec 31 18:49:49 2011 +0100

    Updated Spanish translation

 po/es.po | 60
 ++++++++++++++++++++++++++++++++++++++----------------------
 1 file changed, 38 insertions(+), 22 deletions(-)

commit 9c6da3b5fe39eb46532ce879067b1ff55d15df9e
Author: Nicolás Satragno <nicoymatu9@hotmail.com>
Date:	Thu Dec 29 15:46:42 2011 +0100

    Updated Spanish translation

 po/es.po | 292
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 156 insertions(+), 136 deletions(-)

commit 08db22f49e991df099b0f499ce48ee1d1c3b719a
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	Wed Dec 28 22:41:40 2011 +0100

    Updated Polish translation

 po/pl.po | 239
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 130 insertions(+), 109 deletions(-)

commit b108a7c8de2f35546a1e7df2e3e45b77a39db481
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Dec 28 19:56:24 2011 +0000

    aggregator: Expand the ‘no primary persona store’ error messages

    Try and be a little more helpful.

 folks/individual-aggregator.vala | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit c7991405bb2304bc57b5af711ff733a724f1372b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Dec 25 11:03:02 2011 +0000

    docs: Add NEWS for commit a99f47a196bee5a5ab258a010f7dcc173bbf7a42

 NEWS | 3 +++
 1 file changed, 3 insertions(+)

commit e5a2b01dceb57acad6104fa75e13623be10231a5
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Dec 25 10:58:38 2011 +0000

    eds: Ensure the default role is non-empty

    If the default role is empty (e.g. because EDS returns empty strings
    as the
    contact's title, org or role; rather than null), don't add it to the
    Persona.

    Helps: bgo#666540

 backends/eds/lib/edsf-persona.vala | 24 ++++++++++++++----------
 1 file changed, 14 insertions(+), 10 deletions(-)

commit a99f47a196bee5a5ab258a010f7dcc173bbf7a42
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Dec 25 10:48:14 2011 +0000

    core: Warn on passing empty values to AbstractFieldDetails subclasses

    There are no situations where passing an empty value (string or
    object) to
    an AbstractFieldDetails subclass makes sense. It just introduces
    potential
    bugs with mishandling empty strings (etc.) in code which consumes the
    AbstractFieldDetails.

    This commit adds warnings to all the AbstractFieldDetails
    subclasses’
    constructors which check for empty inputs. We can't use assert()s here
    because that would be an API break.

    Helps: bgo#666540

 folks/email-details.vala	   |  9 +++++++--
 folks/im-details.vala		   |  8 +++++++-
 folks/note-details.vala	   |  8 +++++++-
 folks/phone-details.vala	   |  8 +++++++-
 folks/postal-address-details.vala | 27 ++++++++++++++++++++++++++-
 folks/role-details.vala	   | 22 +++++++++++++++++++++-
 folks/url-details.vala		   |  7 ++++++-
 folks/web-service-details.vala    |  8 +++++++-
 8 files changed, 88 insertions(+), 9 deletions(-)

commit 6d9b0f55ff057776c13a2a6927a853ba6e9a320d
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Dec 21 20:09:47 2011 +0000

    Bug 666540 — Segfault on empty e-mail addresses with potential match

    Gracefully handle invalid e-mail addresses (such as empty strings
    or strings
    not containing an ‘@’) when searching for potential matches.

    Closes: bgo#666540

 NEWS			    |  1 +
 folks/potential-match.vala | 24 +++++++++++++++++++++---
 2 files changed, 22 insertions(+), 3 deletions(-)

commit dd743bdc54c477a8e5653b4e00d569b151199365
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Dec 21 20:08:32 2011 +0000

    eds: Ignore empty values when creating AbstractFieldDetails instances

    We don't want to be passing around (e.g.) empty strings as e-mail
    addresses,
    or we'll cause bugs like bgo#666540.

    This modifies the EDS backend to check E.VCardAttribute.get_value()
    is not
    null or the empty string whenever it's called, and skip the
    attribute as
    appropriate.

    Helps: bgo#666540

 backends/eds/lib/edsf-persona.vala | 48
 ++++++++++++++++++++++++++++++++------
 1 file changed, 41 insertions(+), 7 deletions(-)

commit 73b61e6a5465d9c511e0ef853e9dea7497bbcf10
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Dec 21 17:53:04 2011 +0000

    Bug 666528 — Can't convert from type 'GFile' to 'gchararray'

    Add pretty-printing support for a couple of new properties to
    folks-inspect.

    Closes: bgo#666528

 NEWS			  |  1 +
 tools/inspect/utils.vala | 15 ++++++++++++++-
 2 files changed, 15 insertions(+), 1 deletion(-)

commit c05b0a64acc35f47f8474094a1c378e22d874954
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Dec 21 17:52:05 2011 +0000

    inspect: Fix use of a deprecated NoteFieldDetails property

 tools/inspect/utils.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ec303b8f6c467a9c39a5a81bf5b2fc1b788208af
Author: Henrique P. Machado <hpmachado@gnome.org>
Date:	Mon Dec 19 15:27:01 2011 -0200

    Added Brazilian Portuguese translation

 po/LINGUAS  |	 1 +
 po/pt_BR.po | 758
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 759 insertions(+)

commit a73c77ec7ee7bc4c1a19a93b8999e0c9a02e8205
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	Mon Dec 19 09:27:57 2011 +0100

    Add nb

 po/LINGUAS | 1 +
 1 file changed, 1 insertion(+)

commit 20ff0c8d89b7a6b4bc50952eb6dbff95120748d4
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	Mon Dec 19 09:27:51 2011 +0100

    Added Norwegian bokmål translation

 po/nb.po | 724
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 724 insertions(+)

commit 7ccaef83603d2e3ce8cba054baf9dda5d8b7d9d0
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:	Tue Mar 29 14:50:16 2011 +0200

    Add missing #include <config.h> to make translations work

 backends/telepathy/lib/tp-lowlevel.c | 4 ++++
 1 file changed, 4 insertions(+)

commit 675f42c0b877c1a25bff05beb91e552fd793a6d9
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Thu Dec 15 18:33:26 2011 +0000

    Bug 666310 — Crash in Tracker backend by unsetting an entry in
    a read-only…

    Closes: bgo#666310

 NEWS				  | 1 +
 backends/tracker/tr-backend.vala | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit cd7653e952c3002087fa5dfea42910addca9263e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Dec 13 16:51:15 2011 -0800

    Post-release version bump.

 NEWS	      | 4 ++++
 configure.ac | 4 ++--
 2 files changed, 6 insertions(+), 2 deletions(-)

commit cafc3054ad18372d03ee2308de15fade842a30b7
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Dec 13 15:37:23 2011 -0800

    Release version 0.6.6

 backends/eds/lib/edsf-persona-store.vala	     |	2 +-
 backends/key-file/kf-persona-store.vala	     |	2 +-
 backends/libsocialweb/lib/swf-persona-store.vala    |	2 +-
 backends/telepathy/lib/tpf-logger.vala		     |	2 +-
 backends/telepathy/lib/tpf-persona-store-cache.vala |	2 +-
 backends/telepathy/lib/tpf-persona-store.vala	     |	4 ++--
 backends/telepathy/lib/tpf-persona.vala	     |	2 +-
 backends/tracker/lib/trf-persona.vala		     |	4 ++--
 configure.ac					     | 10 +++++-----
 folks/object-cache.vala			     |	4 ++--
 10 files changed, 17 insertions(+), 17 deletions(-)

commit 0487df55a28c7fdf8670354f15c311b5c605ac3c
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Dec 6 15:39:25 2011 +0000

    Bug 665376 — Add API to get a TpfPersona from a TpContact

    Add static functions to quickly look up Tpf.PersonaStores and
    Tpf.Personas
    from Tp.Accounts and Tp.Contacts (respectively).

    Closes: bgo#665376

 NEWS						   |   2 +
 backends/telepathy/lib/tpf-persona-store.vala	   | 223
 ++++++++++++++++++++++
 backends/telepathy/lib/tpf-persona.vala	   |  71 ++++++-
 backends/telepathy/tp-backend.vala		   |  31 +--
 tests/lib/telepathy/contactlist/account-manager.c |   2 +
 tests/lib/telepathy/contactlist/backend.c	   |   3 +
 6 files changed, 304 insertions(+), 28 deletions(-)

commit 2247cdd5f71a65f330343da2438e68fb8a3ecfd3
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Dec 6 23:09:14 2011 +0000

    Bug 665692 — Use constructors correctly

    In order to allow libfolks to be used from introspected languages
    (such as
    Python) properly, we need to correctly use the GObject construction
    process,
    rather than generating code which does all object initialisation
    inside
    a *_new() function. This involves moving lots of code into construct{}
    blocks.

    There are some complications; mostly the need for various private
    variables to
    now be exposed as construct-only properties. Most of them should've
    been
    anyway.

    Other complications arose from the fact that moving code to a
    construct{}
    block can subtly change the execution order of the code if the
    Object() call
    lists properties which are non-construct properties (e.g. the
    “alias” property
    of a Persona). The setters for these properties will now be called
    _after_ the
    construct{} code, whereas previously they would've been called
    beforehand.
    This rears its head in Tpf.Persona, but hopefully nowhere else.

    Closes: bgo#665692

 NEWS						    |  18 ++++
 backends/eds/eds-backend.vala			    |	5 +
 backends/eds/lib/edsf-persona-store.vala	    |  28 ++++--
 backends/eds/lib/edsf-persona.vala		    |  31 +++---
 backends/eds/lib/memory-icon.vala		    |	4 +
 backends/key-file/kf-backend.vala		    |	5 +
 backends/key-file/kf-persona-store.vala	    |  41 +++++---
 backends/key-file/kf-persona.vala		    |  37 ++++---
 backends/libsocialweb/lib/swf-persona-store.vala   |  26 +++--
 backends/libsocialweb/lib/swf-persona.vala	    |  20 ++--
 backends/libsocialweb/sw-backend.vala		    |	5 +
 backends/telepathy/lib/tpf-logger.vala		    |  11 ++-
 .../telepathy/lib/tpf-persona-store-cache.vala     |  13 ++-
 backends/telepathy/lib/tpf-persona-store.vala	    |	5 +-
 backends/telepathy/lib/tpf-persona.vala	    | 110
 ++++++++++++---------
 backends/telepathy/tp-backend.vala		    |	5 +
 backends/tracker/lib/trf-persona-store.vala	    |  39 ++++----
 backends/tracker/lib/trf-persona.vala		    |  47 +++++++--
 backends/tracker/tr-backend.vala		    |	5 +
 folks/abstract-field-details.vala		    |	4 +-
 folks/avatar-cache.vala			    |	5 +
 folks/backend-store.vala			    |	5 +
 folks/debug.vala				    |	4 +
 folks/individual-aggregator.vala		    |	5 +
 folks/individual.vala				    | 107
 ++++++++++----------
 folks/note-details.vala			    |	9 +-
 folks/object-cache.vala			    |  55 ++++++++---
 folks/phone-details.vala			    |	5 +-
 folks/postal-address-details.vala		    |  13 +--
 folks/potential-match.vala			    |  18 ++--
 folks/role-details.vala			    |  13 +--
 folks/url-details.vala				    |	5 +-
 folks/web-service-details.vala			    |	5 +-
 33 files changed, 452 insertions(+), 256 deletions(-)

commit 04b30abb398bb269d29701da833315f9f04e0818
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Thu Dec 8 16:44:51 2011 +0000

    tests: Add a test case for bgo#665728

    Ported from a C test case by Guillaume Desmottes
    <guillaume.desmottes@collabora.co.uk>.

    See: bgo#665728

 tests/folks/Makefile.am |  6 +++
 tests/folks/init.vala	 | 99
 +++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 105 insertions(+)

commit 58dba5a8129e498d7aaf8811597208f347f7ff31
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Thu Dec 8 16:21:45 2011 +0000

    backends: Tidy up prepare() and unprepare() methods’ mutual
    exclusion

    As discovered in bgo#665728, all our prepare() (and unprepare())
    methods are
    currently vulnerable to being run multiple times concurrently from
    a single
    thread. Add a _pending_prepare flag to all of them to prevent this. It
    doesn't need to be locked, since it should only ever be accessed
    from a
    single thread (since only a single thread can get through the lock{}
    recursive mutex at once).

    Helps: bgo#665728

 backends/eds/eds-backend.vala			  | 27 ++++++++++-
 backends/eds/lib/edsf-persona-store.vala	  | 23 +++++++++-
 backends/key-file/kf-backend.vala		  | 49
 ++++++++++++++++----
 backends/key-file/kf-persona-store.vala	  | 14 +++++-
 backends/libsocialweb/lib/swf-persona-store.vala |  9 +++-
 backends/libsocialweb/sw-backend.vala		  | 39 +++++++++++-----
 backends/telepathy/lib/tpf-persona-store.vala	  | 12 ++++-
 backends/telepathy/tp-backend.vala		  | 58
 ++++++++++++++++--------
 backends/tracker/lib/trf-persona-store.vala	  | 14 +++++-
 backends/tracker/tr-backend.vala		  | 49
 ++++++++++++++++----
 folks/backend.vala				  | 12 +++++
 folks/individual-aggregator.vala		  | 20 +++++++-
 folks/persona-store.vala			  |  6 +++
 13 files changed, 272 insertions(+), 60 deletions(-)

commit 8bdeef859e7c094dbd5e2bbd6c918eb88dfb3044
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Thu Dec 8 14:54:29 2011 +0000

    Bug 665728 — prepare() isn't mutually exclusive inside a single
    thread

    Fix Tpf.PersonaStore.prepare() to only run once, even if it's
    called multiple
    times from the same thread (e.g. if the caller wasn't yielding on
    the async
    call returning).

    Closes: bgo#665728

 NEWS					       | 2 ++
 backends/telepathy/lib/tpf-persona-store.vala | 6 +++++-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 17e8a1a8dc879f2dbb1be9e4164345c1911075d0
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Thu Dec 8 14:52:33 2011 +0000

    telepathy: Improve debugging messages in Tpf.PersonaStore

    It's a bit hard to differentiate between different instances of
    Tpf.PersonaStores at the moment, so let's include their addresses
    in debug
    messages.

    Also fix a minor whitespace issue.

 backends/telepathy/lib/tpf-persona-store.vala | 39
 ++++++++++++++++++---------
 1 file changed, 27 insertions(+), 12 deletions(-)

commit 5db7b6b72e409f8db0984bfb85875760929059fc
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Nov 11 15:42:44 2011 -0800

    Fix the documented name of individuals_changed_detailed.changes

 folks/individual-aggregator.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6ab0492a6de58d62ed963a82c0924b3550b762e0
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Dec 6 14:23:08 2011 +0000

    Bug 665039 — Crash in folks_backends_sw_backend_add_service

    Hold a reference to the Sw.Backend while waiting for a SwClient
    async call
    to finish in prepare().

    Similar changes are made in Swf.PersonaStore to avoid potential
    bugs there.

    Closes: bgo#665039

 NEWS						  |  1 +
 backends/libsocialweb/lib/swf-persona-store.vala | 28
 +++++++++++++++++++++---
 backends/libsocialweb/sw-backend.vala		  |  9 +++++++-
 3 files changed, 34 insertions(+), 4 deletions(-)

commit 50bc2ead6f963da7942d1c06cdd5e1a9e354fc85
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Nov 14 14:29:21 2011 -0800

    Ensure NameDetails public strings are non-null as we promise.

    Closes: bug#663889 - crash due to NameDetails which fail to guarantee
    non-null full-name/nickname

 NEWS					 | 2 ++
 backends/eds/lib/edsf-persona.vala	 | 2 ++
 backends/telepathy/lib/tpf-persona.vala | 2 ++
 backends/tracker/lib/trf-persona.vala	 | 2 ++
 4 files changed, 8 insertions(+)

commit dbe20794ea1d0c1d5841158100b570a5ff1251bc
Author: Mario Blättermann <mariobl@gnome.org>
Date:	Fri Nov 18 17:46:35 2011 +0100

    [l10n] Updated German translation

 po/de.po | 292
 ++++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 178 insertions(+), 114 deletions(-)

commit d2f0ae453240153b21ab3434681cfd6739c9790b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Nov 15 13:43:22 2011 -0800

    Clear out log handlers when disposing Debug to avoid crashers.

    In cases where the IndividualAggregator is destroyed and instantiated
    again (as in some of our tests), we could end up calling the Debug
    log handlers after destroying the Debug instance (resulting in
    g_static_rec_mutex_lock/unlock calls on an invalid freed mutex,
    causing a segfault).

    Closes: bgo#664158 - Stale log handler can cause segfault when
    re-creating Aggregator in a single run

 NEWS		  |  2 ++
 folks/debug.vala | 38 +++++++++++++++++++++++++++++++++++---
 2 files changed, 37 insertions(+), 3 deletions(-)

commit bbbae1cb632f4a86221bcf71c9402efd1ec95416
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:	Mon Nov 14 10:58:50 2011 +0100

    Updated Galician translations

 po/gl.po | 527
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 287 insertions(+), 240 deletions(-)

commit 12586dd87321795e90e9659c9d30b7fc157c3eee
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Nov 11 10:37:26 2011 -0800

    Bump Vala and GObject Introspection requirements.

    This bumps them to their first release in their current stable release
    series.

    This shrinks the gap between builders' build environments and what our
    developers build and test with.

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 795082dafd856a2971fb575f197c41cdeed964d8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Nov 10 16:45:35 2011 -0800

    Post-release version bump.

 NEWS	      | 4 ++++
 configure.ac | 4 ++--
 2 files changed, 6 insertions(+), 2 deletions(-)

commit a5201060f0f9bfaa86338711e0beaeb0b5660482
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Nov 10 15:35:30 2011 -0800

    Release version 0.6.5

 backends/eds/lib/edsf-persona.vala |  4 ++--
 configure.ac			    | 10 +++++-----
 folks/abstract-field-details.vala  |  8 ++++----
 folks/note-details.vala	    |  2 +-
 folks/postal-address-details.vala  |  2 +-
 folks/role-details.vala	    |  2 +-
 6 files changed, 14 insertions(+), 14 deletions(-)

commit 26ec5da44de6fbde5f168eaa04a2bfb5c9067043
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Nov 10 14:51:58 2011 -0800

    Fix comment syntax to unbreak documentation generation.

 folks/abstract-field-details.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2e45c0e8a06a72ad25b87b8b58a7dfeb29263d20
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Sep 21 20:37:30 2011 +0100

    telepathy: Fix finalisation of Tpf.Logger if it hasn't been prepared

    Closes: bgo#659585

 NEWS					| 2 ++
 backends/telepathy/lib/tpf-logger.vala | 6 +++++-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 0719b657cacd96edfc2a7159c3228b5fc3e7969f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Nov 3 14:05:45 2011 -0700

    Add AbstractFieldDetails.value_type.

    This allows generic handling of collections of derived objects of
    mixed concrete classes.

    Helps: bgo#663798 - Add AbstractFieldDetails.value_type

 NEWS					 |  2 ++
 folks/abstract-field-details.vala	 | 14 +++++++++++
 tests/folks/abstract-field-details.vala | 44
 +++++++++++++++++++++++++++++++++
 3 files changed, 60 insertions(+)

commit a36c377652ea2e71319ef2fede2a4d47a6251806
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	Thu Nov 10 21:26:56 2011 +0100

    Updated Slovenian translation

 po/sl.po | 106
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 55 insertions(+), 51 deletions(-)

commit 7539d6182295bfcaff921a4050a04980d109954c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Nov 9 16:34:22 2011 -0800

    Properly serialize AFD values for the Tp cache.

    We were previously writing serialized Telepathy AbstractFieldDetails
    values over each other in the final array, which was generally bad
    and specifically crashed Gnome Shell.

    This affects AFD-derived structures: phone numbers, email addresses,
    and URLs.

    Closes: bgo#662314 - Gnome-shell restarts if I change my user
    status to
    disconnected/unavailable

 NEWS						     | 2 ++
 backends/telepathy/lib/tpf-persona-store-cache.vala | 4 ++--
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 7abd82627d2f0f089cab8a399cfcff4698ef8b35
Author: Marek Černocký <marek@manet.cz>
Date:	Mon Oct 31 00:29:03 2011 +0100

    Updated Czech translation

 po/cs.po | 169
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 91 insertions(+), 78 deletions(-)

commit 6b72179a47c6d6ae647897c46743d6739175c912
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	Mon Oct 31 00:04:31 2011 +0100

    Updated Spanish translation

 po/es.po | 131
 ++++++++++++++++++++++++++++++---------------------------------
 1 file changed, 62 insertions(+), 69 deletions(-)

commit b15f6e0efb4b0191e8f516609e11369afce08b3c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 26 17:30:37 2011 -0700

    Generate the same C code whether the eds backend is enabled or not.

    Previously, the configure options used would alter the release
    tarball.

    This would cause problems for anyone building from the shipped C files
    (specifically, if they also disabled the eds backend, as the Debian
    packagers did).

    Closes: bgo#662274 - Failed to link personas: Can't link personas with
    no primary store.

 NEWS				  |  2 ++
 folks/individual-aggregator.vala | 17 ++++++++++-------
 2 files changed, 12 insertions(+), 7 deletions(-)

commit 7e20483ebc830438fc5d377e90e9017e4befead2
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 27 16:44:18 2011 -0700

    Warn if the primary store is not found.

    This includes steps for the user to fix the problem.

    Helps: bgo#662274 - Failed to link personas: Can't link personas with
    no primary store.

 folks/individual-aggregator.vala | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit f48cf529d06ced6bcb2b597ce1ff57602f886d38
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 28 08:08:54 2011 -0700

    Properly set primary stores for tests to exactly what's used.

    Helps: bgo#662274 - Failed to link personas: Can't link personas with
    no primary store.

 tests/eds/add-contacts-stress-test.vala | 7 +++++--
 tests/eds/add-persona.vala		 | 7 +++++--
 tests/eds/avatar-details.vala		 | 7 +++++--
 tests/eds/email-details.vala		 | 7 +++++--
 tests/eds/im-details.vala		 | 7 +++++--
 tests/eds/individual-retrieval.vala	 | 7 +++++--
 tests/eds/name-details.vala		 | 7 +++++--
 tests/eds/phone-details.vala		 | 7 +++++--
 tests/eds/postal-address-details.vala	 | 7 +++++--
 tests/eds/remove-persona.vala		 | 7 +++++--
 tests/eds/removing-contacts.vala	 | 7 +++++--
 tests/eds/set-avatar.vala		 | 7 +++++--
 tests/eds/set-birthday.vala		 | 7 +++++--
 tests/eds/set-emails.vala		 | 7 +++++--
 tests/eds/set-gender.vala		 | 7 +++++--
 tests/eds/set-im-addresses.vala	 | 7 +++++--
 tests/eds/set-is-favourite.vala	 | 7 +++++--
 tests/eds/set-names.vala		 | 7 +++++--
 tests/eds/set-notes.vala		 | 7 +++++--
 tests/eds/set-phones.vala		 | 7 +++++--
 tests/eds/set-postal-addresses.vala	 | 7 +++++--
 tests/eds/set-properties-race.vala	 | 7 +++++--
 tests/eds/set-roles.vala		 | 7 +++++--
 tests/eds/set-structured-name.vala	 | 7 +++++--
 tests/eds/set-urls.vala		 | 7 +++++--
 tests/eds/store-removed.vala		 | 7 +++++--
 tests/eds/updating-contacts.vala	 | 7 +++++--
 tests/key-file/Makefile.am		 | 1 +
 tests/libsocialweb/Makefile.am		 | 2 +-
 tests/libsocialweb/aggregation.vala	 | 3 +++
 tests/telepathy/Makefile.am		 | 2 +-
 31 files changed, 141 insertions(+), 56 deletions(-)

commit 1432a353880ad1d1784b20f5edb90fc6179558cd
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 26 17:28:56 2011 -0700

    Expose the details of which backends are enabled to libfolks.

    Helps: bgo#662274 - Failed to link personas: Can't link personas with
    no primary store.

 configure.ac	       | 20 +++++++++++++++++++-
 folks/build-conf.vapi |  9 +++++++++
 2 files changed, 28 insertions(+), 1 deletion(-)

commit fc5d0617564c77ed7e48c9a40b05930bb05aff59
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Oct 26 16:16:23 2011 +0100

    e-d-s: set content type on ContactPhotos

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=662616

 NEWS					  | 1 +
 backends/eds/lib/edsf-persona-store.vala | 9 +++++++++
 2 files changed, 10 insertions(+)

commit aa50fcfa896f9102411f1f5b6772e17129f1decc
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Oct 26 15:26:07 2011 +0100

    e-d-s: load icon regardless of the mime type being available

    Also, allow Edsf.MemoryIcon to be instantiated with a null
    image type. The notion of the image type not being available
    was half there (some comments mentioned the possibility), but
    it wasn't contemplated in the constructor and in the instance
    variable.

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=662770

 NEWS				    | 1 +
 backends/eds/lib/edsf-persona.vala | 2 +-
 backends/eds/lib/memory-icon.vala  | 6 +++---
 3 files changed, 5 insertions(+), 4 deletions(-)

commit 56d0a5512cb3163345a1d7fb7dc8a36d118fa43c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 26 12:15:21 2011 -0700

    docs: Add description for Folks.Utils class.

 folks/utils.vala | 5 +++++
 1 file changed, 5 insertions(+)

commit 3dfc0d6c6a2e46f35948ce24bc0a3b60c9fd9ffb
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 26 11:36:53 2011 -0700

    docs: Add @since for MaybeBool.

 folks/types.vala | 2 ++
 1 file changed, 2 insertions(+)

commit e79fb69cf1602b31790d4749993ab2edd1fe05fa
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 26 11:35:06 2011 -0700

    docs: Add a description block for the new types.

    Note, however, that this is obscured in the final docs due to
    bgo#662793 (valadoc ignores comment blocks on namespaces).

 folks/types.vala | 5 +++++
 1 file changed, 5 insertions(+)

commit 4adc85ac3a4c6bcbf6907fee64147eae868c7c46
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 26 11:23:25 2011 -0700

    docs: Don't build empty docs for libfolks-internal.

 docs/Makefile.am | 13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit 091231c3131c3c65755e4e9152c9d1f85ee981c1
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	Wed Oct 26 20:19:02 2011 +0200

    Updated Polish translation

 po/pl.po | 104
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 54 insertions(+), 50 deletions(-)

commit 880d9c53c693029a494a259b28a5744b328210ef
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 26 09:58:53 2011 -0700

    docs: Work around a valadoc comment-parsing issue.

 folks/abstract-field-details.vala | 6 ++++++
 1 file changed, 6 insertions(+)

commit 66a18236c6a0c94c12f86a649633d665aca3fdbc
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Tue Oct 25 17:18:41 2011 +0100

    e-d-s: test setting is-favourite property

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=660908

 tests/eds/Makefile.am		 |   6 ++
 tests/eds/set-is-favourite.vala | 160
 ++++++++++++++++++++++++++++++++++++++++
 2 files changed, 166 insertions(+)

commit d7ecae8905572e7cc7f9a3f90e3e411ec15552ac
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Tue Oct 25 17:09:01 2011 +0100

    e-d-s: extend add-persona test to check for is-favourite

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=660908

 tests/eds/add-persona.vala | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 35e425903dff408fc4da4fa6577cb6f8ae4caf17
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Tue Oct 25 16:49:14 2011 +0100

    e-d-s: add favourites support to EDS backend

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=660908

 NEWS					  |  2 ++
 backends/eds/lib/edsf-persona-store.vala | 44 ++++++++++++++++++++++++--
 backends/eds/lib/edsf-persona.vala	  | 53
 ++++++++++++++++++++++++++++++++
 3 files changed, 97 insertions(+), 2 deletions(-)

commit c832a3a0c787c534a792a8ffb511b72fdc51dc3a
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Oct 24 20:20:00 2011 +0100

    core: Add extra debug for primary store configuration

 folks/individual-aggregator.vala | 27 ++++++++++++++++++++++++++-
 1 file changed, 26 insertions(+), 1 deletion(-)

commit aefe543c31a3802b4c5c033b2b45a3744e7dc151
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 21 16:05:30 2011 -0700

    Simplify NoteFieldDetails.equal()

 folks/note-details.vala | 9 +--------
 1 file changed, 1 insertion(+), 8 deletions(-)

commit 49110792cc3de8d7aa7dbab9d7453d26cf3b4f60
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 21 16:05:16 2011 -0700

    Simplify PhoneFieldDetails.equal()

 folks/phone-details.vala | 9 +--------
 1 file changed, 1 insertion(+), 8 deletions(-)

commit f9af4cbcb3a378bc375f406ff0336f293bd2bf92
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 21 15:54:07 2011 -0700

    Check the GLib.Type of both elements for AbstractFieldDetails.equal()

    This simplifies the code for overridden equal() functions.

 folks/abstract-field-details.vala | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 8b991be5f2ab4fd8d81956c973c656479f899144
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 21 09:37:26 2011 -0700

    Add AbstractFieldDetails.values_equal().

    This function is lets subclasses to provide "smart" value comparisons
    without needing to factor in the parameters. This is particularly
    important for uses like PotententialMatches.

    This clarifies the roles of AbstractFieldDetails.equal() and
    parameters_equal() (both in form and documentation).

    Closes: bgo#662433 - AbstractFieldDetails.equal() is ambiguous about
    checking parameters.

 NEWS				   |  3 ++
 folks/abstract-field-details.vala | 78
 ++++++++++++++++++++++++++++++---------
 folks/phone-details.vala	   | 12 ++++++
 folks/potential-match.vala	   |  2 +-
 4 files changed, 77 insertions(+), 18 deletions(-)

commit 144583fd56fcbb9325e54ee6ded5d5005a3d3b62
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 21 08:17:41 2011 -0700

    Migrate PhoneDetails to using AbstractFieldDetails.id

    Helps: bgo#662433 - AbstractFieldDetails.equal() is ambiguous about
    checking parameters.

 backends/tracker/lib/trf-persona.vala |  9 ++++-----
 folks/phone-details.vala	       | 10 ++++++++++
 2 files changed, 14 insertions(+), 5 deletions(-)

commit ba233588b1208c761e4512054626f6ddb6db8647
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 20 10:24:14 2011 -0700

    Migrate RoleDetails to AbstractFieldDetails.id

    Deprecate Role.uid in favor of AbstractFieldDetails.id

    Helps: bgo#662433 - AbstractFieldDetails.equal() is ambiguous about
    checking parameters.

 NEWS					   |  1 +
 backends/tracker/lib/trf-persona.vala	   |  8 +++++---
 folks/role-details.vala		   | 29
 +++++++++++++++++++++++++++++
 tests/tracker/role-details-interface.vala | 18 ++++++++++++++++++
 4 files changed, 53 insertions(+), 3 deletions(-)

commit 99e18f7bc15a793768b8a32b4bdb769a2c68ca04
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 20 17:11:45 2011 -0700

    Guarantee all Role members are non-null.

    Helps: bgo#662433 - AbstractFieldDetails.equal() is ambiguous about
    checking parameters.

 folks/role-details.vala | 42 +++++++++++++++++++++++-------------------
 1 file changed, 23 insertions(+), 19 deletions(-)

commit 35e99dc1a1d2f1f5d60e14b321ba8ed10b829a1b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 20 10:23:51 2011 -0700

    Migrate NoteDetails to AbstractFieldDetails.id

    Deprecate NoteFieldDetails.uid in favor of AbstractFieldDetails.id

    NoteFieldDetails.equal() now ignores NoteFieldDetails.uid

    Helps: bgo#662433 - AbstractFieldDetails.equal() is ambiguous about
    checking parameters.

 NEWS					   |  2 ++
 folks/note-details.vala		   | 27
 +++++++++++++++++++--------
 tests/tracker/note-details-interface.vala | 20 ++++++++++++++++++--
 3 files changed, 39 insertions(+), 10 deletions(-)

commit 25a17b0ca731ce8f9140e2c09ff60003cc5f1b9e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 21 10:11:55 2011 -0700

    Guarantee all NoteFieldDetails members are non-null.

    Helps: bgo#662433 - AbstractFieldDetails.equal() is ambiguous about
    checking parameters.

 folks/note-details.vala | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit ece9fa3f9baf1d0e0bdc5f68287d1aefa7ae5ccc
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 20 10:24:40 2011 -0700

    Use the most-parent equal() function when comparing postal addresses.

    Helps: bgo#662433 - AbstractFieldDetails.equal() is ambiguous about
    checking parameters.

 tests/tracker/set-postal-addresses.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cb4f43fc84f359589467543136e43302950959d0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 20 10:23:08 2011 -0700

    Migrate PostalAddressDetails to using AbstractFieldDetails.id

    Deprecate PostalAddress.uid in favor of AbstractFieldDetails.id

    PostalAddress.equal() now ignores PostalAddress.uid

    Helps: bgo#662433 - AbstractFieldDetails.equal() is ambiguous about
    checking parameters.

 NEWS						    |  4 +++
 backends/tracker/lib/trf-persona.vala		    |  5 ++--
 folks/postal-address-details.vala		    | 33
 ++++++++++++++++++++--
 tests/eds/add-persona.vala			    |  2 +-
 tests/eds/postal-address-details.vala		    |  2 +-
 tests/eds/set-postal-addresses.vala		    |  2 +-
 tests/eds/set-properties-race.vala		    |  2 +-
 tests/tracker/add-persona.vala			    |  4 +--
 .../tracker/postal-address-details-interface.vala  | 19 ++++++++++++-
 tests/tracker/set-postal-addresses.vala	    |  2 +-
 10 files changed, 63 insertions(+), 12 deletions(-)

commit 5de6a7d202ad70d9a9f22e031c01267cbd8374b3
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 20 10:19:28 2011 -0700

    Add AbstractFieldDetails.id to identify instances of details.

    This will unify the way we handle IDs for the various classes that
    derive from AbstractFieldDetails for eccentric data stores (I'm
    looking at you, Tracker).

    Helps: bgo#662433 - AbstractFieldDetails.equal() is ambiguous about
    checking parameters.

 NEWS				   |  3 +++
 folks/abstract-field-details.vala | 19 +++++++++++++++++++
 2 files changed, 22 insertions(+)

commit ff098f0adbfbfc91545b07ae632833929c897d9c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 19 22:42:51 2011 -0700

    Only add non-empty Role components to Edsf.Personas.

    The EDS test "set-roles" was failing because some empty parameters
    were
    getting added to Edsf.Personas, thus failing parameter equality
    checks.

    Helps: bgo#662433 - AbstractFieldDetails.equal() is ambiguous about
    checking parameters.

 backends/eds/lib/edsf-persona.vala | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 9bb9f634a128052356e320c903a172a9cbe837c8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 19 22:50:15 2011 -0700

    Properly set the parameters for the eds/set-phones test

    Helps: bgo#662433 - AbstractFieldDetails.equal() is ambiguous about
    checking parameters.

 tests/eds/set-phones.vala | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit d40b76da12299674e178ed72f5a654ba3f253ab1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 19 19:45:29 2011 -0700

    Fix eds test add-persona for param matching

    Helps: bgo#662433 - AbstractFieldDetails.equal() is ambiguous about
    checking parameters.

 tests/eds/add-persona.vala | 27 ++++++++++++++++++++-------
 1 file changed, 20 insertions(+), 7 deletions(-)

commit 099063f11036158c55bd3f1bd613905099b5f0ed
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 19 19:30:33 2011 -0700

    Fix the params used for the postal-address-details eds test

    Helps: bgo#662433 - AbstractFieldDetails.equal() is ambiguous about
    checking parameters.

 tests/eds/postal-address-details.vala | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit e66fba36c1ef69674aca7b631debbc47928952b1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 19 14:18:23 2011 -0700

    Always include parameters in AFD-derived subclass equal() functions.

    Helps: bgo#662433 - AbstractFieldDetails.equal() is ambiguous about
    checking parameters.

 folks/abstract-field-details.vala | 19 +++++++++++++++++++
 folks/note-details.vala	   |  4 +++-
 folks/phone-details.vala	   |  4 +++-
 folks/postal-address-details.vala |  3 +++
 folks/role-details.vala	   |  4 +++-
 5 files changed, 31 insertions(+), 3 deletions(-)

commit 67bd5f4e8b8a1b59354b08b8945ed5201b8a3eb4
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 19 15:48:28 2011 -0700

    Factor out AFD parameter equality (for use in derived classes)

    Helps: bgo#662433 - AbstractFieldDetails.equal() is ambiguous about
    checking parameters.

 folks/abstract-field-details.vala | 5 +++++
 1 file changed, 5 insertions(+)

commit 8d86791dfb9595a1e220292fc6b20650e1f1d1b1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 19 14:23:41 2011 -0700

    Fix the signature of RoleFieldDetails.equal()

    Helps: bgo#662433 - AbstractFieldDetails.equal() is ambiguous about
    checking parameters.

 folks/role-details.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 544e02ff34ec5f40dc5dadabb2ebd16177bca67b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 19 15:30:40 2011 -0700

    Add test for RoleFieldDetails.

    Helps: bgo#662433 - AbstractFieldDetails.equal() is ambiguous about
    checking parameters.

 tests/folks/abstract-field-details.vala | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 91ea24e24ce8a8a135ccee3ef9355b0f997b0a72
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 20 10:13:35 2011 -0700

    Fix trivial spacing issues.

 tests/tracker/set-postal-addresses.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cf255636136aab4cd6673b2d963641607fe059c9
Author: Alexander Larsson <alexl@redhat.com>
Date:	Thu Oct 20 13:58:01 2011 +0200

    Correctly update email based im addresses during contact changes

    When we have already read a contact, but are updating it e.g. due
    to a property change there is a problem in
    Edsf.Persons._update_im_addressess(). Its looking at the existing
    personas im_addresses for already existing im addresses before adding
    new ones. However, they were already added there based on the email
    addresses last time, which means we don't add them now.

    The fix is simple, just look in new_im_addressess for existing
    im_addresses.

    https://bugzilla.gnome.org/show_bug.cgi?id=662285

 NEWS				    | 1 +
 backends/eds/lib/edsf-persona.vala | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 965b4b47aefe8aaa62b1f8a76d1b60e8f5c1c9a8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Oct 18 10:51:55 2011 -0700

    Post-release version bump.

 NEWS	      | 4 ++++
 configure.ac | 4 ++--
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 888c85f3ecff4e335534b2491a10526dcdfb55db
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Oct 18 10:20:56 2011 -0700

    Release version 0.6.4.1

 NEWS	      | 3 ++-
 configure.ac | 2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 231d45bf04fd44bfd5deba14fd8dd2edc3bae2b5
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Oct 18 10:00:35 2011 -0700

    Fix the SONAME.

    We accidentally decreased the SONAME with the 0.6.4 release, so this
    adjusts the various easy-to-understand/impossible-to-confuse libtool
    numbers.

    Closes: bgo#662095

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7eb855f7bd3949ade7bf6f8888e0be2165f6aeff
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Oct 18 10:04:30 2011 -0700

    Marginally clarify our comments for the lt numbers.

    This should help us avoid mangling them in the future.
    Don't quote me on that.

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit fbbe7e0a28d2c1f9ad721cb804a656c60ba2dd05
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Oct 17 21:43:40 2011 -0700

    Post-release version bump.

 NEWS	      | 4 ++++
 configure.ac | 4 ++--
 2 files changed, 6 insertions(+), 2 deletions(-)

commit b7f9f0cefc0d99eeaee01b1d193b60b73429d169
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Oct 17 11:54:47 2011 -0700

    Release version 0.6.4

 backends/telepathy/lib/tpf-persona.vala | 26 +++++++++++++-------------
 configure.ac				 | 10 +++++-----
 folks/persona-store.vala		 |  2 +-
 3 files changed, 19 insertions(+), 19 deletions(-)

commit 5afaf3d0ed7f0473ad449171ce48968f7a7caf9d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Oct 17 20:56:59 2011 -0700

    build: Fix explicit build dependency to un-break vala-free builds.

 folks/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cc7c10ae8f0f8b14f105765793e8b15f2c6fafb5
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Oct 17 17:24:47 2011 -0700

    build: Distribute test-dependent makefiles.

    This is mainly to enable running "make foo.gdb" from the source
    distribution.

 Makefile.am | 2 ++
 1 file changed, 2 insertions(+)

commit 67dc0b2e95ca289c46124799655dff8888fbc860
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Oct 17 16:45:34 2011 -0700

    build: Include internal folks library for valadoc parsing issues

    Obviously, these symbols shouldn't be documented externally, but since
    valadoc uses libvala internal, it requires the ability to resolve them
    (even if they won't be exposed in the finals docs).

 docs/Makefile.am | 3 +++
 1 file changed, 3 insertions(+)

commit c37db39e9f97774865ce263bfb8f31fd04700e20
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Oct 17 16:35:51 2011 -0700

    build: Require valac if libfolks-internal files are missing.

 configure.ac | 3 +++
 1 file changed, 3 insertions(+)

commit 774319311aa3a30927008246ed293abd73b6f924
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Oct 17 16:15:49 2011 -0700

    build: Fix the libfolks path to libfolks-internal.la

 folks/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0c0882871f103e38075d0fc6e0231ab97c49af37
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Oct 17 12:24:07 2011 -0700

    build: Fix test ObjectCache for internal API breaks.

 tests/folks/object-cache.vala | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 2a88b99a143a2d38253dfe92ce0140f33b453a7d
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Oct 16 09:24:57 2011 +0100

    telepathy: Add support for caching vCard parameters for contacts

    Add birthday, full name, e-mail address, phone number and URL support
    to the
    Telepathy object cache so that contacts’ vCards are correctly
    stored when
    the cache is updated.

    Closes: bgo#661475

 NEWS						    |	1 +
 .../telepathy/lib/tpf-persona-store-cache.vala     | 191
 ++++++++++++++++++++-
 backends/telepathy/lib/tpf-persona.vala	    |  34 +++-
 3 files changed, 222 insertions(+), 4 deletions(-)

commit 5691fe6dcb5f8dac0a031c52994abbb6e1ad7d4d
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Oct 16 09:23:29 2011 +0100

    core: Add support for object version migration in object cache files

    Add the ability for the variant type used in object cache files to
    vary with
    the cache file version, and for object cache implementations to
    claim they
    don't support given versions.

    Helps: bgo#661475

 .../telepathy/lib/tpf-persona-store-cache.vala     | 42
 ++++++++++++++--------
 folks/object-cache.vala			    | 40
 +++++++++++++++++----
 2 files changed, 62 insertions(+), 20 deletions(-)

commit a9b8ec19dfb6c9f61f9f85d6ebfcf117bdc575a4
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Oct 16 09:19:29 2011 +0100

    telepathy: Fix mixed-assignments-and-declarations warning in test
    library

 tests/lib/telepathy/contactlist/contact-list-manager.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 15b2e8002a5b10a4e985c3e630ca7b24585e6757
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	Mon Oct 17 15:14:48 2011 +0200

    Updated Slovenian translation

 po/sl.po | 149
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 79 insertions(+), 70 deletions(-)

commit d4d35327ddc9513b29406c0b9eea44aa7d4e4305
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	Fri Oct 14 15:27:13 2011 +0200

    Updated Polish translation

 po/pl.po | 155
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 84 insertions(+), 71 deletions(-)

commit a9674ec609ae8240df882f3681ca42bb326e310c
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	Fri Oct 14 13:59:36 2011 +0200

    Updated Spanish translation

 po/es.po | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 18a6c917d024c4484a96903daa40a28664a052c9
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	Fri Oct 14 13:58:44 2011 +0200

    Updated Spanish translation

 po/es.po | 210
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 109 insertions(+), 101 deletions(-)

commit 284c205428a3d827814433a7d5668524aeac734f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 13 10:48:51 2011 -0700

    Clarify in configure output that we require 0.6 <= gee <= 0.8.

    Closes: bgo#660937 - [regression] build failure: No package 'gee-1.0'
    found

 NEWS	      |  1 +
 configure.ac | 13 ++++++++++++-
 2 files changed, 13 insertions(+), 1 deletion(-)

commit 38b99d5cdbee676dfc382efda3f7dbfa0860f371
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Oct 11 14:46:34 2011 -0700

    Fix our birthday string parsing for Telepathy backend.

 backends/telepathy/lib/tpf-persona.vala    | 22 ++++++++++++++--------
 tests/telepathy/individual-properties.vala |  4 +---
 2 files changed, 15 insertions(+), 11 deletions(-)

commit 0436f69e0cf70e23ee447f3a30df256cddb1cf96
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Oct 10 10:54:58 2011 -0700

    Don't prepare the Telepathy Connection until it's guaranteed to exist.

 backends/telepathy/lib/tpf-persona-store.vala | 14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit a91dd88b08997bef53593fed7c40441c05580478
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Oct 10 11:07:01 2011 -0700

    Distinguish Telepathy errors with new UNSUPPORTED_ON_NON_USER

 NEWS					       | 1 +
 backends/telepathy/lib/tpf-persona-store.vala | 2 +-
 folks/persona-store.vala		       | 8 ++++++++
 3 files changed, 10 insertions(+), 1 deletion(-)

commit 4e44a1b104e6f7b929d16808d18d9667fc4c5368
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Sun Oct 9 19:11:07 2011 -0700

    Support Birthdays for the Telepathy backend.

 NEWS						    |  1 +
 backends/telepathy/lib/tpf-persona-store.vala	    | 20 +++++
 backends/telepathy/lib/tpf-persona.vala	    | 97
 ++++++++++++++++++++++
 tests/lib/telepathy/contactlist/conn.c		    |  7 ++
 .../telepathy/contactlist/contact-list-manager.c   |  5 ++
 tests/telepathy/individual-properties.vala	    | 33 ++++++++
 6 files changed, 163 insertions(+)

commit 3a3ddc16698519ee396eaf9b51c319f820e11009
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Sun Oct 9 16:39:52 2011 -0700

    Support UrlDetails for the Telepathy backend.

 NEWS						    |  1 +
 backends/telepathy/lib/tpf-persona.vala	    | 54
 +++++++++++++++++++++-
 tests/lib/telepathy/contactlist/conn.c		    |  7 +++
 .../telepathy/contactlist/contact-list-manager.c   |  5 ++
 tests/telepathy/individual-properties.vala	    | 37 +++++++++++++++
 5 files changed, 103 insertions(+), 1 deletion(-)

commit c3909745b8e3308cabe44bc0a57749ca30e0ccb8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 7 13:39:03 2011 -0700

    Support EmailDetails for the Telepathy backend.

 NEWS					    |  1 +
 backends/telepathy/lib/tpf-persona.vala    | 54
 ++++++++++++++++++++++++++++++
 tests/lib/telepathy/contactlist/conn.c     |  7 ++++
 tests/telepathy/individual-properties.vala | 41 +++++++++++++++++++++++
 4 files changed, 103 insertions(+)

commit c8f9b3ed9efb2256c5d9e87a27c807528e29139f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 7 11:26:30 2011 -0700

    Split utility functions into an internal library.

    This lets us avoid stuffing them into unrelated public libraries.

 backends/eds/lib/Makefile.am		  |  2 ++
 backends/eds/lib/edsf-persona-store.vala |  2 +-
 backends/eds/lib/edsf-persona.vala	  | 12 +++++-----
 backends/telepathy/lib/Makefile.am	  |  2 ++
 backends/telepathy/lib/tpf-persona.vala  |  5 ++--
 folks/Makefile.am			  | 41
 +++++++++++++++++++++++++++++++-
 folks/internal.vala			  | 38
 +++++++++++++++++++++++++++++
 folks/persona-store.vala		  | 14 -----------
 8 files changed, 91 insertions(+), 25 deletions(-)

commit 9ca70640c72073c82223b1f55486c0b7c1f0c92c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 6 15:46:22 2011 -0700

    Memoize the ContactInfo SupportedFields values.

 backends/telepathy/lib/tpf-persona-store.vala | 42 ++++++++++++++++++++
 backends/telepathy/lib/tpf-persona.vala       | 57
 +++++++++++----------------
 2 files changed, 65 insertions(+), 34 deletions(-)

commit ec64e78109a90f32703401aa14388a58b25620ca
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 6 11:37:59 2011 -0700

    Factor in server-side writeability of ContactInfo fields.

 backends/telepathy/lib/tpf-persona.vala    | 44
 ++++++++++++++++++++++++++++--
 tests/telepathy/individual-properties.vala | 40
 ++++++++++++++++++++++++++-
 2 files changed, 81 insertions(+), 3 deletions(-)

commit 978c4d71d2136ff08e0aac4aae422e0c85a023db
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 6 15:00:46 2011 -0700

    Include required Telepathy Connection ContactInfo features.

    These are required to look up the connection's
    ContactInfoFlags.Can_Set
    and SupportedFields. We need both to determine which ContactInfo
    fields
    are writeable (for Tpf.Persona.writeable_properties).

 backends/telepathy/lib/tpf-persona-store.vala | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit 6576e1df6211d7d04dc8a93f5539cb725d79ba6a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 6 09:57:57 2011 -0700

    Reorganize tp/individual-properties test.

 tests/telepathy/individual-properties.vala | 73
 +++++++++++++++---------------
 1 file changed, 36 insertions(+), 37 deletions(-)

commit 8520eba7a8a7f95fba72f097988ced0b6ab1a0c9
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 6 09:54:54 2011 -0700

    Add assertions about Telepathy writeable properties to our tests.

 tests/telepathy/individual-properties.vala | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit 1d5106a563efafb751a44ba2727195033edd05b5
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 5 15:08:15 2011 -0700

    Ensure that our test self contact has an identifier.

 tests/lib/telepathy/contactlist/contact-list-manager.c | 2 ++
 1 file changed, 2 insertions(+)

commit 3bc990722e040bd0c0ed24ae7d2f986e1c4791ae
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 5 14:40:58 2011 -0700

    Print contact info for Telepathy contacts in tests.

 .../telepathy/contactlist/contact-list-manager.c   | 40
 ++++++++++++++++++++++
 1 file changed, 40 insertions(+)

commit 0d22764d076f2eb0fd14629cf0191ed8d62c1b2f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Sep 30 10:54:15 2011 -0700

    Support writing extended info for Telepathy user contacts

    Helps: bgo#657602 - Telepathy backend fails to set Personas' phone
    numbers from ContactInfo

 backends/telepathy/lib/tpf-persona-store.vala	    | 104 ++++++++++++++
 backends/telepathy/lib/tpf-persona.vala	    | 158
 +++++++++++++++++++--
 tests/lib/telepathy/contactlist/conn.c		    |  30 ++++
 .../telepathy/contactlist/contact-list-manager.c   |  50 +++++++
 .../telepathy/contactlist/contact-list-manager.h   |	2 +
 tests/telepathy/individual-properties.vala	    | 138
 ++++++++++++++++++
 6 files changed, 472 insertions(+), 10 deletions(-)

commit 9000d07cfcc00dbbbc6e118fca34a19675756877
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Sep 29 14:44:35 2011 -0700

    Implement ContactInfo in the Telepathy test backend.

    Helps: bgo#657602 - Telepathy backend fails to set Personas' phone
    numbers from ContactInfo

 tests/lib/telepathy/contactlist/conn.c		    | 234
 ++++++++++++++++++++-
 tests/lib/telepathy/contactlist/conn.h		    |	1 +
 .../telepathy/contactlist/contact-list-manager.c   |  80 +++++++
 .../telepathy/contactlist/contact-list-manager.h   |	2 +
 tests/telepathy/individual-properties.vala	    |	4 +
 5 files changed, 318 insertions(+), 3 deletions(-)

commit 87e04d0b796c48fe3fdd2c0e46704ca2f02a97fb
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Mon Sep 19 18:24:34 2011 +0100

    Telepathy: implement PhoneDetails for Tpf.Persona

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=657602

 NEWS					       |  6 +++
 backends/telepathy/lib/tpf-persona-store.vala |  3 +-
 backends/telepathy/lib/tpf-persona.vala       | 77
 +++++++++++++++++++++++++++
 3 files changed, 85 insertions(+), 1 deletion(-)

commit 47568e3443cfbe5bdf14cfdb24ac7c4d009c0bae
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Mon Sep 19 18:11:56 2011 +0100

    Move SetComparator into folks/utils so it can be used by other
    backends

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=657602

 backends/eds/lib/Makefile.am		  |  1 -
 backends/eds/lib/edsf-persona-store.vala |  3 +--
 backends/eds/lib/edsf-persona.vala	  | 22 +++++++++---------
 backends/eds/lib/edsf-util.vala	  | 38
 --------------------------------
 folks/persona-store.vala		  | 14 ++++++++++++
 5 files changed, 25 insertions(+), 53 deletions(-)

commit c1c7950926f749a9a6953bc75030bb56197fcc1a
Author: Kristjan SCHMIDT <kristjan.schmidt@googlemail.com>
Date:	Sun Oct 2 10:26:37 2011 +0200

    Add Esperanto translation

 po/LINGUAS |	1 +
 po/eo.po   | 710
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 711 insertions(+)

commit 581727d08e36a9e96f2979f908c52e6fa3c35e95
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:	Sat Oct 1 16:11:32 2011 +0200

    Updated Spanish translation

 po/es.po | 520
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 279 insertions(+), 241 deletions(-)

commit b03527c46ea3463a88b2fd0f2deb2cecd9d2ea42
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Sep 27 13:47:50 2011 -0700

    Also update tracker-sparql versions for Tracker backend.

    Closes: bgo#660217 - folks-0.6.3.2 requires tracker-0.12, but
    configure.ac calls VALA_CHECK_PACKAGES([tracker-sparql-0.10])

 NEWS						      | 2 +-
 backends/tracker/Makefile.am			      | 2 +-
 backends/tracker/lib/Makefile.am		      | 4 ++--
 backends/tracker/lib/folks-tracker-uninstalled.pc.in | 2 +-
 backends/tracker/lib/folks-tracker.deps	      | 2 +-
 backends/tracker/lib/folks-tracker.pc.in	      | 2 +-
 tests/lib/tracker/Makefile.am			      | 2 +-
 tests/tracker/Makefile.am			      | 2 +-
 8 files changed, 9 insertions(+), 9 deletions(-)

commit 58d8b4789cf6d1118b9a2fae1bc46bd108f99d26
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Sep 27 08:12:17 2011 -0700

    Use consistent version checking for tracker-sparql-0.12

    Closes: bgo#660217 - folks-0.6.3.2 requires tracker-0.12, but
    configure.ac calls VALA_CHECK_PACKAGES([tracker-sparql-0.10])

 NEWS	      |  2 ++
 configure.ac | 12 +++++-------
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 7fc8f46360d9753f98b922846676f6af07e05e9a
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Tue Sep 27 13:47:16 2011 +0100

    core: add debug info about configured primary store

 folks/individual-aggregator.vala | 2 ++
 1 file changed, 2 insertions(+)

commit 4791c752d4e59bdcd3e5136d22fe130a5430f5e4
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Sep 26 17:57:32 2011 -0700

    Post-release version bump.

 NEWS	      | 9 +++++++--
 configure.ac | 4 ++--
 2 files changed, 9 insertions(+), 4 deletions(-)

commit 635fd886edb0f59e03c57d28a7328370173db549
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Sep 26 17:16:50 2011 -0700

    Release version 0.6.3.2

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 23c385766711e5294957d3b61ae6e5af1c7ec417
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Sep 26 16:23:51 2011 -0700

    Require Tracker 0.12

    Closes: bgo#660051 - require tracker 0.12

 NEWS				|  1 +
 configure.ac			| 13 +++----------
 tests/lib/tracker/Makefile.am	|  5 -----
 tests/lib/tracker/backend.vala |  2 --
 4 files changed, 4 insertions(+), 17 deletions(-)

commit e45a9630f5f81d4c706959f975300e26acb013ad
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Sep 26 15:07:05 2011 -0700

    Don't assume that "CONNECTED" Tp.Accounts have valid Tp.Connections

    There's an in-between state where the Tp.Account is "CONNECTED"
    but hasn't
    finished preparing its Tp.Connection (and thus, it's null).

    Closes: bgo#659041 — tpf-persona-store.vala: try to connect to a
    NULL object

 NEWS					       |  1 +
 backends/telepathy/lib/tpf-persona-store.vala | 31
 +++++++++++----------------
 2 files changed, 13 insertions(+), 19 deletions(-)

commit e2e49f92dab827ca283b458af59c09e9c4053345
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Sep 26 15:36:39 2011 -0700

    Ensure we prepare all TpAccounts before trying to use them.

    Helps: bgo#659041 - tpf-persona-store.vala: try to connect to a
    NULL object

 backends/telepathy/lib/tpf-persona-store.vala | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 506baeb119df6a2288754dbbb9ce48a802e0e82b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Sep 26 15:44:47 2011 -0700

    More-tightly scope variable in EDS backend.

 backends/eds/lib/edsf-persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cbf4373f265914e179d64457f74d209f28beffdd
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Sep 26 09:44:39 2011 -0700

    Actually fall back to eds:system in case there's no default address
    book.

    Closes: bgo#660140 - contacts_contact_find_persona_from_store:
    assertion `store
    != NULL' failed

 NEWS					  |  2 ++
 backends/eds/lib/edsf-persona-store.vala | 20 ++++++++++++++++++--
 2 files changed, 20 insertions(+), 2 deletions(-)

commit 2de42aa44293ec8a36872b4356b1a5f6ffad299e
Author: Christian Kirbach <Christian.Kirbach@googlemail.com>
Date:	Sat Sep 24 11:03:36 2011 +0200

    [l10n] Updated German translation

 po/de.po | 579
 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 285 insertions(+), 294 deletions(-)

commit c1e3178fee7761ed5e847db19fe7a5ac05908dcc
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Sep 23 15:55:39 2011 -0700

    Trivial NEWS fix.

 NEWS | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c9ea93abaf778b4892e3ec7f7a0a81b1a34053db
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Sep 23 15:54:52 2011 -0700

    Note in the NEWS that we fixed bgo#659732 before the 0.6.3.1 release.

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit 234e3d0a577bb521d31beae4ad9610beb8f1c1fc
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Sep 23 13:19:14 2011 -0700

    Post-release version bump.

 NEWS	      | 3 +++
 configure.ac | 4 ++--
 2 files changed, 5 insertions(+), 2 deletions(-)

commit fbf54a9ee1050e95be66b38f3d80a2f0b156d814
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Sep 22 09:45:05 2011 -0700

    Release version 0.6.3.1

 NEWS			  | 2 +-
 configure.ac		  | 8 ++++----
 folks/persona-store.vala | 4 ++--
 3 files changed, 7 insertions(+), 7 deletions(-)

commit ec8bd42ca0b4e6f23e79ef66bd72ddd844ac4059
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Sep 22 18:26:06 2011 -0700

    Make sure we source GConf files installed next to us.

 tests/data/gconf.path.in | 3 +++
 1 file changed, 3 insertions(+)

commit f7d6df3c2ee823196ce2900cc8d344e8e9d5f55c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Sep 22 17:00:41 2011 -0700

    Deal with lingering callbacks in the eds/set-avatar test.

    These can be called after we've set this._main_loop = null,
    so if we don't check it first, we'll hit warnings (which get
    treated as errors).

    This isn't an ideal solution, but there doesn't seem to be a
    great way to avoid the handlers from firing after we no
    longer care (we need something like thaw/freeze_notify(),
    except for general signals, not just notify).

 tests/eds/set-avatar.vala | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 532c8cfff019d7fe5bd0c31babe7c93543c37aa5
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Sep 22 10:37:37 2011 -0700

    Serialize checks for completion in EDS test.

    We were interleaving checks which resulted in inconsistent behavior.

 tests/eds/link-personas-diff-stores.vala | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 5b0711a6f6b3a4c3ba003dddc0c6a2a27542ad98
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Sep 22 10:30:15 2011 -0700

    Exit EDS test early in case multiple signal emissions are in-flight.

    This fixes a race between the mainloop being nullified and a dependent
    signal handler calling quit() again (no idea how the signals were
    getting issued and handled after the initial quit() though).

 tests/eds/link-personas-diff-stores.vala | 4 ++++
 1 file changed, 4 insertions(+)

commit 3b5f532c3975fb96a725f10d6cbf0b03b61f95fb
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 21 23:05:42 2011 +0100

    eds: split up link-personas test and cut relative URI dependency

    Though some code might be duplicated, it's healthy to split tests
    into different executables to assure our clean-up code (wiping out
    GConf entries, shutting down our own session Bus, etc) runs between
    tests.

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=659732

 tests/eds/Makefile.am			  |   6 +
 tests/eds/link-personas-diff-stores.vala | 279
 +++++++++++++++++++++++++++++++
 tests/eds/link-personas.vala		  |  70 +++-----
 3 files changed, 310 insertions(+), 45 deletions(-)

commit 0ff740a9026592f723a6b219906a4823f2ec04fa
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 21 22:07:27 2011 +0100

    eds: rework tests so that they don't depend on relative URIs

    Previously, tests were build around the assumption that each
    Edsf.PersonaStore had an id == ESource.relative_uri. That
    stopped being true (because you'll get swallowed by a black
    hole in pwithnall's garden if you use relative URIs).

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=659732

 tests/eds/add-contacts-stress-test.vala | 3 ++-
 tests/eds/add-persona.vala		 | 3 ++-
 tests/eds/change-primary-store.vala	 | 6 ++++--
 tests/eds/remove-persona.vala		 | 4 +++-
 4 files changed, 11 insertions(+), 5 deletions(-)

commit 73647bc63e66c085bf0a1a7080df9734734c77b7
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 21 16:24:30 2011 +0100

    e-d-s: use UID instead of relative URI to track ESources

    Some e-d-s backends (i.e.: the Exchange one) might not have
    a relative URI so we can't rely on it as an address book
    identifier. So from now on we use the ESource's UID.

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=659732

 backends/eds/eds-backend.vala		  | 12 +++++-------
 backends/eds/lib/edsf-persona-store.vala |  9 +++------
 2 files changed, 8 insertions(+), 13 deletions(-)

commit 700c6523185c26fc36bf8c03b070041f5c1432bf
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 21 21:35:20 2011 +0100

    tpf: no need to use a lambda since callback exists

 backends/telepathy/tp-backend.vala | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

commit 2e81215dc900c0697d14f31805db06580dfc5a15
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 21 20:25:54 2011 +0100

    tpf: don't unprepare the backend if it isn't prepared

 backends/telepathy/tp-backend.vala | 3 +++
 1 file changed, 3 insertions(+)

commit c415b637e241c6b4e5b2f6f1cbeb93b2f44b3e27
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Sep 21 11:09:21 2011 -0700

    Clean up variables in Tpf test to match Edsf test.

 tests/telepathy/persona-store-capabilities.vala | 20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit d89bab174b6ef8db1ee07157827e12c64a9a2137
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Sep 21 11:07:37 2011 -0700

    Check for expected-missing capabilities in PersonaStore tests.

 tests/eds/persona-store-tests.vala		 | 14 ++++++++++++++
 tests/telepathy/persona-store-capabilities.vala |  2 ++
 2 files changed, 16 insertions(+)

commit 5145d0852ce4ae03a1f86be90cda9aff93eb4696
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Sep 21 09:49:02 2011 -0700

    Use PersonaStore.always_writeable_properties.

    This removes references to the deprecated
    PersonaStore.can_alias_personas and PersonaStore.can_group_personas

    Closes: bgo#659737 - tests fail due to usage of deprecated methods

 NEWS						 |  1 +
 tests/eds/persona-store-tests.vala		 | 30 +++++--------------
 tests/telepathy/persona-store-capabilities.vala | 40
 +++++++------------------
 3 files changed, 19 insertions(+), 52 deletions(-)

commit c5e2ce8c784018e5516e8578d1eb6c6bd086480b
Author: Colin Walters <walters@verbum.org>
Date:	Wed Sep 21 12:13:31 2011 -0400

    build: Fix regular expression to extract dlname

    The regex writer unintentially made a character range in ".-+".
    This was always wrong, but it actively fails when LANG=C.

    Closes: bgo#658002 - defective typelib

 NEWS		   | 1 +
 folks/Makefile.am | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 67f55ab19dc994559f224c3d006aed81789cde04
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Mon Sep 19 12:38:08 2011 +0100

    Deprecate PersonaStore.can-[alias|group]-personas

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=658332

 NEWS			  | 8 ++++++++
 folks/persona-store.vala | 4 ++++
 2 files changed, 12 insertions(+)

commit f0e8e262b16ecbe21ece35cea145998402784ded
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	Tue Sep 20 13:17:07 2011 +0200

    Updated Slovenian translation

 po/sl.po | 45 ++++++++++++---------------------------------
 1 file changed, 12 insertions(+), 33 deletions(-)

commit 70be095184d8a1f3e1a60bd422f3bc0656d29350
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	Tue Sep 20 13:07:06 2011 +0200

    Updated Slovenian translation

 po/sl.po | 390
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 205 insertions(+), 185 deletions(-)

commit 3864c3e4b18adca749b086bc2d6779d68537c774
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	Mon Sep 19 16:14:53 2011 +0200

    Updated Slovenian translation

 po/sl.po | 206
 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 100 insertions(+), 106 deletions(-)

commit f000c49110bb89fb69a6fced689de132d33c0909
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Mon Sep 19 12:09:24 2011 +0100

    Update NEWS file for next release

 NEWS | 3 +++
 1 file changed, 3 insertions(+)

commit 882f9dfb03a53145674172e1c825cc3b506b4eb4
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Sep 18 19:32:44 2011 +0100

    build: Post-release version bump

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f541e7e3d7c5906429139e58ec8bdc8340b32d64
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Sep 18 19:30:23 2011 +0100

    build: Release version 0.6.3

 NEWS				   |  5 +++++
 configure.ac			   | 12 ++++++------
 folks/abstract-field-details.vala |  8 ++++----
 folks/individual-aggregator.vala  |  2 +-
 folks/individual.vala		   |  2 +-
 folks/persona-store.vala	   |  6 +++---
 folks/url-details.vala		   |  8 ++++----
 7 files changed, 24 insertions(+), 19 deletions(-)

commit 684956de8220262d853280e6229e8b09b5709bac
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Sep 18 19:01:31 2011 +0100

    url-details: s/HOMEPAGE/HOME_PAGE/

    Quick, before this gets released and frozen!

 NEWS					     |	2 +-
 backends/eds/lib/edsf-persona.vala	     |	2 +-
 backends/tracker/lib/trf-persona-store.vala |	4 ++--
 backends/tracker/lib/trf-persona.vala	     |	2 +-
 folks/url-details.vala			     |	2 +-
 tests/eds/set-urls.vala		     |	2 +-
 tests/tracker/set-urls.vala		     | 12 ++++++------
 7 files changed, 13 insertions(+), 13 deletions(-)

commit d1bfbfc0775a3b91515de3e31095df3f7def1e08
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Sep 18 18:24:50 2011 +0100

    eds: Fix potential false matches in _is_in_source_list()

    It's possible for the relative URIs of two ESources to be equal
    (though it's
    unlikely). Consequently, we need to compare by UID as well.

 backends/eds/lib/edsf-persona-store.vala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 393faf239d2486f5be2b611ddf875f1c72378666
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Fri Sep 16 23:34:39 2011 +0100

    Bug 653623 — Would like a set of standard "type" parameters for
    UrlDetails

    Add some consts for TYPE and some common values for it for
    UrlFieldDetails.

    Closes: bgo#653623

 NEWS					     |	5 +++
 backends/eds/lib/edsf-persona-store.vala    | 70
 +++++++++++++----------------
 backends/eds/lib/edsf-persona.vala	     | 36 +++++++++++++--
 backends/tracker/lib/trf-persona-store.vala | 19 +++++---
 backends/tracker/lib/trf-persona.vala	     | 24 +++++++---
 folks/abstract-field-details.vala	     | 44 +++++++++++++++++-
 folks/url-details.vala			     | 37 +++++++++++++++
 tests/eds/add-persona.vala		     |	9 ++--
 tests/eds/email-details.vala		     |	4 +-
 tests/eds/phone-details.vala		     |	9 ++--
 tests/eds/postal-address-details.vala	     |	5 ++-
 tests/eds/set-emails.vala		     |	3 +-
 tests/eds/set-phones.vala		     |	3 +-
 tests/eds/set-postal-addresses.vala	     |	6 ++-
 tests/eds/set-properties-race.vala	     |	6 ++-
 tests/eds/set-urls.vala		     |	4 +-
 tests/tracker/set-urls.vala		     | 45 +++++++++++--------
 17 files changed, 233 insertions(+), 96 deletions(-)

commit 0500ba5dd10a90ff662bf811113934ebae40233f
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Sep 18 16:56:23 2011 +0100

    individual: Prefer set properties over unset ones

    I can't believe I didn't notice/think of this when I first wrote
    this code.
    I think my licence to write software should be revoked.

 folks/individual.vala | 117
 +++++++++++++++++++++++++++++++-------------------
 1 file changed, 72 insertions(+), 45 deletions(-)

commit fef5bcc4b0b6946e9d8e6a3cfd28823b9997b7d5
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Sep 18 14:09:12 2011 +0100

    Update British English translation

 po/en_GB.po | 395
 +++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 207 insertions(+), 188 deletions(-)

commit 674ae6308505993944482d456683f9b03058b185
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Sep 17 22:16:07 2011 +0100

    Bug 657738 — Favorite people are not always displayed

    Ensure the TpLogger connection in Tpf.PersonaStore is always
    prepared before
    we first attempt to use favourite contact data.

    This should fix the situation where IM connections are already
    prepared before
    folks is prepared (i.e. _connection_ready_cb() is called as soon
    as the
    Tpf.PersonaStore is prepared).

    Closes: bgo#657738

 NEWS					       |  1 +
 backends/telepathy/lib/tpf-persona-store.vala | 35
 +++++++++++++++------------
 2 files changed, 20 insertions(+), 16 deletions(-)

commit e04551e97ea73b738448eae9b47d9bf0897ce0cb
Author: Marek Černocký <marek@manet.cz>
Date:	Sat Sep 17 22:20:58 2011 +0200

    Updated Czech translation

 po/cs.po | 391
 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 193 insertions(+), 198 deletions(-)

commit 87fc114e43c7c4e3390ed9bb930033812bbd032b
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	Sat Sep 17 21:58:43 2011 +0200

    Updated Polish translation

 po/pl.po | 389
 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 197 insertions(+), 192 deletions(-)

commit 70d2a568374bc9c73b2bcd56009131a7a6abbc20
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Sep 17 12:40:22 2011 +0100

    i18n: Remove untranslatable identifiers from translatable strings

    Also remove some trailing newline characters which don't need
    translating.

 tools/import.vala | 29 +++++++++++++++++++----------
 1 file changed, 19 insertions(+), 10 deletions(-)

commit b4fc4d6f795eee429e1316866a50d0ac35775c77
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Sep 17 12:31:40 2011 +0100

    i18n: Fix a few en_GB-isms in C locale strings

 folks/favourite-details.vala | 2 +-
 tools/import-pidgin.vala     | 2 +-
 tools/import.vala	      | 5 +++--
 3 files changed, 5 insertions(+), 4 deletions(-)

commit a07b8e0ed7d259455b35ff7f4cb819696cf8fa49
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Sep 17 12:27:10 2011 +0100

    Bug 658161 — Consistently use “contact” in translatable strings

    Use “contact” and “Telepathy contact” where appropriate
    instead of “persona”,
    to try and reduce the amount of technical vocabulary in the
    translatable
    strings.

    Closes: bgo#658161

 NEWS					       |  2 +
 backends/telepathy/lib/tpf-persona-store.vala | 76
 ++++++++++++++-------------
 tools/import-pidgin.vala		       |  6 +--
 tools/import.vala			       |  3 +-
 4 files changed, 46 insertions(+), 41 deletions(-)

commit a739c1d316a1a476b1e9783dc734cc4e04a4ef0b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Sep 17 20:36:43 2011 +0100

    Bug 646847 — Rename _update () in Trf.Persona

    …or just remove it entirely, since it was only called from one
    place.

    Closes: bgo#646847

 NEWS				       |  2 ++
 backends/tracker/lib/trf-persona.vala | 33
 +++++++++++++++------------------
 2 files changed, 17 insertions(+), 18 deletions(-)

commit 05f2f829ed790183948a13337c55c482f93d4ed8
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Sep 17 19:19:43 2011 +0100

    eds: Add gender as an always-writeable property

    This is because it uses a custom vCard attribute, so no EDS backend
    actually
    says it's supported. We assume that the backends will save these
    custom
    vCard attributes safely.

 backends/eds/lib/edsf-persona-store.vala | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 2030fbfb182af950c765779c31bfd723668a64f8
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Sep 17 18:58:40 2011 +0100

    Bug 658328 — Return PropertyError.NOT_WRITEABLE from Persona
    property setters

    Only the EDS backend was affected, and it's not been changed to
    check whether
    properties are writeable before attempting to set them.

    Closes: bgo#658328

 NEWS					  |  2 +
 backends/eds/lib/edsf-persona-store.vala | 90
 ++++++++++++++++++++++++++++++++
 2 files changed, 92 insertions(+)

commit f619fd7c1c30deef7401a427f69f98666a439dcc
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Sep 17 18:37:22 2011 +0100

    eds: Remove duplicate change checks from Edsf.Persona.change_avatar()

    Helps: bgo#658328

 backends/eds/lib/edsf-persona.vala | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

commit e8a7b128464d03c8357e32ef6dcc842023e139d7
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Sep 17 17:24:30 2011 +0100

    Bug 658531 — Sometimes avatar caching doesn't work

    Work around bug #659324 (in GIO) to ensure that we never close the
    same FD
    more than once when storing avatars to the cache.

    Closes: bgo#658531

 NEWS			 |  1 +
 folks/avatar-cache.vala | 20 ++++++++++++++------
 2 files changed, 15 insertions(+), 6 deletions(-)

commit 3150a055e00a9fccea4811dc672960cd1fad8e95
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Sep 17 17:23:19 2011 +0100

    eds: Re-use a GTimeZone instance for converting birthday timezones

    Every time a GTimeZone is created, /etc/localtime is opened. Reduce
    this
    overhead by sharing a single GTimeZone instance between all
    Edsf.Personas
    for all time.

    This makes our strace a little tidier.

 backends/eds/lib/edsf-persona.vala | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 3aea9d25edce43287b27d4c69154470dbcd34e88
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	Sat Sep 17 17:29:32 2011 +0200

    Updated Slovenian translation

 po/sl.po | 188
 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 95 insertions(+), 93 deletions(-)

commit 20463d1ae9ea433a37a8345ed9832b61ef5ed6ee
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Sep 17 12:06:15 2011 +0100

    Update British English translation

 po/en_GB.po | 169
 ++++++++++++++++++++++++++++++------------------------------
 1 file changed, 84 insertions(+), 85 deletions(-)

commit c6fdcc8948d1b6a12b2763cfd1597b962d94a7c6
Author: Marek Černocký <marek@manet.cz>
Date:	Sat Sep 17 00:07:53 2011 +0200

    Updated Czech translation

 po/cs.po | 174
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 90 insertions(+), 84 deletions(-)

commit a7907d2cb76ddade4664fab17479504de7e6f9fe
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Fri Sep 16 21:56:07 2011 +0100

    abstract-field-details: Minor documentation fix

 folks/abstract-field-details.vala | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 9ec53e830cf1ff12681b58f068a08cec6511dd8d
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Sep 1 19:29:06 2011 +0100

    e-d-s: test case for changing primary store

 tests/eds/Makefile.am		     |	 6 ++
 tests/eds/change-primary-store.vala | 144
 ++++++++++++++++++++++++++++++++++++
 2 files changed, 150 insertions(+)

commit b1f9c2df3c5d62184ac51a44195e44401db74fe8
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Sep 1 19:31:28 2011 +0100

    e-d-s: allow setting default address books in tests

 tests/lib/eds/backend.vala | 23 ++++++++++++++++++++---
 1 file changed, 20 insertions(+), 3 deletions(-)

commit 00ada566e82fef5ed87793b2de7c5cb6e2910ef2
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Sep 15 15:38:11 2011 +0100

    e-d-s: notify when an address book is configured as default

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=657141

 NEWS					  |  1 +
 backends/eds/lib/edsf-persona-store.vala | 21 +++++++++++++++++++++
 2 files changed, 22 insertions(+)

commit d797e8e101252ddd674ffdffab61d9409219a48f
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Sep 15 15:33:58 2011 +0100

    core: add Folks.PersonaStore.user-set-default property

    With this property we can tell if a Store (i.e.: an e-d-s address
    book) has been marked by the user as his default store (either from
    Evo or from GOA, etc).

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=657141

 NEWS				  |  1 +
 folks/individual-aggregator.vala | 28 ++++++++++++++++++++++++++++
 folks/persona-store.vala	  |  9 +++++++++
 3 files changed, 38 insertions(+)

commit 32c95ea8884b415d7835fd1fe147db195fc61f5f
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Sep 15 14:43:36 2011 +0100

    IndividualAggregator: improve naming for primary store related methods

    Renamed _set_primary_store () to _configure_primary_store ()
    and refactor
    the code that actually sets the primary store into _set_primary_store
    ().

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=657141

 folks/individual-aggregator.vala | 41
 +++++++++++++++++++++++++++++++++-------
 1 file changed, 34 insertions(+), 7 deletions(-)

commit 44f9a8316082e5f86ac96e5018f11713767ecb9d
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 14 20:48:47 2011 +0100

    Let each PersonaStore manage its trust-level

    Previously, the IndividualAggregator was in charge of
    downgrading and upgrading the trust-level of each
    PersonaStore. From now on, we let each Store manage its
    trust-level since it's the natural way to do it.

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=659075

 backends/eds/lib/edsf-persona-store.vala    | 32
 ++++++++++++++++++++++++++++-
 backends/tracker/lib/trf-persona-store.vala |	1 +
 folks/individual-aggregator.vala	     | 14 -------------
 3 files changed, 32 insertions(+), 15 deletions(-)

commit 7d4d0100b22159e10fe76c719bf4f38b24d35057
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Thu Sep 15 22:09:36 2011 +0100

    Bug 659128 — If a persona store goes away we don't remove its
    personas

    Handle removal of the address books backing Edsf.PersonaStores
    by notifying
    of the removal of all the personas in the store, then emitting
    PersonaStore.removed.

    Test included.

    Closes: bgo#659128

 NEWS					  |   1 +
 backends/eds/eds-backend.vala		  |  46 ++-----
 backends/eds/lib/edsf-persona-store.vala |  58 +++++++++
 tests/eds/Makefile.am			  |   6 +
 tests/eds/store-removed.vala		  | 204
 +++++++++++++++++++++++++++++++
 tests/lib/eds/backend.vala		  |   5 +
 6 files changed, 286 insertions(+), 34 deletions(-)

commit d0ab83aaccf91b32016649e4c512f37cc5285a08
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Sep 14 22:26:04 2011 +0100

    individual: Prefer data from personas with writeable properties

    As an addition to the fix for bgo#657783, if two personas come
    from stores
    which have equal is-primary-store values, we now prefer the persona
    which
    lists the given property as writeable. If both personas list (or
    don't list)
    the property as writeable, we fall back to the given ordering
    function as
    before.

    Closes: bgo#657783

 folks/individual.vala | 74
 ++++++++++++++++++++++++++++-----------------------
 1 file changed, 40 insertions(+), 34 deletions(-)

commit 859f6c7e17b4e800fb087b9e0302f8abfa0c36ee
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Fri Sep 16 14:59:09 2011 +0100

    tracker: configure primary store for tests via env var

    No need for GConf to set up primary store for tests, doing it
    via en env var is good enough.

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=647909

 tests/tracker/Makefile.am			|  3 ---
 tests/tracker/link-personas-via-local-ids.vala | 28
 ++-----------------------
 tests/tracker/link-personas.vala		| 29
 ++------------------------
 3 files changed, 4 insertions(+), 56 deletions(-)

commit 2c380b4823ae672f614fbdf53da671b536f362d3
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Fri Sep 16 14:30:12 2011 +0100

    e-d-s: configure primary store for link-personas test via env var

    For tests, it's much simpler to do it via an env variable than via
    GConf and we avoid ourselves a dependency.

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=647909

 tests/eds/Makefile.am	      |  3 ---
 tests/eds/link-personas.vala | 32 +++++---------------------------
 2 files changed, 5 insertions(+), 30 deletions(-)

commit 46aed2ba50c25c1cf26b3b605347e1fea3775fe0
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	Thu Sep 15 20:13:51 2011 +0200

    Updated Polish translation

 po/pl.po | 90
 ++++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 45 insertions(+), 45 deletions(-)

commit 8859fa3011eef3acc57e3b0b23c30c2119b987aa
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Sep 15 14:04:13 2011 +0100

    Folks.Individual: don't use is-writeable in change_avatar

    This is a follow-up for commit 96539acd, using
    PersonaStore.is_writeable
    is deprecated in favour of checking Persona.writeable_properties

 folks/individual.vala | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit b70c45f4dd39ddcdf6c3ef9559f37776d1e8edde
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Sep 14 23:54:25 2011 +0100

    build: Clean the .typelib file in clean rather than maintainer-clean

    It's built by `make` not the maintainer, so according to
    http://www.gnu.org/software/hello/manual/automake/Clean.html it
    should be
    cleaned by `make clean`.

    Also remove it from BUILT_SOURCES, since it doesn't belong there.

 folks/Makefile.am | 12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 4d6a9c1d071ddaba8c24558459e2315808eb9113
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Sep 14 15:34:23 2011 -0700

    Don't distribute the typelib file.

    Typelib files are architecture-specific, so they shouldn't be
    distributed.

    Closes: bgo#659095 - Don't distribute typelib file

 NEWS		   | 1 +
 folks/Makefile.am | 4 ++--
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 96539acdb6c96af478c27c522b951677f0f25bc3
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Tue Sep 13 17:48:17 2011 +0100

    Folks.Individual: use is-primary-store instead of is-writeable

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=658324

 folks/individual.vala | 29 ++++++++++++-----------------
 1 file changed, 12 insertions(+), 17 deletions(-)

commit adc4c5327afa80a9ad4255e85513edf609735fd6
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Tue Sep 13 17:35:07 2011 +0100

    IndividualAggregator: s/writeable_store/primary_store/g

    Renamed _writeable_store to _primary_store to augument clarity.
    Also, stop listening and setting is-writeable properties and
    work with is-primary-store properties.

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=658324

 NEWS				  |   3 +
 folks/backend-store.vala	  |   2 +
 folks/individual-aggregator.vala | 117
 ++++++++++++++++++++++-----------------
 3 files changed, 70 insertions(+), 52 deletions(-)

commit e857f5e159877aa47193f6dacb89367b7ac5aaf8
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Tue Sep 13 17:33:44 2011 +0100

    Folks.PersonaStore: add is-primary-store and deprecate is-writeable

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=658324

 NEWS			  |  2 ++
 folks/persona-store.vala | 10 ++++++++++
 2 files changed, 12 insertions(+)

commit 25e75ed385d2733bd0b6f7390dbd288ec7c058dd
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Sep 8 18:12:56 2011 +0100

    core: use always-writeable instead of is-writeable

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=658324

 folks/backend-store.vala | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 152ee3f06bd223c7ed9e9825543554031f490ddf
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Sep 8 17:21:10 2011 +0100

    core: deprecate FOLKS_WRITEABLE_STORE for FOLKS_PRIMARY_STORE

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=658323

 NEWS				  |  3 +++
 folks/individual-aggregator.vala | 17 ++++++++++++++---
 folks/persona-store.vala	  |  2 +-
 tests/eds/Makefile.am		  |  2 +-
 tests/folks/Makefile.am	  |  2 +-
 tests/libsocialweb/Makefile.am   |  2 +-
 tests/telepathy/Makefile.am	  |  2 +-
 tests/tracker/Makefile.am	  |  2 +-
 8 files changed, 23 insertions(+), 9 deletions(-)

commit a777291da82253c6191d50a0067e76d9e3d6e026
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 14 20:50:40 2011 +0100

    e-d-s: always open address books (regardless of it existing or not)

    This helps Gnome Contacts which needs to make sure that at least
    the system address book exists.

 backends/eds/lib/edsf-persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 419fbf6a4c4a4701f1520bac2ccc9269dded015b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Aug 22 23:54:08 2011 +0100

    Bug 657065 — Cache keeps around contacts from disabled accounts

    Add some extra conditions on loading and storing the Tpf.PersonaStore
    cache,
    so as to prevent loading it when the account is disabled or invalid,
    and to
    prevent storing it unnecessarily.

    This also adds some extra debug output to Tpf.PersonaStore's caching
    methods.

    Closes: bgo#657065

 NEWS					       |  1 +
 backends/telepathy/lib/tpf-persona-store.vala | 64
 +++++++++++++++++++--------
 2 files changed, 46 insertions(+), 19 deletions(-)

commit 554d96c18d4309b5e8169c68b8bb747502161a8e
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Sep 14 18:34:57 2011 +0100

    Bug 658002 — defective typelib

    Pass the libtool dlname for libfolks.so to g-ir-compiler rather than
    libfolks.la.

    Closes: bgo#658002

 NEWS		   | 1 +
 folks/Makefile.am | 7 ++++++-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 8050f1b17099d3fef90e27914271261c10817033
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	Wed Sep 14 15:41:20 2011 +0200

    Updated Slovenian translation

 po/sl.po | 205
 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 109 insertions(+), 96 deletions(-)

commit 61416d9ae0ff38927d7c7898a502d92e268d93f4
Author: Rodrigo Moya <rodrigo@gnome-db.org>
Date:	Tue Sep 13 12:17:37 2011 +0200

    Remove extra definition of BACKEND_EDS

 configure.ac | 2 --
 1 file changed, 2 deletions(-)

commit f25a44b93018dd64042a1c318b35d9b4a696124f
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Tue Sep 13 14:51:48 2011 +0100

    e-d-s: add test for auto linking via emails and IM addresses

 tests/eds/link-personas.vala | 90
 +++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 85 insertions(+), 5 deletions(-)

commit c8c7cbf2b006eafb3cccbe2bec601ac83d4cc505
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Tue Sep 13 12:44:08 2011 +0100

    e-d-s: assume certain e-mail addresseses are IM IDs too

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=657142

 NEWS				    |  2 +
 backends/eds/lib/edsf-persona.vala | 88
 ++++++++++++++++++++++++++++++++++++++
 2 files changed, 90 insertions(+)

commit 0c95227f2f6377c1a57efa94dbf00910366bef6f
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Sep 13 22:03:02 2011 +0100

    avatar-cache: Add some more debug output

 folks/avatar-cache.vala | 8 ++++++++
 1 file changed, 8 insertions(+)

commit ce738c83e07c809729063372707e029b2e00e7b9
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	Tue Sep 13 21:22:52 2011 +0200

    Updated Polish translation

 po/pl.po | 91
 ++++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 45 insertions(+), 46 deletions(-)

commit 0737c2d78c4041bb211bd005d28a6960babddb70
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Fri Aug 12 12:18:16 2011 +0200

    Bug 633781 — Allow to set avatar on individuals

    Make Individual.avatar writeable and write new avatars back to
    the personas
    from writeable persona stores in an individual.

    Closes: bgo#633781

 NEWS			   |   5 ++
 folks/individual.vala	   |  64 +++++++++++++++++++
 tests/eds/set-avatar.vala | 154
 +++++++++++++++++++++++++++++++++++++++++++++-
 3 files changed, 222 insertions(+), 1 deletion(-)

commit ac3994d108066822354916df0390b330d2d25b58
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Tue Sep 13 10:26:37 2011 +0100

    build: use AM_MAINTAINER_MODE([enable]) instead of AM_MAINTAINER_MODE

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=658894

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f5358a7a0920103f2943ea02298842d123c0f743
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Sep 12 21:55:04 2011 +0100

    Bug 658730 — ngettext (Plural forms) needed…

    Use ngettext() instead of gettext() for a plural string.

    Closes: bgo#658730

 NEWS			  |  2 ++
 tools/import-pidgin.vala | 10 ++++++----
 2 files changed, 8 insertions(+), 4 deletions(-)

commit e64e0d4e85f151d15a856b9fd5146aef933db648
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Sep 13 08:09:27 2011 +0100

    Bug 658874 — Typo?

    Fix a typo in a translatable string in the Tracker backend.

    Closes: bgo#658874

 NEWS					     |	1 +
 backends/tracker/lib/trf-persona-store.vala | 10 +++++-----
 2 files changed, 6 insertions(+), 5 deletions(-)

commit 27a630efb78d0bc55d7fe5e60ba425a307f8efef
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Sep 12 23:31:06 2011 +0100

    Bug 658331 — Ensure read-only PersonaStores have empty
    writeable-properties

    Ensure that Edsf.PersonaStore.always-writeable-properties is empty for
    EDS address books which are read-only. Similarly, ensure that
    Edsf.Persona.writeable-properties is also empty for such address books
    (which
    follows because it passes through the value of
    always-writeable-properties).

    No other backends need modifying for this, since no others have
    a concept
    of “read only” except libsocialweb, which already has empty
    writeable-properties properties.

    Closes: bgo#658331

 NEWS					  |  1 +
 backends/eds/lib/edsf-persona-store.vala | 11 ++++++++++-
 2 files changed, 11 insertions(+), 1 deletion(-)

commit 59c24d8c76cca004c686a177f2fb2d81da82437f
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Tue Sep 13 11:45:17 2011 +0100

    e-d-s: only emit notifications if properties have changed

    This is a follow-up for what was suggested in:

    https://bugzilla.gnome.org/show_bug.cgi?id=658411

    about dealing with updating properties and emitting notifications.

 backends/eds/lib/edsf-persona.vala | 84
 ++++++++++++++++++++++++--------------
 1 file changed, 53 insertions(+), 31 deletions(-)

commit 1f85f89051e63b05e271b418687c242a83e2f296
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Sep 12 23:09:10 2011 +0100

    Bug 658631 — crash at empathy startup

    In the case that a persona is removed and the individual containing
    that
    persona is replaced by a different non-null individual which doesn't
    contain
    that persona (because it's been removed), we need to set the persona's
    individual pointer to null rather than the replacement individual.

    This stops us tripping the assertion in the setter for
    Persona.individual.

    Closes: bgo#658631

 NEWS		       |  2 ++
 folks/individual.vala | 14 +++++++++++++-
 2 files changed, 15 insertions(+), 1 deletion(-)

commit 406bc1264d3f19c54ea0c929e93814d263a90cc1
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Sep 12 23:07:33 2011 +0100

    individual-aggregator: Add some more debug output

    It turns out to be really useful to see what's being emitted by
    IndividualAggregator.individuals-changed-detailed.

 folks/individual-aggregator.vala | 45
 +++++++++++++++++++++++++++++++++++++++-
 1 file changed, 44 insertions(+), 1 deletion(-)

commit 282768552795dca729a8ff2963666ba02c41c96d
Author: Daniel Nylander <po@danielnylander.se>
Date:	Mon Sep 12 20:26:31 2011 +0200

    Added Swedish translation

 po/LINGUAS |	1 +
 po/sv.po   | 713
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 714 insertions(+)

commit b3062675c88482972d13d05d93bce727f6d4232c
Author: Marek Černocký <marek@manet.cz>
Date:	Sun Sep 11 11:15:34 2011 +0200

    Czech translation

 po/cs.po | 732
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 732 insertions(+)

commit ec383a2a70f6ee1a40727b245fbab08b8934af5c
Author: Marek Černocký <marek@manet.cz>
Date:	Sun Sep 11 11:15:15 2011 +0200

    Added Czech language

 po/LINGUAS | 1 +
 1 file changed, 1 insertion(+)

commit 00c12b1dab0b830c524ecc73ddb46de84816bfcc
Author: Alexander Larsson <alexl@redhat.com>
Date:	Fri Sep 9 14:52:17 2011 +0200

    e-d-s: Make sure consecutive property changes work

    Don't send any notification due to property changes until we've
    done updating an entire persona, otherwise code that listens to
    such notifies will see the persona in an intermediate state, whic
    can cause problems. For instance, if such a callback tries to
    change a property it might not recieve change notification for it.

 backends/eds/lib/edsf-persona.vala | 4 ++++
 1 file changed, 4 insertions(+)

commit 5b99efd1c1f5db653b5e736864d6299b495ef884
Author: Alexander Larsson <alexl@redhat.com>
Date:	Fri Sep 9 10:25:37 2011 +0200

    e-d-s: Make sure we clear old attributes when setting im_addresses

    The previous code called e_contact_get_attributes() which returns
    a copy of the attributes, and tried to remove it with
    e_vcard_remove_attribute () which matches on pointer values, so
    it always failed.

 backends/eds/lib/edsf-persona-store.vala | 9 +--------
 1 file changed, 1 insertion(+), 8 deletions(-)

commit 690b45b20430cf677d61c2160aeac9ccd39225f2
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:	Thu Sep 8 22:26:56 2011 +0200

    Added Polish translation

 po/LINGUAS |	2 +-
 po/pl.po   | 753
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 754 insertions(+), 1 deletion(-)

commit 0a143df33838020c4584f22ffb07c1c15effd373
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Sep 8 19:21:21 2011 +0100

    Post-release version bump

 NEWS	      | 4 ++++
 configure.ac | 4 ++--
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 6cd7be7e268b9f3c49ff61e47513bed51f92f485
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Sep 8 18:51:29 2011 +0100

    Release version 0.6.2.1

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c7a9b899f66333e3512087f14aab22c881c801dd
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Sep 8 18:19:35 2011 +0100

    IndividualAggregator: copy the list of stores before looping over it

    Because a Backend's list of PersonaStores can change while we are
    iterating it, we do a copy before starting.

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=658580

 NEWS				  | 6 ++++--
 folks/individual-aggregator.vala | 7 +++++--
 2 files changed, 9 insertions(+), 4 deletions(-)

commit 9c40ff061e7737ffef0762c054fae43a7bf0e9c0
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Sep 8 10:53:15 2011 +0100

    NEWS: add new section for next release

 NEWS | 4 ++++
 1 file changed, 4 insertions(+)

commit a7d9075b4d9bd96cc6809129b0750275704c5ba2
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Sep 8 10:53:00 2011 +0100

    Post-release version bump

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit df7e6b1b78cb6b17c6f213630618c284dc3b5eb6
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Sep 8 09:44:16 2011 +0100

    Release version 0.6.2

 configure.ac | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit b28b1036688ae117bfb48cc1989de3458a3a2ef7
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Sep 8 09:21:04 2011 +0100

    Update @since tags

 backends/eds/eds-backend.vala			  |  2 +-
 backends/eds/lib/edsf-persona-store.vala	  |  4 +--
 backends/eds/lib/edsf-persona.vala		  | 38
 ++++++++++++------------
 backends/key-file/kf-backend.vala		  |  2 +-
 backends/key-file/kf-persona-store.vala	  |  4 +--
 backends/key-file/kf-persona.vala		  |  6 ++--
 backends/libsocialweb/lib/swf-persona-store.vala |  4 +--
 backends/libsocialweb/sw-backend.vala		  |  2 +-
 backends/telepathy/lib/tpf-persona-store.vala	  |  4 +--
 backends/telepathy/lib/tpf-persona.vala	  |  6 ++--
 backends/telepathy/tp-backend.vala		  |  2 +-
 backends/tracker/lib/trf-persona-store.vala	  |  4 +--
 backends/tracker/lib/trf-persona.vala		  | 32
 ++++++++++----------
 backends/tracker/tr-backend.vala		  |  2 +-
 folks/alias-details.vala			  |  2 +-
 folks/avatar-details.vala			  |  2 +-
 folks/backend.vala				  |  2 +-
 folks/birthday-details.vala			  |  4 +--
 folks/email-details.vala			  |  2 +-
 folks/favourite-details.vala			  |  2 +-
 folks/gender-details.vala			  |  2 +-
 folks/group-details.vala			  |  2 +-
 folks/im-details.vala				  |  2 +-
 folks/individual-aggregator.vala		  | 10 +++----
 folks/individual.vala				  | 10 +++----
 folks/local-id-details.vala			  |  2 +-
 folks/name-details.vala			  |  6 ++--
 folks/note-details.vala			  |  2 +-
 folks/persona-store.vala			  |  8 ++---
 folks/persona.vala				  |  8 ++---
 folks/phone-details.vala			  |  2 +-
 folks/postal-address-details.vala		  |  2 +-
 folks/role-details.vala			  |  2 +-
 folks/url-details.vala				  |  2 +-
 folks/web-service-details.vala			  |  2 +-
 35 files changed, 94 insertions(+), 94 deletions(-)

commit ef1822b4a44d1c22adffd5e3f6f6a264f74a0ea5
Author: Fran Dieguez <fran@openhost.es>
Date:	Thu Sep 8 04:01:17 2011 +0200

    Updated galician translations

 po/gl.po | 124
 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 67 insertions(+), 57 deletions(-)

commit adc28e2802496ffa2f00d035b3862bc9873ec1ac
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 7 23:10:38 2011 +0100

    Updated NEWS file

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit 6ba0b7484b83b019480ab8c6e1537cff9c2495a9
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 7 23:04:07 2011 +0100

    tracker: update link personas test

 tests/tracker/link-personas.vala | 13 -------------
 1 file changed, 13 deletions(-)

commit 53515f94ca402219d5de59f3393e749880974e32
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 7 23:03:32 2011 +0100

    tracker: update IM addresses updates test

 tests/tracker/imaddresses-updates.vala | 52
 ++++++++++++++--------------------
 1 file changed, 22 insertions(+), 30 deletions(-)

commit dec3da1c8db3fa39c39cd46cb328f461d8b95de4
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 7 23:02:28 2011 +0100

    tracker: update add persona tes

 tests/tracker/add-persona.vala | 8 --------
 1 file changed, 8 deletions(-)

commit 097f622cb21d2f6e1f8f706baab50141eb0fdfe6
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 7 23:01:59 2011 +0100

    tracker: update set-im-addresses test

    Because IM addresses are linkable property, a new Individual
    is created when they are modified.

 tests/tracker/set-im-addresses.vala | 52
 +++++++++++++++++++++----------------
 1 file changed, 29 insertions(+), 23 deletions(-)

commit d9d9a7ab754a5174fcde3ca94f9248f253d8bfed
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 7 23:01:19 2011 +0100

    e-d-s: update set-im-addresses test

    Because IM addresses are linkable property, a new Individual
    is created when they are modified.

 tests/eds/set-im-addresses.vala | 41
 +++++++++++++++++++----------------------
 1 file changed, 19 insertions(+), 22 deletions(-)

commit a2837fa5a392daa8d54d159a974cb317baf59feb
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 7 23:00:48 2011 +0100

    e-d-s: only emit notifications if linkable properties changed

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=658411

 NEWS				    |  2 ++
 backends/eds/lib/edsf-persona.vala | 46
 +++++++++++++++++++++++++++-----------
 2 files changed, 35 insertions(+), 13 deletions(-)

commit 525679227287ca21270c996762864be1f4962323
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 7 22:59:41 2011 +0100

    e-d-s: move Set comparison method into it's own class

    This refactoring is so we can reuse the method with other
    types.

 backends/eds/lib/Makefile.am		  |  1 +
 backends/eds/lib/edsf-persona-store.vala | 36
 ++----------------------------
 backends/eds/lib/edsf-persona.vala	  | 25 +++++++++++----------
 backends/eds/lib/edsf-util.vala	  | 38
 ++++++++++++++++++++++++++++++++
 4 files changed, 54 insertions(+), 46 deletions(-)

commit cd1fd7f6cdd9ba89b248eb6096d43f9d8a660af0
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Sep 6 22:22:52 2011 +0100

    Bug 656689 — Re-link personas on linkable properties being changed

    Listen for notifications of changes to the linkable properties
    of every
    persona in the IndividualAggregator. When we receive such a
    notification,
    relink that persona by artificially removing them from the aggregator
    and
    immediately re-adding them.

    Like many things in the IndividualAggregator, this is ugly — but
    it appears
    to work, and I can get my head around it.

    Closes: bgo#656689

 folks/individual-aggregator.vala | 45
 ++++++++++++++++++++++++++++++++++++++++
 1 file changed, 45 insertions(+)

commit 7b74199aeed817fb4b08ee45e427c161fa7d9088
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Sep 6 22:20:12 2011 +0100

    core: Fix individuals_changed_detailed mappings for unlinked
    individuals

    It turns out that we can do a post-processing phase on the mappings
    to be
    emitted by IndividualAggregator.individuals_changed_detailed and
    ensure that
    individuals who've been unlinked are represented by a mapping from
    themselves
    to the set of individuals replacing them, rather than a mapping from
    themselves to null, and null to the set of individuals replacing them.

    This probably isn't the most efficient way to fix the problem,
    but it works
    and I can just about understand it.

    Helps: bgo#656689, bgo#657282

 folks/individual-aggregator.vala | 27 +++++++++++++++++++++++++--
 1 file changed, 25 insertions(+), 2 deletions(-)

commit 55abd8380a639d7e475483fcd0121d7b6552d51c
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Sep 6 22:16:44 2011 +0100

    core: Be more thorough when removing individuals from the link map

    Since the values of personas' linkable properties could've changed
    since we
    added them to the link map, we have to be more thorough when removing
    individuals from the map. We therefore now remove them by examining
    all the
    values in the map, and removing every mapping to the individual we're
    interested in.

    Helps: bgo#656689

 folks/individual-aggregator.vala | 51
 ++++++++++++++++------------------------
 1 file changed, 20 insertions(+), 31 deletions(-)

commit fa1fb9f4ab151268fd2eee16a1afe7c2f87e5f42
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Sep 6 22:10:20 2011 +0100

    core: Add more debug output and validation to the IndividualAggregator

    Everyone loves debug output, and validating that we aren't leaving
    stale
    entries in the link map which will later cause whoever's looking into
    aggregator bugs to hide in a corner and cry.

    Helps: bgo#656689

 folks/individual-aggregator.vala | 29 +++++++++++++++++++++++++++--
 1 file changed, 27 insertions(+), 2 deletions(-)

commit 6ed7d51617cc9b2aa141497d7437c8b7247cbf40
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Sep 6 22:04:20 2011 +0100

    core: Clarify that Persona.linkable_properties doesn't change
    at runtime

    Helps: bgo#656689

 folks/persona.vala | 3 +++
 1 file changed, 3 insertions(+)

commit 150b7579f1069f561f2069c9efad864b9c87e2e9
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Sep 6 21:57:42 2011 +0100

    core: Ensure we always notify of new Individuals

    In the following situation, it was possible for
    IndividualAggregator.individuals_changed_detailed to not emit
    a notification
    that an individual was added:

    If two personas were added by a given store in the same emission of
    PersonaStore.personas_changed, the IA would create an Individual,
    i1, from
    the first and add a mapping (null → i1) to the change set. It
    would then
    process the second, destroying the first individual and creating a new
    Individual, i2, (correctly) containing both personas. In doing so,
    it would
    remove the mapping (null → i1) from the change set, but would
    incorrectly
    not add a mapping (null → i2) in its place.

    This situation can be extended to others where a single new
    Individual is
    formed from multiple new personas coming from a single emission of
    PersonaStore.personas_changed.

    Closes: bgo#657282 (again)

 folks/individual-aggregator.vala | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit b9f391ab8c4170772b27c81b0e1ce651ec37360d
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 7 15:52:27 2011 +0100

    e-d-s: kill gconfd-2 after running a test

    I thought we were properly cleaning up the GConf entries
    generated by each test run but it turns out that sometimes
    gconfd-2 exits /after/ we've supposedly nuked it's directory.
    So before cleaning up GConf's files we now kill gconfd-2
    to prevent it from sync-ing to disc afterwards.

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=658327

 tests/tools/with-session-bus-eds.sh | 7 +++++++
 1 file changed, 7 insertions(+)

commit 01595d5d8198dcc6b40606b12fc931764d4e47e3
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Sep 7 14:23:39 2011 -0700

    Bump required Vala version.

    This avoids breaking the build due to valac --fatal-warnings for our
    internal code.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c22db00640915ee9c31290542fe23e70de6e024e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Sep 7 14:17:53 2011 -0700

    Update for translatable strings in group-details

 po/POTFILES.in   | 1 +
 po/POTFILES.skip | 1 +
 2 files changed, 2 insertions(+)

commit 913528c050823bf079c5e5eceb21b0895cf96012
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Sep 7 11:37:12 2011 -0700

    Fix birthday calculation in eds tests.

    It's not nice to discriminate against people born outside of UTC.

 tests/eds/add-persona.vala  | 2 +-
 tests/eds/set-birthday.vala | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 7729cea0f4e9db17ea0de77c067430894c0a485b
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	Wed Sep 7 15:36:23 2011 +0200

    Updated Slovenian translation

 po/sl.po | 28 ++++++++++++++--------------
 1 file changed, 14 insertions(+), 14 deletions(-)

commit 00ef2222f0f93aa6999e549834243f9430ba5a97
Author: Bruce Cowan <bruce@bcowan.me.uk>
Date:	Wed Sep 7 13:47:10 2011 +0100

    Added British English translation

 po/LINGUAS  |	 1 +
 po/en_GB.po | 729
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 730 insertions(+)

commit 3032f1873a6a28ecf8d459d7e3502813d8d38a3c
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 7 12:42:31 2011 +0100

    e-d-s: remove invalid assertion in set-roles test case

 tests/eds/set-roles.vala | 3 ---
 1 file changed, 3 deletions(-)

commit 3959555f24f7696bcda9af7e265682997c1076d0
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 7 12:41:09 2011 +0100

    e-d-s: free resources properly between tests cases on link-persona
    test unit

 tests/eds/link-personas.vala | 21 ++++++++++++++-------
 1 file changed, 14 insertions(+), 7 deletions(-)

commit c4e1477efca0d19ab9a97949063542391eca8d81
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 7 12:32:08 2011 +0100

    e-d-s: eliminate another case of possible WebServiceFieldDetails
    with null value

 backends/eds/lib/edsf-persona.vala | 7 +++++++
 1 file changed, 7 insertions(+)

commit 9d28ee42ff7809698ae0ed35b74c2ae08882b404
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 7 11:55:08 2011 +0100

    e-d-s: don't instantiate WebServiceFieldDetails with null values

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=658327

 tests/eds/link-personas.vala | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 220f8658610ed29c4187ea8e7869a05bedb1b062
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Sep 7 11:23:34 2011 +0100

    libsocialweb: update bug link in lsw for quiescence support

 backends/libsocialweb/lib/swf-persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 00a31f63bcc266a53b2e5c6fa1df79cab4f8a664
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Sep 3 18:36:24 2011 +0100

    Bug 657783 — Prefer data from primary store when picking Individual
    values

    Use a consistent high-level order over personas in an individual
    to choose
    which one to use for the value of single-valued properties such
    as alias,
    avatar and gender.

    Closes: bgo#657783

 NEWS		       |   1 +
 folks/individual.vala | 573
 +++++++++++++++++++++++++++++---------------------
 2 files changed, 336 insertions(+), 238 deletions(-)

commit 23027313a91d8ee86d43d445402628378a020739
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Sep 3 18:35:24 2011 +0100

    core: Clarify nullability of a few properties

    AliasDetails.alias, NameDetails.nickname and NameDetails.full_name
    must never
    be set to null. The empty string represents an unset value for these
    properties.

 backends/eds/lib/edsf-persona-store.vala      | 19 +++++++++++++++++--
 backends/eds/lib/edsf-persona.vala	       | 14 +++++++++++++-
 backends/key-file/kf-persona.vala	       | 14 +++++++++++++-
 backends/libsocialweb/lib/swf-persona.vala    | 14 +++++++++++++-
 backends/telepathy/lib/tpf-persona-store.vala |  6 ++++++
 backends/telepathy/lib/tpf-persona.vala       | 11 ++++++++++-
 backends/tracker/lib/trf-persona.vala	       | 21 ++++++++++++++++++---
 folks/alias-details.vala		       |  2 ++
 folks/name-details.vala		       |  6 ++++++
 9 files changed, 98 insertions(+), 9 deletions(-)

commit 9daadb602785e3aba2584fee922ed88150ee1c34
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	Tue Sep 6 22:44:04 2011 +0200

    Updated Slovenian translation

 po/sl.po | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 1d89ac066b90e54ccbefd618960f5c50a7217ce0
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	Tue Sep 6 22:42:33 2011 +0200

    Added sl for Slovenian translation

 po/LINGUAS | 2 ++
 1 file changed, 2 insertions(+)

commit a7cef2750ef2fd4502a2463ea7c6ff8a7ccd243d
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:	Tue Sep 6 22:42:19 2011 +0200

    Added Slovenian translation

 po/sl.po | 708
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 708 insertions(+)

commit 9d82eca34fa964b1edc7b2eb94a6f6dfe73630a6
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Sep 4 18:14:04 2011 +0100

    aggregator: Fix a typo in emit_individuals_changed()

 folks/individual-aggregator.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1a794bec77dbeadc0f9d7f3d5b6c6634ada26fd8
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Sep 4 17:49:26 2011 +0100

    aggregator: Remove a useless duplicated set

    This appears to be lingering from the dark days when we used
    GLib.List<Persona>.

 folks/individual-aggregator.vala | 7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit 43963c6c4df92013e706cde6ece73dd891ca42b0
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Sep 4 15:03:15 2011 +0100

    aggregator: Factor out code to add personas to the link map

    This doesn't change behaviour at all (apart from debug messages),
    but should
    make the code a bit more maintainable.

 folks/individual-aggregator.vala | 95
 +++++++++++++++++++++-------------------
 1 file changed, 49 insertions(+), 46 deletions(-)

commit eff9dfdbd8f82167764a2064d0c4731c2cb678b7
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Tue Sep 6 13:05:45 2011 +0100

    Workaround for Tpf.PersonaStores with no stored channels support

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=656184

 backends/telepathy/lib/tpf-persona-store.vala | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 21115d35329c10b5136880117edaf66d5c698a9a
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Sun Sep 4 15:21:44 2011 +0100

    e-d-s: add test case for settings roles

 tests/eds/Makefile.am	  |   6 ++
 tests/eds/set-roles.vala | 161
 +++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 167 insertions(+)

commit c0969ff08c7f67ea0118e24e7b9d5c70175e13e9
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Sat Sep 3 20:30:12 2011 +0100

    e-d-s: extend add persona test to handle Roles

 tests/eds/add-persona.vala | 24 ++++++++++++++++++++++++
 1 file changed, 24 insertions(+)

commit 6d5040f72929231894e02632827ba9135552ef5b
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Sat Sep 3 18:28:09 2011 +0100

    e-d-s: implement support for RoleDetails

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=657969

 NEWS					  |   1 +
 backends/eds/lib/edsf-persona-store.vala | 135
 ++++++++++++++++++++++++++++
 backends/eds/lib/edsf-persona.vala	  | 146
 +++++++++++++++++++++++++++++++
 3 files changed, 282 insertions(+)

commit 50a9aebbf9694e04030c4528ce93751396728b4f
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Mon Sep 5 23:33:08 2011 +0100

    build: tests don't use <folks/*.h> so add path to folks/

 tests/eds/Makefile.am		| 1 +
 tests/lib/eds/Makefile.am	| 2 ++
 tests/lib/tracker/Makefile.am	| 1 +
 tests/libsocialweb/Makefile.am | 1 +
 tests/telepathy/Makefile.am	| 1 +
 tests/tracker/Makefile.am	| 1 +
 6 files changed, 7 insertions(+)

commit 81d9e2ca8c24d589c463d6ea7c637315122d3292
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Mon Sep 5 22:25:56 2011 +0100

    libsocialweb: make PersonaStores immediately quiescent

    Because we don't know if a libsocialweb service has 0
    contacts or is not well configured or is not authenticated, etc.;
    we might end up forever for contacts to arrive and never
    achieve quiescence. Until libsocialweb provides us with more
    information about the status of service (is it configured and
    authenticated? How many contacts should we receive? etc.) we
    immediately declare it quiescent after preparing it.

 backends/libsocialweb/lib/swf-persona-store.vala | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 0ee29949100e6211775bd98527740e535db97bbf
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Sep 5 19:53:45 2011 +0100

    telepathy: Potentially fix is-quiescent

    See: bgo#656184

 backends/telepathy/lib/tpf-persona-store.vala | 14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

commit 79ce988289f76016c8c61e158ef0d2c8525b4731
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Sep 5 21:27:27 2011 +0100

    eds: Immediately make non-browseable Edsf.PersonaStores reach
    quiescence

    For example, some LDAP servers may not be browseable (i.e. they're
    search
    only), so should reach quiescence immediately. This prevents the
    IndividualAggregator waiting for ever for them to become quiescent.

    Helps: bgo#656184

 backends/eds/lib/edsf-persona-store.vala | 36
 ++++++++++++++++++++++++++++++++
 1 file changed, 36 insertions(+)

commit 13c39840214c5f775c33b9aba151239cff793f36
Author: Mario Blättermann <mariobl@gnome.org>
Date:	Mon Sep 5 21:06:19 2011 +0200

    [l10n] Updated German translation

 po/de.po | 514
 +++++++++++++++++++++++++++++++++++++++++++--------------------
 1 file changed, 355 insertions(+), 159 deletions(-)

commit d7e1a077163e5b1f216bf55405280b0c577b460c
Author: dmustieles <daniel.mustieles@gmail.com>
Date:	Mon Sep 5 13:45:53 2011 +0200

    Updated Spanish translation

 po/es.po | 51 ++++++++++++++++++++++++++++-----------------------
 1 file changed, 28 insertions(+), 23 deletions(-)

commit 8a8fd46977395221c11a5bb42bdd538c54236ebf
Author: Fran Dieguez <fran@openhost.es>
Date:	Mon Sep 5 00:17:10 2011 +0200

    Updated galician translations

 po/LINGUAS |	4 +-
 po/gl.po   | 738
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 741 insertions(+), 1 deletion(-)

commit 8a4d6afc237e9ea1a3b845bd32ed41b48795c58b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Aug 29 21:59:02 2011 +0100

    tests: Port the remaining tests to use individuals_changed_detailed

    Helps: bgo#657282

 tests/eds/add-contacts-stress-test.vala	    | 22 +++++++-----
 tests/eds/add-persona.vala			    | 20 ++++++-----
 tests/eds/avatar-details.vala			    | 21 ++++++-----
 tests/eds/email-details.vala			    | 22 +++++++-----
 tests/eds/im-details.vala			    | 22 +++++++-----
 tests/eds/individual-retrieval.vala		    | 22 +++++++-----
 tests/eds/link-personas.vala			    | 27 +++++++++-----
 tests/eds/name-details.vala			    | 22 +++++++-----
 tests/eds/phone-details.vala			    | 22 +++++++-----
 tests/eds/postal-address-details.vala		    | 22 +++++++-----
 tests/eds/remove-persona.vala			    | 23 ++++++++----
 tests/eds/removing-contacts.vala		    | 23 ++++++++----
 tests/eds/set-avatar.vala			    | 22 +++++++-----
 tests/eds/set-birthday.vala			    | 22 +++++++-----
 tests/eds/set-emails.vala			    | 22 +++++++-----
 tests/eds/set-gender.vala			    | 22 +++++++-----
 tests/eds/set-im-addresses.vala		    | 22 +++++++-----
 tests/eds/set-names.vala			    | 24 ++++++++-----
 tests/eds/set-notes.vala			    | 22 +++++++-----
 tests/eds/set-phones.vala			    | 22 +++++++-----
 tests/eds/set-postal-addresses.vala		    | 22 +++++++-----
 tests/eds/set-properties-race.vala		    | 22 +++++++-----
 tests/eds/set-structured-name.vala		    | 22 +++++++-----
 tests/eds/set-urls.vala			    | 22 +++++++-----
 tests/eds/updating-contacts.vala		    | 22 +++++++-----
 tests/key-file/individual-retrieval.vala	    | 25 ++++++++++---
 tests/libsocialweb/aggregation.vala		    | 33 ++++++++++++++---
 tests/libsocialweb/dummy-lsw.vala		    | 32 +++++++++++++----
 tests/telepathy/individual-properties.vala	    | 42
 ++++++++++++++++++----
 tests/telepathy/individual-retrieval.vala	    | 31 +++++++++++++---
 tests/tracker/add-contact.vala			    | 22 +++++++-----
 tests/tracker/add-persona.vala			    | 22 +++++++-----
 tests/tracker/additional-names-updates.vala	    | 22 +++++++-----
 tests/tracker/avatar-details-interface.vala	    | 22 ++++++++----
 tests/tracker/avatar-updates.vala		    | 22 +++++++-----
 tests/tracker/birthday-details-interface.vala	    | 23 +++++++-----
 tests/tracker/birthday-updates.vala		    | 23 +++++++-----
 tests/tracker/default-contact.vala		    | 22 +++++++-----
 tests/tracker/duplicated-emails.vala		    | 22 +++++++-----
 tests/tracker/duplicated-phones.vala		    | 22 +++++++-----
 tests/tracker/email-details-interface.vala	    | 24 ++++++++-----
 tests/tracker/emails-updates.vala		    | 22 +++++++-----
 tests/tracker/family-name-updates.vala		    | 22 +++++++-----
 tests/tracker/favourite-details-interface.vala     | 24 ++++++++-----
 tests/tracker/favourite-updates.vala		    | 22 +++++++-----
 tests/tracker/fullname-updates.vala		    | 22 +++++++-----
 tests/tracker/gender-details-interface.vala	    | 23 +++++++-----
 tests/tracker/given-name-updates.vala		    | 22 +++++++-----
 tests/tracker/im-details-interface.vala	    | 24 ++++++++-----
 tests/tracker/imaddresses-updates.vala		    | 22 +++++++-----
 tests/tracker/individual-retrieval.vala	    | 22 +++++++-----
 tests/tracker/link-personas-via-local-ids.vala     | 29 ++++++++++-----
 tests/tracker/link-personas.vala		    | 29 ++++++++++-----
 tests/tracker/match-all.vala			    | 22 +++++++-----
 tests/tracker/match-email-addresses.vala	    | 22 +++++++-----
 tests/tracker/match-im-addresses.vala		    | 22 +++++++-----
 tests/tracker/match-known-emails.vala		    | 22 +++++++-----
 tests/tracker/match-name.vala			    | 22 +++++++-----
 tests/tracker/match-phone-number.vala		    | 22 +++++++-----
 tests/tracker/name-details-interface.vala	    | 24 ++++++++-----
 tests/tracker/nickname-updates.vala		    | 22 +++++++-----
 tests/tracker/note-details-interface.vala	    | 22 +++++++-----
 tests/tracker/phone-details-interface.vala	    | 24 ++++++++-----
 tests/tracker/phones-updates.vala		    | 23 +++++++-----
 .../tracker/postal-address-details-interface.vala  | 22 +++++++-----
 tests/tracker/prefix-name-updates.vala		    | 23 +++++++-----
 tests/tracker/remove-contact.vala		    | 25 ++++++++-----
 tests/tracker/remove-persona.vala		    | 23 ++++++++----
 tests/tracker/role-details-interface.vala	    | 22 +++++++-----
 tests/tracker/set-avatar.vala			    | 22 +++++++-----
 tests/tracker/set-birthday.vala		    | 22 +++++++-----
 tests/tracker/set-duplicate-email.vala		    | 23 +++++++-----
 tests/tracker/set-emails.vala			    | 22 +++++++-----
 tests/tracker/set-favourite.vala		    | 22 +++++++-----
 tests/tracker/set-full-name.vala		    | 22 +++++++-----
 tests/tracker/set-gender.vala			    | 22 +++++++-----
 tests/tracker/set-im-addresses.vala		    | 22 +++++++-----
 tests/tracker/set-nickname.vala		    | 22 +++++++-----
 tests/tracker/set-notes.vala			    | 22 +++++++-----
 tests/tracker/set-null-avatar.vala		    | 22 +++++++-----
 tests/tracker/set-phones.vala			    | 22 +++++++-----
 tests/tracker/set-postal-addresses.vala	    | 22 +++++++-----
 tests/tracker/set-roles.vala			    | 22 +++++++-----
 tests/tracker/set-structured-name.vala		    | 22 +++++++-----
 tests/tracker/set-urls.vala			    | 22 +++++++-----
 tests/tracker/suffix-name-updates.vala		    | 22 +++++++-----
 tests/tracker/url-details-interface.vala	    | 24 ++++++++-----
 tests/tracker/website-updates.vala		    | 22 +++++++-----
 88 files changed, 1336 insertions(+), 695 deletions(-)

commit 87b3c40a28fe8312f2f34630ebbb5f3981bb3a34
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Aug 29 16:32:27 2011 +0100

    tests: Expand the aggregation test to check both individuals_changed
    signals

    Helps: bgo#657282

 tests/folks/Makefile.am      |   3 +
 tests/folks/aggregation.vala | 543
 +++++++++++++++++++++++++++++--------------
 2 files changed, 370 insertions(+), 176 deletions(-)

commit 0dd7dc1aaa2e3b647f9e62d4a4960df60fd97220
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Aug 24 22:38:16 2011 +0100

    Bug 657282 — Add an
    IndividualAggregator.individuals_changed_detailed signal

    This supersedes IndividualAggregator.individuals_changed, providing
    more
    information about the relationships between the added and removed
    individuals.

    Closes: bgo#657282

 NEWS				  |   3 +
 folks/individual-aggregator.vala | 222
 +++++++++++++++++++++++++++------------
 2 files changed, 156 insertions(+), 69 deletions(-)

commit f8fe0fb3ff4af3a727d46946a96d6d890ae93667
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Sep 4 12:58:36 2011 +0100

    Bug 657789 — Don't claim uneditable eds fields as writable

    Support setting the writeable-properties property of Edsf.Persona
    and the
    always-writeable-properties property of Edsf.PersonaStore from the
    set of
    supported fields exported by the address book.

    Closes: bgo#657789

 NEWS					  |   1 +
 backends/eds/lib/edsf-persona-store.vala | 220
 +++++++++++++++++++++++++++----
 backends/eds/lib/edsf-persona.vala	  |  20 +--
 3 files changed, 199 insertions(+), 42 deletions(-)

commit 3f71f115ee6afc747a47a4576e921e35713180ba
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Sep 4 12:56:36 2011 +0100

    core: Add GROUPS and INVALID to PersonaDetail

    One is obviously necessary. The other is necessary for use as an
    error return
    from a function in the fix for bgo#657789.

    This also adds some bounds checking to PersonaStore.detail_key(),
    which can
    now return null if the PersonaDetail wasn't recognised.

    Helps: bgo#657789

 NEWS			  |  1 +
 folks/persona-store.vala | 30 ++++++++++++++++++++++++++----
 2 files changed, 27 insertions(+), 4 deletions(-)

commit 05eb522436c4f10f10f604a18e7f41454a78e3d6
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Sun Sep 4 13:41:19 2011 +0100

    e-d-s: simplify property checking in add-persona test

 tests/eds/add-persona.vala | 14 +++++---------
 1 file changed, 5 insertions(+), 9 deletions(-)

commit 7ed4677e0c78e31e4bf6f8357ff70db6af4c6690
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	Sun Sep 4 12:02:48 2011 +0200

    Updated Spanish translation

 po/es.po | 54 +++++++++++++++++++++++++++++-------------------------
 1 file changed, 29 insertions(+), 25 deletions(-)

commit 86d3828477d7687f251d54fb382a62c4176d7411
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	Sun Sep 4 11:28:10 2011 +0200

    Added Spanish translation to LINGUAS

 po/LINGUAS | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6b09a9184578ee44be82f4755eb5b651b485fee7
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	Sun Sep 4 11:27:29 2011 +0200

    Updated Spanish translation

 po/es.po | 712
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 712 insertions(+)

commit 5d6fe6a62375912f63d3ecc7c8cda33ebe68164a
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:	Sun Sep 4 11:10:10 2011 +0200

    Fixed typo in string («paramter»)

 backends/tracker/lib/trf-persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3b5dafb4d4d83ea65eab6800845b9bdd84d9995c
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Sat Sep 3 18:29:42 2011 +0100

    e-d-s: add birthday to list of writeable properties

 backends/eds/lib/edsf-persona.vala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 8812d1a5bac69dcd6624e4239bb192151172d44a
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Sat Sep 3 15:37:53 2011 +0100

    Update NEWS file

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit 45eb4c58a231aedcea1dd28cd305254bbdcc7233
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Sat Sep 3 13:58:31 2011 +0100

    e-d-s: add test for setting birthday on an e-d-s Persona

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=657971

 tests/eds/Makefile.am	     |	 6 ++
 tests/eds/set-birthday.vala | 153
 ++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 159 insertions(+)

commit 53b36cddfe3b6e7b73b344c464f2a99449d9eb97
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Sat Sep 3 13:49:58 2011 +0100

    e-d-s: extend add-persona test to include the BirthdayDetails
    interface

 tests/eds/add-persona.vala | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit f7bbe3723cde7ba6a7ac91735a082366c9f52e70
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Sat Sep 3 13:37:50 2011 +0100

    e-d-s: implement BirthdayDetails

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=657971

 backends/eds/lib/edsf-persona-store.vala | 39 ++++++++++++++++++
 backends/eds/lib/edsf-persona.vala	  | 70
 ++++++++++++++++++++++++++++++++
 2 files changed, 109 insertions(+)

commit 0aa6c4815ffa6171f939b6fb419bd0ba184bbbca
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Sat Sep 3 15:13:22 2011 +0100

    Documentation: state the birthday's DateTime objects are UTC

 folks/birthday-details.vala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 77ee30d3c8df1fab219ca7e0d1d08f6c263184c8
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Fri Sep 2 21:15:35 2011 +0100

    Bug 656184 — Add is-quiescent property

    This allows clients to determine when the IndividualAggregator
    has reached
    a quiescent state — it's received and linked all of the personas
    it should
    do at startup, and from that point onwards will only relink
    personas in
    response to (for example), persona stores dynamically being added
    and removed
    at runtime.

    Closes: bgo#656184

 NEWS						  |   3 +
 backends/eds/eds-backend.vala			  |  19 +++++
 backends/eds/lib/edsf-persona-store.vala	  |  21 +++++
 backends/key-file/kf-backend.vala		  |  19 +++++
 backends/key-file/kf-persona-store.vala	  |  17 ++++
 backends/libsocialweb/lib/swf-persona-store.vala |  23 ++++++
 backends/libsocialweb/sw-backend.vala		  |  19 +++++
 backends/telepathy/lib/tpf-persona-store.vala	  |  64 +++++++++++++-
 backends/telepathy/tp-backend.vala		  |  19 +++++
 backends/tracker/lib/trf-persona-store.vala	  |  18 ++++
 backends/tracker/tr-backend.vala		  |  20 +++++
 folks/backend-store.vala			  |   4 +-
 folks/backend.vala				  |  15 ++++
 folks/individual-aggregator.vala		  | 101
 ++++++++++++++++++++++-
 folks/persona-store.vala			  |  13 +++
 15 files changed, 371 insertions(+), 4 deletions(-)

commit 823a6ae6b8bb63dbd50e5fae56793a20b1ee2d34
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Fri Sep 2 21:15:08 2011 +0100

    eds/tracker: Ensure the PersonaStores are removed on error

 backends/eds/lib/edsf-persona-store.vala    | 12 ++++++++++++
 backends/tracker/lib/trf-persona-store.vala |	3 +++
 2 files changed, 15 insertions(+)

commit 17dcda00c5a993989bde31d0beca5338d5937c0f
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Fri Sep 2 19:27:33 2011 +0100

    key-file: Yield when setting properties on new personas

    This fixes the libsocialweb aggregation test.

    Helps: bgo#657510

 backends/key-file/kf-persona-store.vala | 22 ++++++++++++++++++----
 1 file changed, 18 insertions(+), 4 deletions(-)

commit bc0141fb8317caa614e930cfecbb4cf437797bc2
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Aug 31 22:21:15 2011 +0100

    eds: Ensure that property changes are signalled before .change_*()
    returns

    We can't rely on E.BookClientView.objects_modified being emitted
    before
    E.BookClient.modify_contact() returns. In order to guarantee that the
    relevant properties will be notified before Edsf.Persona.change_*()
    returns,
    we therefore move all calls to modify_contact() into a new
    Edsf.PersonaStore._commit_modified_property() method, and block
    returning
    from that on receipt of a property change notification from e-d-s.

    However, we also add a timeout to _commit_modified_property()
    (defaulting to
    30 seconds), so that if we don't receive a property change
    notification in
    that time period, we error out from the .change_*() method.

    Helps: bgo#657510

 backends/eds/lib/edsf-persona-store.vala | 259
 +++++++++++++------------------
 1 file changed, 110 insertions(+), 149 deletions(-)

commit 6166dda19b16af130b61f61f3ae3b2a92a49cba7
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Aug 30 23:24:58 2011 +0100

    core: Add GroupDetails.change_groups()

    This allows the groups of an implementing class to all be changed
    simultaneously, asynchronously and with proper error notification.

    Closes: bgo#657510

 NEWS					  |  2 ++
 backends/eds/lib/edsf-persona-store.vala |  6 ++--
 backends/eds/lib/edsf-persona.vala	  | 17 +++++++----
 backends/telepathy/lib/tpf-persona.vala  | 46
 +++++++++++++++-------------
 folks/group-details.vala		  | 20 +++++++++++++
 folks/individual.vala			  | 51
 ++++++++++++++++++++++++++++----
 6 files changed, 109 insertions(+), 33 deletions(-)

commit 6dd4365dbbc2fd317f1fb6287d9a1b1d6d765e77
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Aug 30 20:34:32 2011 +0100

    core: Add WebServiceDetails.change_web_service_addresses()

    This allows the web service addresses of an implementing class to
    be changed
    asynchronously with proper error notification.

    Helps: bgo#657510

 backends/eds/lib/edsf-persona-store.vala   |  4 +-
 backends/eds/lib/edsf-persona.vala	    | 19 +++++--
 backends/key-file/kf-persona.vala	    | 83
 +++++++++++++++++-------------
 backends/libsocialweb/lib/swf-persona.vala |  6 ++-
 backends/tracker/lib/trf-persona.vala	    | 19 +++++--
 folks/individual.vala			    |  4 +-
 folks/web-service-details.vala		    | 23 +++++++++
 po/POTFILES.in				    |  1 +
 po/POTFILES.skip			    |  1 +
 9 files changed, 110 insertions(+), 50 deletions(-)

commit a8f586f2cba4e46c0aba4190c8d0bb3c7575070e
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Aug 30 20:20:23 2011 +0100

    core: Add UrlDetails.change_urls()

    This allows the URLs of an implementing class to be changed
    asynchronously
    with proper error notification.

    Helps: bgo#657510

 backends/eds/lib/edsf-persona-store.vala   |  6 +++---
 backends/eds/lib/edsf-persona.vala	    | 15 +++++++++++----
 backends/libsocialweb/lib/swf-persona.vala | 19 ++++++++-----------
 backends/tracker/lib/trf-persona.vala	    | 18 ++++++++++++++----
 folks/individual.vala			    |  8 ++------
 folks/url-details.vala			    | 22 ++++++++++++++++++++++
 po/POTFILES.in				    |  1 +
 po/POTFILES.skip			    |  1 +
 8 files changed, 62 insertions(+), 28 deletions(-)

commit 418a2f2338d131769f80b3d264b3b015c785114e
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Aug 30 20:11:53 2011 +0100

    core: Add RoleDetails.change_roles()

    This allows the roles of an implementing class to be changed
    asynchronously
    with proper error notification.

    Helps: bgo#657510

 backends/tracker/lib/trf-persona.vala | 19 +++++++++++++++----
 folks/individual.vala		       |  9 ++-------
 folks/role-details.vala	       | 22 ++++++++++++++++++++++
 3 files changed, 39 insertions(+), 11 deletions(-)

commit aa87b4cb56a9466d69c1ed87439cc860e6181379
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Aug 30 20:03:00 2011 +0100

    core: Add PostalAddressDetails.change_postal_addresses()

    This allows the postal addresses of an implementing class to be
    changed
    asynchronously with proper error notification.

    Helps: bgo#657510

 backends/eds/lib/edsf-persona-store.vala |  7 +++----
 backends/eds/lib/edsf-persona.vala	  | 17 +++++++++++++----
 backends/tracker/lib/trf-persona.vala	  | 20 ++++++++++++++++----
 folks/individual.vala			  |  8 ++------
 folks/postal-address-details.vala	  | 22 ++++++++++++++++++++++
 5 files changed, 56 insertions(+), 18 deletions(-)

commit 22866a6481fdd49d4aa8731da302d6cf6c8e4d17
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Aug 30 19:55:32 2011 +0100

    core: Add PhoneDetails.change_phone_numbers()

    This allows the phone numbers of an implementing class to be changed
    asynchronously with proper error notification.

    Helps: bgo#657510

 backends/eds/lib/edsf-persona-store.vala |  6 +++---
 backends/eds/lib/edsf-persona.vala	  | 16 ++++++++++++----
 backends/tracker/lib/trf-persona.vala	  | 19 +++++++++++++++----
 folks/individual.vala			  |  8 ++------
 folks/phone-details.vala		  | 22 ++++++++++++++++++++++
 po/POTFILES.in				  |  1 +
 po/POTFILES.skip			  |  1 +
 7 files changed, 56 insertions(+), 17 deletions(-)

commit e0a2bd2e7abddf6e47d78809ba45caab62099de9
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Aug 30 19:47:26 2011 +0100

    core: Add NoteDetails.change_notes()

    This allows the notes of an implementing class to be changed
    asynchronously
    with proper error notification.

    Helps: bgo#657510

 backends/eds/lib/edsf-persona-store.vala |  6 +++---
 backends/eds/lib/edsf-persona.vala	  | 16 ++++++++++++----
 backends/tracker/lib/trf-persona.vala	  | 17 +++++++++++++----
 folks/individual.vala			  |  9 ++-------
 folks/note-details.vala		  | 22 ++++++++++++++++++++++
 po/POTFILES.in				  |  1 +
 po/POTFILES.skip			  |  1 +
 7 files changed, 54 insertions(+), 18 deletions(-)

commit 0eb80decfd43b5488c3ad7f97dd13bfb540a67d0
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Aug 28 22:06:57 2011 +0100

    core: Add NameDetails.change_*() methods

    This allows the names of an implementing class to be changed
    asynchronously
    with proper error notification.

    Helps: bgo#657510

 backends/eds/lib/edsf-persona-store.vala   |  17 ++---
 backends/eds/lib/edsf-persona.vala	    |  50 +++++++++----
 backends/libsocialweb/lib/swf-persona.vala |  41 ++++++++---
 backends/tracker/lib/trf-persona.vala	    |  55 ++++++++++-----
 folks/individual.vala			    | 110
 ++++++++++++++++++++---------
 folks/name-details.vala		    |  62 ++++++++++++++++
 po/POTFILES.in				    |	1 +
 po/POTFILES.skip			    |	1 +
 8 files changed, 255 insertions(+), 82 deletions(-)

commit e80b364c31817f4b2d3e3876ec5112d64ef90c80
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Aug 28 21:41:02 2011 +0100

    core: Make NameDetails.structured_name nullable

    It effectively was before; now it's official.

 backends/eds/lib/edsf-persona.vala	     |	4 +-
 backends/libsocialweb/lib/swf-persona.vala  |	2 +-
 backends/tracker/lib/trf-persona-store.vala | 18 ++++++---
 backends/tracker/lib/trf-persona.vala	     | 61
 +++++++++++++++++++++++++----
 folks/individual.vala			     |	2 +-
 folks/name-details.vala		     |	2 +-
 6 files changed, 70 insertions(+), 19 deletions(-)

commit 825694c474ae97ef05434a812c5830364270c08f
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Aug 28 21:26:24 2011 +0100

    core: Add LocalIdDetails.change_local_ids()

    This allows the local IDs of an implementing class to be changed
    asynchronously
    with proper error notification.

    Helps: bgo#657510

 backends/eds/lib/edsf-persona-store.vala |  4 ++--
 backends/eds/lib/edsf-persona.vala	  | 16 ++++++++++++----
 backends/tracker/lib/trf-persona.vala	  | 22 ++++++++++++++++------
 folks/individual.vala			  |  9 ++-------
 folks/local-id-details.vala		  | 22 ++++++++++++++++++++++
 po/POTFILES.in				  |  1 +
 po/POTFILES.skip			  |  1 +
 7 files changed, 56 insertions(+), 19 deletions(-)

commit 6130e1038959b358d00f62a57c36ab4093374136
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Aug 28 21:19:55 2011 +0100

    eds: Fix a typo in a doc comment

 backends/eds/lib/edsf-persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 55b9950994703e9f91dc6e03e961ac3c99bded28
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Aug 28 21:12:45 2011 +0100

    core: Add GenderDetails.change_gender()

    This allows the gender of an implementing class to be changed
    asynchronously
    with proper error notification.

    Helps: bgo#657510

 backends/eds/lib/edsf-persona-store.vala   |  4 ++--
 backends/eds/lib/edsf-persona.vala	    | 15 +++++++++++----
 backends/libsocialweb/lib/swf-persona.vala | 16 +++++++++++++---
 backends/tracker/lib/trf-persona.vala	    | 16 ++++++++++++----
 folks/gender-details.vala		    | 21 +++++++++++++++++++++
 folks/individual.vala			    | 14 +++++++-------
 po/POTFILES.in				    |  1 +
 po/POTFILES.skip			    |  1 +
 8 files changed, 68 insertions(+), 20 deletions(-)

commit 073dc310a0294bf5c26f2e31ebf4073a543db0f6
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Aug 28 20:19:09 2011 +0100

    core: Add FavouriteDetails.change_is_favourite()

    This allows the favouriteness of an implementing class to be changed
    asynchronously with proper error notification.

    Helps: bgo#657510

 backends/telepathy/lib/tpf-persona-store.vala |  8 ++--
 backends/telepathy/lib/tpf-persona.vala       | 26 ++++++++---
 backends/tracker/lib/trf-persona.vala	       | 41 ++++++++++-------
 folks/favourite-details.vala		       | 21 +++++++++
 folks/individual.vala			       | 65
 +++++++++++++++++++++------
 po/POTFILES.in				       |  1 +
 po/POTFILES.skip			       |  1 +
 7 files changed, 125 insertions(+), 38 deletions(-)

commit b5d1fdefc24dc5d7c5b94f1332cdb4e7dce80ade
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Aug 28 19:58:21 2011 +0100

    core: Add EmailDetails.change_email_addresses()

    This allows the e-mail addresses of an implementing class to be
    changed
    asynchronously with proper error notification.

    Helps: bgo#657510

 backends/eds/lib/edsf-persona-store.vala |  7 +++----
 backends/eds/lib/edsf-persona.vala	  | 17 +++++++++++++----
 backends/tracker/lib/trf-persona.vala	  | 19 +++++++++++++++----
 folks/email-details.vala		  | 22 ++++++++++++++++++++++
 folks/individual.vala			  |  8 ++------
 po/POTFILES.in				  |  1 +
 po/POTFILES.skip			  |  1 +
 7 files changed, 57 insertions(+), 18 deletions(-)

commit a5517e657d92d95e295714bb2be97a93261a9d1a
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Aug 28 19:46:58 2011 +0100

    core: Add BirthdayDetails.change_birthday() and
    .change_calendar_event_id()

    These allows the birthday (and its calendar event) of an implementing
    class
    to be changed asynchronously with proper error notification.

    Helps: bgo#657510

 backends/tracker/lib/trf-persona.vala | 19 ++++++++++----
 folks/birthday-details.vala	       | 42 ++++++++++++++++++++++++++++++
 folks/individual.vala		       | 48
 ++++++++++++++++++++++++++++-------
 po/POTFILES.in			       |  1 +
 po/POTFILES.skip		       |  1 +
 5 files changed, 97 insertions(+), 14 deletions(-)

commit 847acb0b13f12afc68745b28bf9fbb5f323cc9c9
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Aug 28 19:39:22 2011 +0100

    core: Make BirthdayDetails.birthday nullable

    It effectively was before; now it's official.

 backends/tracker/lib/trf-persona.vala | 4 ++--
 folks/birthday-details.vala	       | 7 ++++---
 folks/individual.vala		       | 2 +-
 3 files changed, 7 insertions(+), 6 deletions(-)

commit a1db7b08184ee325bd5e8b22d6c361b784a3a2f2
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Aug 28 19:33:18 2011 +0100

    core: Add AvatarDetails.change_avatar()

    This allows the avatar of an implementing class to be changed
    asynchronously
    with proper error notification.

    Helps: bgo#657510

 backends/eds/lib/edsf-persona-store.vala   | 29
 ++++++++++++++++++++++-------
 backends/eds/lib/edsf-persona.vala	    | 19 +++++++++++++------
 backends/libsocialweb/lib/swf-persona.vala | 19 +++++++++++++++----
 backends/telepathy/lib/tpf-persona.vala    | 18 ++++++++++++++----
 backends/tracker/lib/trf-persona.vala	    | 16 ++++++++++++----
 folks/avatar-details.vala		    | 22 ++++++++++++++++++++++
 folks/individual.vala			    | 16 +++++++++++++---
 po/POTFILES.in				    |  1 +
 po/POTFILES.skip			    |  1 +
 9 files changed, 113 insertions(+), 28 deletions(-)

commit e390bdd7b7a2b57260f94e0c0559d3a6f340d14c
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Aug 27 17:11:00 2011 +0100

    core: Add ImDetails.change_im_addresses()

    This allows the IM addresses of an implementing class to be changed
    asynchronously with proper error notification.

    Helps: bgo#657510

 backends/eds/lib/edsf-persona-store.vala   |	6 +-
 backends/eds/lib/edsf-persona.vala	    |  16 +++--
 backends/key-file/kf-persona.vala	    | 111
 ++++++++++++++++-------------
 backends/libsocialweb/lib/swf-persona.vala |	3 +-
 backends/telepathy/lib/tpf-persona.vala    |	3 +-
 backends/tracker/lib/trf-persona.vala	    |  19 +++--
 folks/im-details.vala			    |  21 ++++++
 folks/individual.vala			    |	3 +-
 8 files changed, 117 insertions(+), 65 deletions(-)

commit ef3d3b73d80f7510f8817383a061f544b3ac0367
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Aug 27 15:58:30 2011 +0100

    core: Add AliasDetails.change_alias()

    This allows the alias of an implementing class to be changed
    asynchronously
    with proper error notification.

    Helps: bgo#657510

 backends/eds/lib/edsf-persona-store.vala | 72
 ++++++++++++++++++++++++++++++++
 backends/key-file/kf-persona.vala	  | 26 ++++++++----
 backends/telepathy/lib/tpf-persona.vala  | 25 ++++++++---
 folks/alias-details.vala		  | 21 ++++++++++
 folks/individual.vala			  | 68
 +++++++++++++++++++-----------
 po/POTFILES.in				  |  1 +
 po/POTFILES.skip			  |  1 +
 7 files changed, 176 insertions(+), 38 deletions(-)

commit be2f014028b93c286886f3367b84ebf4a562ace8
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Aug 27 16:25:37 2011 +0100

    core: Add Folks.PropertyError

    Helps: bgo#657510

 NEWS		    |  1 +
 folks/persona.vala | 31 +++++++++++++++++++++++++++++++
 2 files changed, 32 insertions(+)

commit a5faebb1d5a220c35222768524a3a71dab3c7d09
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Fri Sep 2 11:19:59 2011 +0100

    e-d-s: make sure we also remove GConf's configs before running tests

    Commit e0b99581 tries to remove GConf's config *after* a test
    execution. But if the test fails, clean up might not happen. So
    this commit adds try to remove configs *before* we start.

 tests/tools/with-session-bus-eds.sh | 3 +++
 1 file changed, 3 insertions(+)

commit 1f5d9e4ad0fb233de3b468fd1b4098f8c65f4fd6
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Fri Sep 2 10:55:24 2011 +0100

    IndividualAggregator: check for the writeable store was wrong

    We were checking for matching type_id to see if a PersonaStore
    was the configured writeable store, instead we should do a
    pointer comparison.

 folks/individual-aggregator.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fb6058167ca6eb110336c4345eef537822029b00
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Fri Sep 2 00:18:57 2011 +0100

    build: previous commit doesn't cover the tracker disabled case

 configure.ac | 2 ++
 1 file changed, 2 insertions(+)

commit e4c941605f6ce0d2708da468e89abacf2b01a629
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Sep 1 23:16:27 2011 +0100

    tracker: conditional compilation of GLib.SpawnError exception handling

    Starting Tracker 0.10.6, the GLib.SpawnError is exception is thrown
    when calling Tracker.Sparql.Connection.get (). So we need to test
    for the installed version and catch or not the exception, accordingly.

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=657650

 configure.ac			| 11 ++++++++++-
 tests/lib/tracker/Makefile.am	|  5 +++++
 tests/lib/tracker/backend.vala |  2 ++
 3 files changed, 17 insertions(+), 1 deletion(-)

commit 06b2ec0174113024eaeac4e1dbedc57073f759e1
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Sep 1 16:40:11 2011 +0100

    e-d-s: more coding style cleanup in the persona store test

 tests/eds/persona-store-tests.vala | 38
 +++++++++++++++++++-------------------
 1 file changed, 19 insertions(+), 19 deletions(-)

commit fbdc16d50121c6fbc93c251938d20723d489ad91
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Sep 1 16:35:37 2011 +0100

    e-d-s: remove unused variable from persona store test

 tests/eds/persona-store-tests.vala | 2 --
 1 file changed, 2 deletions(-)

commit 2678ff5e563d19ab059346ee5a3d51b8eeeb92fa
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Sep 1 16:29:02 2011 +0100

    e-d-s: make the persona stores test follow our coding style

 tests/eds/persona-store-tests.vala | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 58bc8efd338248eb2a954c5409381ca8ea6860a4
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Aug 31 22:48:56 2011 +0100

    interface: throw some light on LocalIdDetail's cryptic comments

 folks/local-id-details.vala | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit a1a8c976ac18ad18474a684e4a48b953289ed518
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Aug 31 22:24:18 2011 +0100

    tracker: update linking test to use iid instead of uid

 tests/tracker/link-personas-via-local-ids.vala | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit e32d9bac78db8a84a0ce3bb83e43e26ea3eb68d3
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Aug 31 23:03:10 2011 +0100

    tracker: use iid instead of uid when linking via local ids

 backends/tracker/lib/trf-persona.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 304e00323f57a2d0836993f5a6bf37882f60ddcf
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Aug 31 19:57:07 2011 +0100

    e-d-s: add test to link personas from different stores

    This test checks what was fixed in:

    https://bugzilla.gnome.org/show_bug.cgi?id=657635

 tests/eds/link-personas.vala | 56
 ++++++++++++++++++++++++++++++++++----------
 1 file changed, 44 insertions(+), 12 deletions(-)

commit b5750b7b1e37a924984cce3e045b6a4f385feba8
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Aug 31 17:01:11 2011 +0100

    e-d-s: make address book uri a settable property in the test Backend

    This allows us to instantiate multiple Backends, each one associated
    to a it's own address book, which comes in handy for tests involving
    multiple e-d-s PersonaStores.

 tests/eds/link-personas.vala | 2 +-
 tests/lib/eds/backend.vala   | 6 +++++-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 63b4ab7ab7be30e39936f7c0fd779481536a575e
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Mon Aug 29 18:27:48 2011 +0100

    e-d-s: update link-personas test to use iid instead of contact_id

 tests/eds/link-personas.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5b44d73ebd013d649034001496ad79939efab372
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Mon Aug 29 18:26:27 2011 +0100

    e-d-s: use this.local_ids in linkable_property_to_links ()

    Otherwise, this method can have a different  behaviour depending
    on the state of the current Persona depending on whether
    this.local_ids was called before or not.

 backends/eds/lib/edsf-persona.vala | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 19a426de3734cba718bc4bfa7372b2d8656ff614
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Mon Aug 29 18:25:00 2011 +0100

    e-d-s: we should use the Persona's iid as local-ids

    If we don't and use the contact_id as before, linking Personas
    from different PersonaStores won't work.

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=657635

 NEWS				    | 1 +
 backends/eds/lib/edsf-persona.vala | 4 ++--
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 563830b0894682564e4d418353614a043809a2c0
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Mon Aug 29 15:47:37 2011 +0100

    e-d-s: default trust level for PersonaStores is PARTIAL

    Without this, we can't link personas from different
    (e-d-s) PersonaStores.

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=657635

 backends/eds/lib/edsf-persona-store.vala | 1 +
 1 file changed, 1 insertion(+)

commit e0b99581db47b4811ef735813b21fe96ee48373a
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Aug 31 21:27:39 2011 +0100

    e-d-s: make sure we remove GConf's configs between tests

    When exercising GConf more than the usual, by creating multiple
    address books or such, we might leave things in an inconsistent
    state that might affect the tests that come afterwards.

 tests/tools/with-session-bus-eds.sh | 1 +
 1 file changed, 1 insertion(+)

commit 31f33c548dd855a9230f27b0257fe201fa76d23a
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Aug 31 19:30:10 2011 +0100

    tracker: Fix the match-im-addresses test

    Due to the Tracker tests now running with the tracker persona store
    as the
    writeable store, Tracker personas in the tests are now linked by their
    linkeable properties (as their persona store is now fully trusted
    due to
    being the writeable store).

    This caused the two personas in the match-im-addresses test to
    be linked
    together implicitly by the aggregator, when the test case assumed they
    weren't. This broke the test.

    This commit fixes the test permanently by changing the way we consider
    potential matches based on IM addresses. Previously, we only
    indicated a
    potential match if the two individuals under consideration shared
    a common
    IM address + protocol combination. This commit changes that so
    that two
    individuals are now considered to potentially match if they share
    a common
    IM address *only*. Protocols are no longer considered.

    This allows us to change the way the personas are set up in the
    match-im-addresses test so that they're no longer implicitly linked
    by the
    aggregator.

 folks/potential-match.vala	       | 21 ++++++++++++---------
 tests/tracker/match-im-addresses.vala |  5 ++---
 2 files changed, 14 insertions(+), 12 deletions(-)

commit ee2ec7c7f14316e3a713b7402a44e12dea4b6623
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Aug 31 15:19:53 2011 +0100

    e-d-s: fix indentation in tests backend

 tests/lib/eds/backend.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 061fdce9824dbbc2b41b3a239acf213d88e94bad
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Aug 31 12:19:00 2011 +0100

    build: Bump the e-d-s dependency to 3.1.5

    We totally missed this on previous releases and
    it is now causing problems for packagers.

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a44e2df4d696b2ceb1740e83196fd1943d60664f
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Aug 9 18:23:12 2011 +0200

    Bug 653777 — Add a helper function to create a writable persona

    This adds IndividualAggregator.ensure_individual_property_writeable(),
    which
    returns a persona which has the specified property writeable in
    the specified
    individual. If no such persona exists already, a new one is created
    and
    linked to the individual. If that all fails, an error is returned.

    This allows for clients to write to properties of personas with
    confidence
    that the updates will be written out to the backend stores. (Achieved
    by
    calling IndividualAggregator.ensure_individual_property_writeable()
    first
    and only writing to the property if that call succeeds.)

    Closes: bgo#653777

 NEWS				  |   4 +
 folks/individual-aggregator.vala | 130 +++++++++++++
 tests/folks/aggregation.vala	  | 409
 +++++++++++++++++++++++++++++++++++++++
 3 files changed, 543 insertions(+)

commit 659d0c0b1dfb7123ee14c9cefe53696dd4dfb951
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Thu Aug 11 13:57:25 2011 +0200

    key-file: Allow empty Kf.Personas to be added to the persona store

    This is necessary for the tests for bgo#653777. It removes the
    error which
    would previously be thrown when trying to add a persona to
    Kf.PersonaStore
    with no properties.

    Helps: bgo#653777

 backends/key-file/kf-persona-store.vala | 18 ++----------------
 1 file changed, 2 insertions(+), 16 deletions(-)

commit 9ce804c7b3f712eb43121c1ef9cf17e0cf75bcc8
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Thu Aug 11 13:55:10 2011 +0200

    core: Add PersonaStore:always-writeable-properties

    This complements Persona:writeable-properties, listing the properties
    which
    are guaranteed to always be writeable on the personas in a given
    persona
    store. This is in contrast to Persona:writeable-properties, which
    may list
    extra properties which are only writeable on that particular persona.

    This could be the case with, for example, personas representing
    the user,
    which might have extra writeable properties to allow the user to
    change their
    alias or avatar.

    Helps: bgo#653777

 NEWS						  |  3 +++
 backends/eds/lib/edsf-persona-store.vala	  | 26
 ++++++++++++++++++++++
 backends/key-file/kf-persona-store.vala	  | 17 ++++++++++++++
 backends/libsocialweb/lib/swf-persona-store.vala | 17 ++++++++++++++
 backends/telepathy/lib/tpf-persona-store.vala	  | 15 +++++++++++++
 backends/tracker/lib/trf-persona-store.vala	  | 28
 ++++++++++++++++++++++++
 folks/persona-store.vala			  | 19 ++++++++++++++++
 7 files changed, 125 insertions(+)

commit 187cde2cdb9e054e945aaa18494f869cd72fa6a8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 29 13:32:06 2011 -0700

    Fix NEWS: there never was a 0.5.3 release.

 NEWS | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ee86dd37f5fdfde94817d953228eb0394ea628d1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 29 10:58:24 2011 -0700

    Use the key-file backend for writes in general tests.

    See commit ef36f347 for more details.

 tests/folks/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 8fbf7ea3a1309c64addac4b99ffbc59189ef7bce
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Mon Aug 29 12:17:15 2011 +0100

    Post-release version bump

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ac08620c95aa0b02465d44790137cbc079aa00d0
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Aug 29 12:16:44 2011 +0100

    build: Fix the NEWS file

    More haste, less speed…

 NEWS | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit b851568b7faf4f3ef9f89810e97165eaf37ec44b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Aug 27 14:25:28 2011 +0100

    Bug 645056 — TpLowlevel library should have only static public
    functions

    Remove the TpLowlevel class from the TpLowlevel library and instead
    place
    all the functions statically in the “FolksTpLowlevel” namespace.

    Closes: bgo#645056

 NEWS					       |  1 +
 backends/telepathy/lib/Makefile.am	       |  3 +-
 backends/telepathy/lib/tp-lowlevel.c	       | 43
 ++-------------------------
 backends/telepathy/lib/tp-lowlevel.h	       | 38
 -----------------------
 backends/telepathy/lib/tpf-persona-store.vala | 39
 ++++++++++++------------
 5 files changed, 24 insertions(+), 100 deletions(-)

commit f9b3761912e108c93d3a9eb993d2aa8e317be9b6
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Mon Aug 29 10:18:50 2011 +0100

    Release version 0.6.1

 configure.ac | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 1cfbeb84986f3e1072387a903b08acdd251b074d
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Mon Aug 29 10:49:56 2011 +0100

    tracker: catch GLib.SpawnError when getting a connection

 tests/lib/tracker/backend.vala | 5 +++++
 1 file changed, 5 insertions(+)

commit 93e84b90f26e407a9949dd66f837de2ceeaba12c
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Mon Aug 29 10:02:05 2011 +0100

    Add myself as maintainer so I can upload tarballs, etc

 folks.doap | 7 +++++++
 1 file changed, 7 insertions(+)

commit 2a81e402ec9758821e2fd7eac9177f741dc29aab
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Aug 27 16:25:11 2011 +0100

    tracker: Remove “alias” from the writeable properties list
    of Trf.Persona

    Trf.Persona no longer implements AliasDetails.

 backends/tracker/lib/trf-persona.vala | 1 -
 1 file changed, 1 deletion(-)

commit 92c819b7f0fccc742f8de464969abf8316384172
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Thu Aug 25 19:17:27 2011 +0100

    Bug 657332 — Add linking link-individuals

    Add a `linking link-individuals` subcommand to folks-inspect. Note:
    this
    appears to break readline command completion for the `linking`
    command in
    certain situations (e.g. if you tab-complete the name of the command
    first).

    I can't fix this for love or money. Pigs will fly before I manage
    to work
    out why readline hates me so much.

    Closes: bgo#657332

 NEWS				    |	1 +
 tools/inspect/command-linking.vala | 127
 ++++++++++++++++++++++++++++---------
 2 files changed, 99 insertions(+), 29 deletions(-)

commit 99670bd47ba523c3b0c77277280a4391416a4a26
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Aug 26 10:33:38 2011 -0700

    Don't require that zero Individuals be removed after auto-linking.

 tests/tracker/match-im-addresses.vala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 274b4c097080f21b56b8446664578627d78bf7f9
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Aug 26 10:31:36 2011 -0700

    Make sure Tracker tests actually use the Tracker backend for writes.

 tests/tracker/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit d4922aed17bdd8c7f0e1feb63440edae7fb2f3a0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Aug 26 10:16:17 2011 -0700

    Ignore edsf-persona-store.c for translations.

 po/POTFILES.skip | 1 +
 1 file changed, 1 insertion(+)

commit be452e9eb223a7b246b8b9bd742901a5e7c3b9b1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Aug 26 09:41:05 2011 -0700

    Properly handle 'url' TYPE for URLs in Tracker backend.

 backends/tracker/lib/trf-persona-store.vala | 6 ++++++
 1 file changed, 6 insertions(+)

commit 38dda59b515d676ec800c13f3dfa95099fd0a8a2
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Aug 26 08:00:32 2011 -0700

    Correctly spell ERROR_VALAFLAGS.

 backends/tracker/lib/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 91e0be11c5ba509e5dc21f559f6b66117ae1868d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Aug 26 07:59:31 2011 -0700

    Don't use ERROR_CFLAGS yet. Vala doesn't guarantee warning-free C.

 folks/Makefile.am | 1 -
 1 file changed, 1 deletion(-)

commit ef36f347ea24cfa3ea35cc5010b4e5ff4ccd878f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Aug 26 07:47:44 2011 -0700

    Use the key-file backend for writes in tests for non-writeable
    backends.

    We could have used the EDS backend, but this helps keep the execution
    of the tests as simple as possible.

    This fixes a bug in the libsocialweb aggregation test where it was
    using the EDS backend from the Aggregator default but its
    FOLKS_BACKEND_STORE_KEY_FILE_PATH didn't include the EDS backend, so
    it had nowhere to store its linking personas.

 tests/libsocialweb/Makefile.am | 1 +
 tests/telepathy/Makefile.am	| 1 +
 2 files changed, 2 insertions(+)

commit 0ae626ee3cedaabc387665193ca40a2739904671
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Fri Aug 26 13:19:59 2011 +0100

    e-d-s: add urls to list of writeable properties

 backends/eds/lib/edsf-persona.vala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 73c6ed7198f4ef41faf229bd56087062ab36e2e2
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Fri Aug 26 11:55:18 2011 +0100

    IndividualAggregator: initialize primary-store property to NULL

 folks/individual-aggregator.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 356b3c729c327b28683de41a6615f7fc0e1ade50
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Fri Aug 26 11:32:05 2011 +0100

    IndividualAggregator: emit notifications for primary-store property

 folks/individual-aggregator.vala | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit a2fc4e5744753462f42df45ab33e390c0b69ccbc
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Fri Aug 26 11:31:25 2011 +0100

    IndividualAggregator: state that the primary-store can be null

 folks/individual-aggregator.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f32af263adbe086653700a17806efbad222fbcff
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Aug 25 15:11:59 2011 -0700

    Hold a pointer to delegates; don't copy them.

 tests/lib/test-case.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 94dca5969265601e9ca8c9ae044e8fe9b3a13214
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Aug 25 15:06:19 2011 -0700

    Use ERROR_VALAFLAGS as intended.

 backends/eds/Makefile.am	       | 1 +
 backends/eds/lib/Makefile.am	       | 1 +
 backends/libsocialweb/Makefile.am     | 1 +
 backends/libsocialweb/lib/Makefile.am | 1 +
 backends/telepathy/Makefile.am        | 1 +
 backends/telepathy/lib/Makefile.am    | 1 +
 backends/tracker/Makefile.am	       | 1 +
 backends/tracker/lib/Makefile.am      | 1 +
 folks/Makefile.am		       | 2 ++
 tests/eds/Makefile.am		       | 1 +
 tests/folks/Makefile.am	       | 1 +
 tests/key-file/Makefile.am	       | 1 +
 tests/lib/Makefile.am		       | 1 +
 tests/lib/eds/Makefile.am	       | 1 +
 tests/lib/key-file/Makefile.am        | 1 +
 tests/lib/libsocialweb/Makefile.am    | 1 +
 tests/lib/tracker/Makefile.am	       | 1 +
 tests/libsocialweb/Makefile.am        | 1 +
 tests/telepathy/Makefile.am	       | 1 +
 tests/tracker/Makefile.am	       | 1 +
 20 files changed, 21 insertions(+)

commit fa38471cd772613c5c78f8bd769c117cb18fcc57
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Aug 25 14:28:06 2011 -0700

    Build tests with extra debug information.

    Notably, this provides gdb with Vala source file line numbers for
    backtraces (which should save a bit of digging through generated C
    files).

    Gdb still lists generated C line numbers for lines farther up the
    stack when there's no obvious Vala line equivalent.

 configure.ac			    | 5 +++++
 tests/eds/Makefile.am		    | 1 +
 tests/folks/Makefile.am	    | 1 +
 tests/key-file/Makefile.am	    | 1 +
 tests/lib/Makefile.am		    | 1 +
 tests/lib/eds/Makefile.am	    | 1 +
 tests/lib/key-file/Makefile.am     | 1 +
 tests/lib/libsocialweb/Makefile.am | 1 +
 tests/lib/tracker/Makefile.am	    | 1 +
 tests/libsocialweb/Makefile.am     | 1 +
 tests/telepathy/Makefile.am	    | 1 +
 tests/tracker/Makefile.am	    | 1 +
 12 files changed, 16 insertions(+)

commit 8e359ce63d151fbb52678e34c47541868b771b77
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Aug 24 10:50:54 2011 -0700

    Add test case for properties race condition.

 tests/eds/Makefile.am		    |	6 ++
 tests/eds/set-properties-race.vala | 174
 +++++++++++++++++++++++++++++++++++++
 2 files changed, 180 insertions(+)

commit 453f694418e4a2325c00f73b449dcd9703c4f365
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Aug 24 21:23:30 2011 +0100

    eds: Tell Vala to not notify of property changes in the setter
    functions

    We only want to notify of property changes when we get notification
    back
    from eds that the change was successful.

 backends/eds/lib/edsf-persona.vala | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 71b46631f5e28190d6bf50348e54de0465174cc1
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Aug 22 20:23:50 2011 +0100

    build: Bump the Vala dependency to 0.13.3

    This is due to commit c0ecad63015078231934e63ec63f02b97defb730.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c0ecad63015078231934e63ec63f02b97defb730
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Mon Aug 22 13:51:28 2011 +0100

    e-d-s: Vala dropped support for reordering GCancellable params

    A couple of e-d-s methods (get_contact, modify_contact,
    get_backend_property, etc) experienced an automatic API
    change in it's Vala binding due to Vala dropping support
    for reordering GCancellable params.

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=657067

 NEWS					  |  1 +
 backends/eds/lib/edsf-persona-store.vala | 35
 ++++++++++++++++----------------
 tests/lib/eds/backend.vala		  | 10 ++++-----
 3 files changed, 24 insertions(+), 22 deletions(-)

commit 28a2ed20d490226711fc0c583a80623da88b01a2
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Aug 21 12:10:22 2011 +0100

    core: Fix some whitespace

 folks/persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b9bb49d6b032d930b666f42bb0f73ad8708d15e6
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Aug 17 15:48:39 2011 +0100

    e-d-s: ignore the type when comparing images

 backends/eds/lib/memory-icon.vala | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 7b595b5f4ae9326680866be204e5d15193b909a7
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Mon Aug 15 13:30:42 2011 +0100

    e-d-s: update the Avatar Details test

    Now that we've reworked avatar handling and we've
    introduced an Avatar cache, the avatars associated
    to a newly created e-d-s contact might not be immediately
    available after the corresponding Edsf.Persona is created.
    Hence we need to listen to notifications for the avatar
    property.

 tests/eds/avatar-details.vala | 30 +++++++++++++++++++++---------
 1 file changed, 21 insertions(+), 9 deletions(-)

commit e3017a4bfc6a6940e2fb91dd8022ab8f817e9cbb
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Aug 4 16:09:12 2011 +0100

    e-d-s: Only set avatar if store_avatar () was successful

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=655374

 backends/eds/lib/edsf-persona.vala | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 8f747c7361bea1eefbae5358df44b161c2f432c4
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Aug 4 16:08:06 2011 +0100

    e-d-s: When an avatar has been removed, set it to null

    Though new_avatar was null, I prefer to even more
    obvious about what is going on.

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=655374

 backends/eds/lib/edsf-persona.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5752726049d9b27af3083f9358a74a29a78e8061
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Aug 4 15:55:09 2011 +0100

    e-d-s: Don't infer we already have an avatar in our cache by its URI

    From libfolks we should discourage using local URIs to
    set an EContactPhoto so even if we get inlined EContactPhoto
    just do a full content comparison.

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=655374

 backends/eds/lib/edsf-persona.vala | 11 -----------
 1 file changed, 11 deletions(-)

commit 19ae7a8f60aa04dc0548a41e6c976c3654709c22
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Aug 4 15:44:28 2011 +0100

    Don't manipulate the Avatar Cache before e-d-s acks changes

    Also, lets set EContactPhotos as INLINED because it doesn't
    make sense to use URIs for local files. In the future, when
    we support gravatars, we'll have to handle the case of
    setting ContactPhotos as URIs for those.

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=655374

 backends/eds/lib/edsf-persona-store.vala | 51
 ++++++++++++++++++--------------
 1 file changed, 29 insertions(+), 22 deletions(-)

commit d7797088fbb5dd1a480e5ffd3b51b406a2409d3d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 28 10:08:09 2011 -0700

    Do Tracker tests last, since they're most likely to fail
    uncontrollably.

    Helps: bgo#655374 - Un-break Tracker avatar tests

 tests/Makefile.am | 2 ++
 1 file changed, 2 insertions(+)

commit 22a72f0579e37a6ddb113846eb373a5c8995cfed
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 26 15:53:02 2011 -0700

    Add utility function to compare LoadableIcon content.

    Unlike the various "equal()" functions for LoadableIcon and related
    classes,
    this function actually compares image content (which can be necessary
    when
    testing vs. images in the avatar cache, which may have a different
    path than an
    otherwise-identical image).

    Helps: bgo#655374 - Un-break Tracker avatar tests

 NEWS				|  1 +
 tests/eds/add-persona.vala	| 24 ++++++-----
 tests/eds/avatar-details.vala	|  8 ++--
 tests/eds/set-avatar.vala	| 13 ++++--
 tests/folks/avatar-cache.vala	| 53 ++++++------------------
 tests/lib/Makefile.am		|  7 ++--
 tests/lib/test-utils.vala	| 94
 ++++++++++++++++++++++++++++++++++++++++++
 tests/tracker/add-persona.vala | 23 +++++++----
 tests/tracker/set-avatar.vala	| 19 +++++----
 9 files changed, 168 insertions(+), 74 deletions(-)

commit 9d7520c898636680b43861551e342a22caed0738
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Aug 17 01:28:50 2011 +0100

    Update NEWS file

 NEWS | 6 ++++++
 1 file changed, 6 insertions(+)

commit 6b98480975464f9cadadd3841bc08ca38b69bd4f
Author: Alexander Larsson <alexl@redhat.com>
Date:	Tue Aug 16 16:53:14 2011 +0200

    eds: Support writing postal addresses as vcards

    https://bugzilla.gnome.org/show_bug.cgi?id=656659

 backends/eds/lib/edsf-persona-store.vala | 39
 ++++++++++----------------------
 1 file changed, 12 insertions(+), 27 deletions(-)

commit 36c967607516279b606d6f2a88c0bb6942aa8a68
Author: Alexander Larsson <alexl@redhat.com>
Date:	Tue Aug 16 14:06:33 2011 +0200

    Generalize Edsf.PersonaStore._set_contact_attributes

    We need to handle non-string field details values when we implement
    postal addresses.

    https://bugzilla.gnome.org/show_bug.cgi?id=656659

 backends/eds/lib/edsf-persona-store.vala | 27 ++++++++++++++++++++-------
 1 file changed, 20 insertions(+), 7 deletions(-)

commit a58f2d813ebb38149c02352e3055ab7dba7d5611
Author: Alexander Larsson <alexl@redhat.com>
Date:	Tue Aug 16 14:06:10 2011 +0200

    Read postal addresses as vcards

    https://bugzilla.gnome.org/show_bug.cgi?id=656659

 backends/eds/lib/edsf-persona.vala | 84
 +++++++++++++++++++++++++++-----------
 1 file changed, 61 insertions(+), 23 deletions(-)

commit 7c2d5de039655b0db66f80a723a3c8d4be9d977d
Author: Alexander Larsson <alexl@redhat.com>
Date:	Tue Aug 16 14:04:44 2011 +0200

    Break out common code in edsf backend

    Most types use the same code to update the vcard params, so we
    can share this code.

    https://bugzilla.gnome.org/show_bug.cgi?id=656659

 backends/eds/lib/edsf-persona.vala | 40
 +++++++++++++++-----------------------
 1 file changed, 16 insertions(+), 24 deletions(-)

commit 0cac5985a3092f29f44491bced0da0569cb7a814
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Aug 16 21:41:47 2011 +0100

    inspect: Ensure to initialise out variables

    This fixes a few compiler warnings.

 tools/inspect/command-signals.vala | 6 ++++++
 tools/inspect/inspect.vala	    | 4 ++++
 tools/inspect/signal-manager.vala  | 5 ++++-
 3 files changed, 14 insertions(+), 1 deletion(-)

commit 718d86b8ec95e85b684816be0e9d4ae5523214fa
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Aug 16 21:41:32 2011 +0100

    core: Fix use of deprecated Vala API

 folks/individual-aggregator.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4ed30316663e913ef1bbf293482b3d093c46aa4d
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Aug 16 19:40:35 2011 +0100

    eds: Don't copy EVCardAttributes at all

    libebook does some icky things with EVCardAttributes it's passed,
    especially
    when calling e_vcard_remove_attribute() (it removes by pointer
    comparison
    and then unconditionally frees the passed-in attribute). Consequently,
    we
    need to do everything we can to avoid copying EVCardAttributes
    unless we
    want double-frees and memory leaks.

 backends/eds/lib/edsf-persona-store.vala | 43
 ++++++++++++++++++--------------
 1 file changed, 24 insertions(+), 19 deletions(-)

commit 96da6b9da72a754597b940c065154e0acf0f1a00
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Tue Aug 16 20:03:03 2011 +0100

    Don't use const string[] , Vala doesn't handle them correctly

 backends/libsocialweb/lib/swf-persona.vala | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit f7767014b984fae5df9b9c0d6b0df5fe10aba360
Author: Alexander Larsson <alexl@redhat.com>
Date:	Tue Aug 16 14:03:17 2011 +0200

    Make sure we pass ENABLE_EDS to vala flags

 folks/Makefile.am | 5 +++++
 1 file changed, 5 insertions(+)

commit c04d74bc561c6870c007ab83e2c406e7d66b28aa
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Aug 14 18:48:37 2011 +0100

    inspect: Remove workarounds for bgo#638363

    See also: bgo#656467.

 tools/inspect/utils.vala | 27 +++++++++------------------
 1 file changed, 9 insertions(+), 18 deletions(-)

commit a5e75fb7624bf0d7de9c5a73dc8decf74a130fbb
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Sat Aug 13 18:58:00 2011 +0200

    Post-release version bump.

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fb0afc67b31c095bbb3916547cd66025a873078c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Sat Aug 13 13:12:22 2011 +0200

    Release version 0.6.0

 backends/eds/eds-backend-factory.vala		    |  4 +-
 backends/eds/eds-backend.vala			    |  2 +-
 backends/eds/lib/edsf-persona-store.vala	    | 22 +++++------
 backends/eds/lib/edsf-persona.vala		    | 46
 +++++++++++-----------
 backends/eds/lib/memory-icon.vala		    | 12 +++---
 backends/key-file/kf-persona.vala		    |  2 +-
 backends/libsocialweb/lib/swf-persona.vala	    |  4 +-
 .../telepathy/lib/tpf-persona-store-cache.vala     |  2 +-
 backends/telepathy/lib/tpf-persona.vala	    |  8 ++--
 backends/tracker/lib/trf-persona.vala		    |  4 +-
 configure.ac					    | 12 +++---
 folks/abstract-field-details.vala		    | 20 +++++-----
 folks/avatar-cache.vala			    | 14 +++----
 folks/avatar-details.vala			    |  2 +-
 folks/email-details.vala			    | 10 ++---
 folks/im-details.vala				    |  8 ++--
 folks/individual.vala				    |  4 +-
 folks/note-details.vala			    |  8 ++--
 folks/object-cache.vala			    | 18 ++++-----
 folks/persona-store.vala			    |  4 +-
 folks/persona.vala				    |  4 +-
 folks/phone-details.vala			    | 14 +++----
 folks/postal-address-details.vala		    |  8 ++--
 folks/presence-details.vala			    |  2 +-
 folks/role-details.vala			    | 12 +++---
 folks/url-details.vala				    |  8 ++--
 folks/utils.vala				    |  6 +--
 folks/web-service-details.vala			    | 10 ++---
 28 files changed, 135 insertions(+), 135 deletions(-)

commit 82e420813ab25e820b6c506c1c8303dbf4e48ea6
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Sat Aug 13 18:27:13 2011 +0200

    Update the checked files for valac requirement.

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 155e7b7de71ae665dcdc66035e7ce4657f1cba09
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Sat Aug 13 17:33:37 2011 +0200

    Distribute EDS test tools.

 tests/tools/Makefile.am | 2 ++
 1 file changed, 2 insertions(+)

commit e551f70ad851d6617c7aaca62b15dd71a48b1376
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Sat Aug 13 13:00:32 2011 +0200

    Un-break Docs.

 folks/email-details.vala | 6 +++---
 folks/role-details.vala  | 2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit f4f596bddedcc64670be03ec2ffa46e0d142a720
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Sat Aug 13 12:33:39 2011 +0200

    Write support for URLs in Edsf.Persona

    Closes: bgo#655609 - Implement setter for URLs

 NEWS					  |   1 +
 backends/eds/lib/edsf-persona-store.vala |  92 +++++++++++++++
 backends/eds/lib/edsf-persona.vala	  |  39 +++++-
 folks/utils.vala			  |  38 ++++++
 tests/eds/Makefile.am			  |   6 +
 tests/eds/set-urls.vala		  | 197
 +++++++++++++++++++++++++++++++
 6 files changed, 370 insertions(+), 3 deletions(-)

commit b86ff783cd81375db8cddf31486d3fcb0deaaa9f
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Aug 13 18:56:30 2011 +0100

    inspect: Fix listing GStrv properties

    We have to work around bgo#656467 for the moment.

 tools/inspect/utils.vala | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 6a2ad10f71fbed2791424e0b753ffeb0910614cf
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Aug 13 18:05:50 2011 +0100

    inspect: Update folks-inspect for the FieldDetails changes

 tools/inspect/utils.vala | 59
 ++++++++++++------------------------------------
 1 file changed, 15 insertions(+), 44 deletions(-)

commit c02fb2a0775449133a9faa9d26cc486cf8ce4683
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Sat Aug 13 12:18:29 2011 +0200

    Make the EDS backend's system address book the default writeable

    Closes: bgo#648818 - Support the EDS backend being a primary

 NEWS				  | 1 +
 folks/individual-aggregator.vala | 7 ++++++-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit bd743c75060b6757855a91df31d69fc7dcd1e6cd
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Sat Aug 13 12:20:02 2011 +0200

    Trivial NEWS clean-up.

 NEWS | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ae161634fb59b3bd0954c48d5b64b5bb2a908cfe
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Aug 11 16:44:53 2011 +0200

    Remove FieldDetails (obsoleted by AbstractFieldDetails and
    implementors)

 folks/Makefile.am			 |   1 -
 folks/field-details.vala		 |  79 --------------
 tests/folks/Makefile.am		 |   8 +-
 tests/folks/abstract-field-details.vala | 180
 ++++++++++++++++++++++++++++++++
 tests/folks/field-details.vala		 | 180
 --------------------------------
 tools/inspect/utils.vala		 |   4 +-
 6 files changed, 186 insertions(+), 266 deletions(-)

commit 3a849aec763faa86f81b16d231cb4a167a3ac701
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Aug 11 16:37:22 2011 +0200

    Support vCard-like parameters for URLs

    Closes: bgo#655922 - Rebase UrlDetails.urls upon an
    AbstractFieldDetails-derived class

 NEWS					     |	3 +-
 backends/eds/lib/edsf-persona.vala	     | 12 ++++---
 backends/libsocialweb/lib/swf-persona.vala  | 25 +++++++-------
 backends/tracker/lib/trf-persona-store.vala | 13 +++----
 backends/tracker/lib/trf-persona.vala	     | 44 ++++++++++++------------
 folks/individual.vala			     | 35 ++++++++++---------
 folks/url-details.vala			     | 53
 ++++++++++++++++++++++++++++-
 tests/tracker/add-persona.vala		     | 11 +++---
 tests/tracker/set-urls.vala		     | 20 +++++------
 9 files changed, 138 insertions(+), 78 deletions(-)

commit b3c63593fde17fbed7e5b57432e755123bc3a59b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Aug 11 13:23:01 2011 +0200

    Support vCard-like parameters for Roles

    Closes: bug#655921 - Change RoleDetails.roles to support vCard-like
    arbitrary parameters

 NEWS					     |	3 ++
 backends/tracker/lib/trf-persona-store.vala | 24 ++++++------
 backends/tracker/lib/trf-persona.vala	     | 32 ++++++++-------
 folks/individual.vala			     | 15 +++----
 folks/role-details.vala		     | 61
 ++++++++++++++++++++++++++++-
 tests/tracker/add-persona.vala		     | 24 ++++++------
 tests/tracker/role-details-interface.vala   |	9 +++--
 tests/tracker/set-roles.vala		     | 26 ++++++------
 8 files changed, 132 insertions(+), 62 deletions(-)

commit eb1d4fd077d5a8489b750d82fde8f13d9a3c8e4b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Aug 9 17:40:41 2011 +0200

    Support vCard-like parameters for web service addresses

    Closes: bgo#653682 - Change WebServiceDetails.web_service_addresses
    to support
    vCard-like arbitrary parameters

 NEWS					     |	4 ++
 backends/eds/lib/edsf-persona-store.vala    | 15 ++++----
 backends/eds/lib/edsf-persona.vala	     | 17 ++++++---
 backends/key-file/kf-persona-store.vala     |	4 +-
 backends/key-file/kf-persona.vala	     | 38 +++++++++++--------
 backends/libsocialweb/lib/swf-persona.vala  | 10 +++--
 backends/tracker/lib/trf-persona-store.vala | 26 +++++++------
 backends/tracker/lib/trf-persona.vala	     | 15 +++++---
 folks/individual-aggregator.vala	     | 17 ++++++---
 folks/individual.vala			     | 17 +++++----
 folks/web-service-details.vala		     | 59
 +++++++++++++++++++++++++++--
 tests/eds/link-personas.vala		     | 30 ++++++++++-----
 12 files changed, 174 insertions(+), 78 deletions(-)

commit 85d4de54bd7d7e83da6dfc3444dbddf8afe0a016
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Aug 9 15:59:16 2011 +0200

    Rebase PhoneDetails.phone_numbers upon PhoneFieldDetails

    Closes: bgo#655920 - Rebase PhoneDetails.phone_numbers upon an
    AbstractFieldDetails-derived class

 NEWS					     |	 4 +
 backends/eds/lib/edsf-persona-store.vala    |	 6 +-
 backends/eds/lib/edsf-persona.vala	     |	16 ++--
 backends/tracker/lib/trf-persona-store.vala |	 6 +-
 backends/tracker/lib/trf-persona.vala	     |	30 +++----
 folks/individual.vala			     |	36 ++++----
 folks/phone-details.vala		     | 125
 +++++++++++++++++-----------
 folks/potential-match.vala		     |	 6 +-
 tests/eds/add-persona.vala		     |	17 ++--
 tests/eds/phone-details.vala		     |	 6 +-
 tests/eds/set-phones.vala		     |	10 ++-
 tests/tracker/add-persona.vala		     |	18 ++--
 tests/tracker/duplicated-phones.vala	     |	20 ++---
 tests/tracker/match-phone-number.vala	     |	20 ++---
 tests/tracker/phone-details-interface.vala  |	 4 +-
 tests/tracker/set-phones.vala		     |	15 ++--
 16 files changed, 189 insertions(+), 150 deletions(-)

commit 9ec659ff09e4facef8b95be2480da57b5f91267a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 8 17:27:04 2011 +0200

    Allow for Individual replacement in the EDS add-persona test.

 tests/eds/add-persona.vala | 59
 ++++++++++++++++++++++++++++++++++++----------
 1 file changed, 47 insertions(+), 12 deletions(-)

commit b8c144844c7012fcc1c49d46a9fc28de5a100aaf
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 8 16:08:36 2011 +0200

    Rebase NoteDetails.notes upon NoteFieldDetails

    Closes: bgo#655919 - Rebase NoteDetails.notes upon an
    AbstractFieldDetails-derived class

 NEWS					     |	4 ++
 backends/eds/lib/edsf-persona-store.vala    |	9 ++--
 backends/eds/lib/edsf-persona.vala	     | 12 +++--
 backends/tracker/lib/trf-persona-store.vala |	8 +--
 backends/tracker/lib/trf-persona.vala	     | 13 ++---
 folks/individual.vala			     | 11 +++--
 folks/note-details.vala		     | 77
 ++++++++++++++++-------------
 tests/eds/add-persona.vala		     | 10 ++--
 tests/eds/set-notes.vala		     |	6 +--
 tests/tracker/add-persona.vala		     | 12 +++--
 tests/tracker/note-details-interface.vala   |	4 +-
 tests/tracker/set-notes.vala		     | 14 +++---
 tools/inspect/utils.vala		     |	3 +-
 13 files changed, 104 insertions(+), 79 deletions(-)

commit 5d111c32f9aeb02785dfafcb362c32c4e592e79e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Aug 3 18:43:17 2011 -0700

    Set the eds backend as the primary for the eds tests.

    This fixes the eds/link-personas test.

 tests/eds/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 9388c1eb0c71735bf750a03248d5f38c96681fd9
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Aug 3 13:49:32 2011 -0700

    Rebase EmailDetails.email_addresses upon EmailFieldDetails

    Closes: bgo#655917 - Rebase EmailDetails.email_addresses upon an
    AbstractFieldDetails-derived class

 NEWS					     |	4 ++
 backends/eds/lib/edsf-persona-store.vala    |	8 ++--
 backends/eds/lib/edsf-persona.vala	     | 16 ++++----
 backends/tracker/lib/trf-persona-store.vala | 10 ++---
 backends/tracker/lib/trf-persona.vala	     | 38 +++++++++---------
 folks/email-details.vala		     | 61
 +++++++++++++++++++++++++++--
 folks/individual.vala			     | 36 ++++++++---------
 tests/eds/add-persona.vala		     |	8 ++--
 tests/eds/set-emails.vala		     |	6 ++-
 tests/tracker/add-persona.vala		     | 11 +++---
 tests/tracker/duplicated-emails.vala	     | 20 +++++-----
 tests/tracker/match-email-addresses.vala    | 20 +++++-----
 tests/tracker/match-known-emails.vala	     | 20 +++++-----
 tests/tracker/remove-persona.vala	     | 11 +++---
 tests/tracker/set-duplicate-email.vala      | 18 ++++-----
 tests/tracker/set-emails.vala		     | 10 ++---
 16 files changed, 182 insertions(+), 115 deletions(-)

commit 57725c31bb2efaf866174cc09c0f60000104e800
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Aug 3 13:47:24 2011 -0700

    Run key-file tests later, since it's a low-priority backend.

 tests/Makefile.am | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 9db66d2cafd3d56065ea66ae7e732c717baf1b31
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Aug 3 13:29:44 2011 -0700

    Run Tracker tests last, since it's a low-priority backend.

    They're also most likely to fail for reasons outside of our control.

 tests/Makefile.am | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit acfb7aad7436fc1d23f86937559b7c9e1fe802dd
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Aug 2 15:12:24 2011 -0700

    Add utility function to compare MultiMaps of AbstractFieldDetails.

 folks/utils.vala | 51 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 51 insertions(+)

commit 7be7bcc26ffe112f5aae83b519408dda13611f01
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jul 22 16:49:40 2011 -0700

    Clarify parameters for PostalAddressOwnerDetails.

 folks/postal-address-details.vala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 171298f67620cf238f42b6d7d53622bbf96bfdee
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 12 11:20:56 2011 -0700

    Add basic equality testing for ImFieldDetails.

    Helps: bug#653680 - Change ImDetails.im_addresses to support
    vCard-like
    arbitrary parameters

 tests/folks/field-details.vala | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 5fa28ed5366fcf9d435fd2b746c6fa5530b26fed
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 14 11:08:43 2011 -0700

    Support vCard-like parameters for IM addresses

    Helps: bug#653680 - Change ImDetails.im_addresses to support
    vCard-like
    arbitrary parameters

 NEWS					     |	3 ++
 backends/eds/lib/edsf-persona-store.vala    | 22 ++++++------
 backends/eds/lib/edsf-persona.vala	     | 27 ++++++++-------
 backends/key-file/kf-persona-store.vala     |	4 +--
 backends/key-file/kf-persona.vala	     | 26 ++++++++------
 backends/libsocialweb/lib/swf-persona.vala  | 10 +++---
 backends/telepathy/lib/tpf-persona.vala     | 23 +++++++++----
 backends/tracker/lib/trf-persona-store.vala | 27 +++++++--------
 backends/tracker/lib/trf-persona.vala	     | 20 ++++++-----
 folks/im-details.vala			     | 53
 ++++++++++++++++++++++++++++-
 folks/individual-aggregator.vala	     |	7 ++--
 folks/individual.vala			     |	7 ++--
 tests/eds/add-persona.vala		     | 18 +++++-----
 tests/eds/im-details.vala		     |	8 +++--
 tests/eds/link-personas.vala		     | 24 ++++++++-----
 tests/eds/set-im-addresses.vala	     | 12 ++++---
 tests/tracker/add-persona.vala		     | 14 ++++----
 tests/tracker/im-details-interface.vala     | 20 +++++++----
 tests/tracker/imaddresses-updates.vala      | 24 +++++++++++--
 tests/tracker/link-personas.vala	     | 20 ++++++-----
 tests/tracker/match-im-addresses.vala	     | 20 ++++++-----
 tests/tracker/set-im-addresses.vala	     | 21 +++++++-----
 22 files changed, 272 insertions(+), 138 deletions(-)

commit 961e0ff5c62e7fda61d14f5664e8d943dc166673
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jul 8 16:35:15 2011 -0700

    Clean up the way the Tracker backend tracks IM addresses.

    Helps: bug#653680 - Change ImDetails.im_addresses to support
    vCard-like
    arbitrary parameters

 backends/tracker/lib/trf-persona.vala | 33
 +++++++++++++++++----------------
 1 file changed, 17 insertions(+), 16 deletions(-)

commit d05681d31a8f60e3daf737ea4fefbc0bc4cfb39e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jul 8 14:14:21 2011 -0700

    Don't spill over 80 characters.

 folks/im-details.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ac0217fabf327e3a04701d33ca75332d1a3bfa06
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 14 11:38:31 2011 -0700

    Support vCard-like parameters for addresses in PostalAddressDetails.

    This also removes the older, less-functional, less-consistent
    PostalAddress.types.

    Helps: bgo#653679 - Change PostalAddressDetails.postal_addresses to
    support vCard-like arbitrary parameters

 NEWS						    |  4 +
 backends/eds/lib/edsf-persona-store.vala	    | 42 +++++-----
 backends/eds/lib/edsf-persona.vala		    | 20 ++---
 backends/tracker/lib/trf-persona-store.vala	    | 25 +++---
 backends/tracker/lib/trf-persona.vala		    | 36 +++++----
 backends/tracker/lib/trf-util.vala		    |  2 +-
 folks/individual.vala				    | 18 +++--
 folks/postal-address-details.vala		    | 93
 +++++++++++++---------
 tests/eds/add-persona.vala			    | 32 ++++----
 tests/eds/postal-address-details.vala		    | 29 +++----
 tests/eds/set-postal-addresses.vala		    | 30 +++----
 tests/lib/eds/backend.vala			    |  3 +-
 tests/tracker/add-persona.vala			    | 29 ++++---
 .../tracker/postal-address-details-interface.vala  | 14 ++--
 tests/tracker/set-postal-addresses.vala	    | 56 ++++++-------
 15 files changed, 241 insertions(+), 192 deletions(-)

commit 13b45043d212db0efe363dd9eab4116e4d715bc7
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 12 11:48:43 2011 -0700

    Add test for parameter equality in FieldDetails.

    Helps: bgo#653679 - Change PostalAddressDetails.postal_addresses to
    support vCard-like arbitrary parameters

 tests/folks/field-details.vala | 48
 ++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 48 insertions(+)

commit 136ae0924b2605580342b60087b2c124819d15a8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 12 11:17:12 2011 -0700

    Add basic equality testing for FieldDetails.

    Helps: bgo#653679 - Change PostalAddressDetails.postal_addresses to
    support vCard-like arbitrary parameters

 tests/folks/field-details.vala | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit a51d03d7366d5803532b3395292ce7137c0b08ef
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jul 15 16:36:33 2011 -0700

    Add parameters as an optional argument to the FieldDetails
    constructor.

    Helps: bgo#653679 - Change PostalAddressDetails.postal_addresses to
    support vCard-like arbitrary parameters

 NEWS			  | 1 +
 folks/field-details.vala | 9 ++++++++-
 2 files changed, 9 insertions(+), 1 deletion(-)

commit 486a993849b4bf6a1bef6937af62e642d4bfbfec
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jul 13 15:35:00 2011 -0700

    Implement FieldDetails.equal()/hash() in terms of the default.

    This allows explicit references to FieldDetails.equal()/hash() for
    structures storing them (in case it changes from the
    AbstractFieldDetails implementation in the future).

    Helps: bgo#653679 - Change PostalAddressDetails.postal_addresses to
    support vCard-like arbitrary parameters

 backends/libsocialweb/lib/swf-persona.vala |  7 +++++--
 backends/tracker/lib/trf-persona.vala	    | 21 +++++++++++++++------
 folks/field-details.vala		    | 20 ++++++++++++++++++++
 folks/individual.vala			    | 20 ++++++++++++++------
 tests/tracker/add-persona.vala		    |  9 ++++++---
 tests/tracker/duplicated-emails.vala	    |  8 ++++++--
 tests/tracker/duplicated-phones.vala	    |  8 ++++++--
 tests/tracker/match-email-addresses.vala   |  8 ++++++--
 tests/tracker/match-known-emails.vala	    |  8 ++++++--
 tests/tracker/match-phone-number.vala	    |  8 ++++++--
 tests/tracker/remove-persona.vala	    |  3 ++-
 tests/tracker/set-duplicate-email.vala     |  8 ++++++--
 tests/tracker/set-emails.vala		    |  4 +++-
 tests/tracker/set-phones.vala		    |  4 +++-
 tests/tracker/set-urls.vala		    |  4 +++-
 15 files changed, 107 insertions(+), 33 deletions(-)

commit 8b08293c7037fffa5a46c540b46900e83d549cfb
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jul 11 17:20:54 2011 -0700

    Add equal() and hash() functions to AbstractFieldDetails.

    Helps: bgo#653679 - Change PostalAddressDetails.postal_addresses to
    support vCard-like arbitrary parameters

 NEWS				   |  2 +
 folks/abstract-field-details.vala | 88
 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 90 insertions(+)

commit af60852d7edb10054621bbfb67134d93cf4dfb1b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 14 16:57:01 2011 -0700

    Centralize parameters to AbstractFieldDetails.

    This cuts some lines of code from the derived classes.

    Helps: bgo#653679 - Change PostalAddressDetails.postal_addresses to
    support vCard-like arbitrary parameters

 folks/abstract-field-details.vala |  4 +++-
 folks/field-details.vala	   | 14 --------------
 2 files changed, 3 insertions(+), 15 deletions(-)

commit 5f0ab0032ba17ce54334387a129ea0ee0f7c64c9
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 7 11:10:58 2011 -0700

    Rebase FieldDetails upon an abstract and generic version of itself.

    This should be useful for cases where the value has a very specific
    type
    (eg, for PostalAddressDetails.postal_addresses). We'll create
    subclasses of
    FieldDetails for those cases.

    When we've created all the appropriate derived classes, we'll remove
    FieldDetails entirely.

    Helps: bgo#653679 - Change PostalAddressDetails.postal_addresses to
    support vCard-like arbitrary parameters

 NEWS					     |	 2 +
 backends/tracker/lib/trf-persona-store.vala |	 4 +-
 folks/Makefile.am			     |	 1 +
 folks/abstract-field-details.vala	     | 169
 ++++++++++++++++++++++++++++
 folks/field-details.vala		     | 122 +++-----------------
 5 files changed, 189 insertions(+), 109 deletions(-)

commit 758aa57c0f5b6acad9d6f5ff056265f97c06ad12
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Aug 9 12:49:31 2011 +0200

    core: Expand the documentation of EmailDetails.email_addresses

 folks/email-details.vala | 4 ++++
 1 file changed, 4 insertions(+)

commit 311fe11ec5d428f9ba99eff481376294f5a6c60e
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Aug 9 12:23:27 2011 +0200

    build: Add VAPI dependencies for eds backend

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4ad8c90f8d2ec38187f2ca45ed826cd12e85b007
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Aug 9 12:23:13 2011 +0200

    core: Fix a typo in NoteDetails documentation

 folks/note-details.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 30ee4db520551b24aca28febc28925445b8edd7a
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Aug 9 12:19:11 2011 +0200

    Bug 653619 — Add company details

    I dislike Tracker, ontologies, Sparql and drinking games.

    Closes: bgo#653619

 NEWS					     |	2 ++
 backends/tracker/lib/trf-persona-store.vala | 25
 ++++++++++++++++++-------
 backends/tracker/lib/trf-persona.vala	     | 16 ++++++++++------
 backends/tracker/lib/trf-util.vala	     |	3 +++
 folks/role-details.vala		     | 20 ++++++++++++++++----
 tests/lib/tracker/backend.vala		     |	6 +++---
 tests/tracker/add-persona.vala		     |	6 +++++-
 tests/tracker/role-details-interface.vala   |	5 +++--
 tests/tracker/set-roles.vala		     |	2 ++
 9 files changed, 62 insertions(+), 23 deletions(-)

commit ab13818cfd05e16eafcf1bf226af36b544641dba
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Aug 7 13:52:40 2011 +0200

    eds: Fix a minor type problem in the add-contacts-stress-test

 tests/eds/add-contacts-stress-test.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 840c63c74effbfe1f6535786e36152905eed8454
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Aug 7 13:36:11 2011 +0200

    build: Build eds backend by default

    Signed-off-by: Raul Gutierrez Segales <rgs@collabora.co.uk>

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5a8328039777be00f44a73bf8c58f45bf1918a88
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Fri Aug 5 19:49:58 2011 +0100

    e-d-s: fix link personas test

    We've changed the way we set up the writeable store in
    commit 5c062183b (bug #654907) and that broke this test.

 tests/eds/link-personas.vala | 2 +-
 tests/lib/eds/backend.vala   | 3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 5beccf217070b20abccb8485b44ca6b4fcc02af4
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Wed Aug 3 10:13:42 2011 +0100

    Don't set a timeout for contacts adding stress test

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=655008

 tests/eds/add-contacts-stress-test.vala | 29
 ++++++++++++++++-------------
 1 file changed, 16 insertions(+), 13 deletions(-)

commit d0e2285d8b82bdd8c314751a6a294c1ac457f208
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Jul 20 22:08:00 2011 +0100

    Bug 655008 — Tidy up error handling in eds backend

    Return more specific error codes from Edsf.PersonaStore methods where
    possible, and in all cases make sure we've got a switch statement
    on the
    incoming error code. Closes: bgo#655008

 NEWS					  |   1 +
 backends/eds/lib/edsf-persona-store.vala | 251
 ++++++++++++++++++++++++++-----
 po/POTFILES.in				  |   1 +
 3 files changed, 212 insertions(+), 41 deletions(-)

commit 4e60d645efa3df5f3f0abd3301aeff0d369227b8
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Aug 2 23:20:07 2011 +0100

    Clarify the documentation of PersonaStore.is_writeable

    Closes: bgo#652657

 NEWS			  |  1 +
 folks/persona-store.vala | 10 ++++++++--
 2 files changed, 9 insertions(+), 2 deletions(-)

commit ca19d32918f94dc4280a3d7a28680f8fecb41cc5
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Aug 2 23:04:58 2011 +0100

    Bug 649296 — Folks backend files shouldn't begin with "lib"

    Rename the backend library files from
    “libfolks-backend-${BACKEND_NAME}.so”
    to “${BACKEND_NAME}.so”.

    Closes: bgo#649296

 NEWS				   |  1 +
 backends/eds/Makefile.am	   | 18 +++++++++---------
 backends/key-file/Makefile.am	   | 16 ++++++++--------
 backends/libsocialweb/Makefile.am | 18 +++++++++---------
 backends/telepathy/Makefile.am    | 18 +++++++++---------
 backends/tracker/Makefile.am	   | 18 +++++++++---------
 configure.ac			   | 12 ++++++------
 7 files changed, 51 insertions(+), 50 deletions(-)

commit a506681228345cb028edfce24193f1baed000781
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Aug 3 21:41:38 2011 +0100

    eds: Minor fixes to documentation comment syntax

 backends/eds/lib/edsf-persona.vala | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit dd1a2268d2a49e6bdb4640c4e353fa0df4fb67b4
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Tue Aug 2 11:47:37 2011 +0100

    e-d-s: add test for Gender property

    Helps: https://bugzilla.gnome.org/show_bug.cgi?id=655745

 tests/eds/Makefile.am	   |   6 ++
 tests/eds/set-gender.vala | 154
 ++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 160 insertions(+)

commit 21abb433ae11eb38305627ee1778e703c281a6b5
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Tue Aug 2 11:45:34 2011 +0100

    e-d-s: Implement read/write support for gender property

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=655745

 NEWS					  |  1 +
 backends/eds/lib/edsf-persona-store.vala | 49 +++++++++++++++++++
 backends/eds/lib/edsf-persona.vala	  | 80
 ++++++++++++++++++++++++++++++--
 3 files changed, 126 insertions(+), 4 deletions(-)

commit 5c062183b8475bc46d7acb7c225e749e992fd3fa
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Thu Jul 21 01:33:50 2011 +0100

    Configure the writeable store by type_id and store id

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=654907

 NEWS				  |  1 +
 folks/individual-aggregator.vala | 44
 ++++++++++++++++++++++++++++++++--------
 folks/persona-store.vala	  |  8 +++++++-
 3 files changed, 44 insertions(+), 9 deletions(-)

commit dbca13c608291a69c2cc7abdfd0b0422336d475c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Aug 2 10:48:53 2011 -0700

    Add rules for uploading generated docs to freedesktop.org

    In the future, we should copy the remaining rules from
    telepathy-glib's setup,
    which restrict doc uploads to releases (as well as simplifying other
    details of
    releases).

 Makefile.am	  |  3 +++
 docs/Makefile.am | 30 ++++++++++++++++++++++++++++++
 2 files changed, 33 insertions(+)

commit df1bd099428cf825b3a44f28233b99df57db781e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 1 15:16:26 2011 -0700

    Build eds docs along with others.

 docs/Makefile.am | 69
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 69 insertions(+)

commit 599f72029bd975699163fcc8f1c470675f48e269
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 1 15:31:04 2011 -0700

    Fix syntax error in valadoc for Edsf.PersonaStore.remove_persona.

 backends/eds/lib/edsf-persona-store.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c58fc08f7585b0eff8f9b03cbae563977f259452
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 1 15:25:04 2011 -0700

    Fix syntax error in valadoc for Edsf.PersonaStore.prepare.

 backends/eds/lib/edsf-persona-store.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cae9ceeaf1981fcb8b398ab90c902409857e17c9
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 1 15:21:18 2011 -0700

    Fix link in Edsf.Persona docs to Folks.AvatarDetails.avatar.

 backends/eds/lib/edsf-persona.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fdafc1e6eb1a43728e43f8742b8e74fcae901872
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 1 14:43:18 2011 -0700

    Build libsocialweb docs along with others.

 docs/Makefile.am | 72
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 72 insertions(+)

commit fe7eedef675366b10cdfeba3060ee8ef7f60b648
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 1 14:58:25 2011 -0700

    Fix link in Swf.Persona docs to Folks.AvatarDetails.avatar.

 backends/libsocialweb/lib/swf-persona.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 63e1ea7613e8e8ffa757dac59b958fd90d0c69e1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 1 15:22:12 2011 -0700

    Fix link in Trf.Persona docs to Folks.AvatarDetails.avatar.

 backends/tracker/lib/trf-persona.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 038d5c7c677cd41c745b4c92a7d1d44441e73c01
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 1 15:01:16 2011 -0700

    Centralize .PHONY doc targets.

 docs/Makefile.am | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit e12c911c050b1b2c77ef51323535d21672056f2a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 1 14:45:17 2011 -0700

    Centralize definition of doc dirs to distclean.

 docs/Makefile.am | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit baabc922f641f07d36fb0696bab24e9a15708d20
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 1 14:16:39 2011 -0700

    Bump the required version of valadoc.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5d5edb05b975ca79263dec21226cd4d3de057388
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 1 14:16:24 2011 -0700

    Actually check for the valadoc version when building docs.

 configure.ac | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit a2fc4d9ac2415ec132654f0d436a5ae8abf75b15
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 1 14:09:10 2011 -0700

    Work around valadoc parsing bug with indented comments.

 folks/phone-details.vala | 1 +
 1 file changed, 1 insertion(+)

commit 7b68c5477f06ede33e693b6ed7cab3dc92263221
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Mon Aug 1 19:31:37 2011 +0100

    Give public access to properties for which there is write support

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=655610

 NEWS				       | 1 +
 backends/eds/lib/edsf-persona.vala    | 8 ++++----
 backends/tracker/lib/trf-persona.vala | 2 +-
 3 files changed, 6 insertions(+), 5 deletions(-)

commit 3772e17cf78775bf12e1527c9625973e0ab1354b
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Mon Aug 1 18:52:14 2011 +0100

    Make the Edsf.Persona class follow our coding style

    Besides adhering to our coding style, this also
    works around a bug in Vala that allows accessing

    public string foo { get; set; }

    through _foo.

    Works around: https://bugzilla.gnome.org/show_bug.cgi?id=655741

 backends/eds/lib/edsf-persona.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 470428fc92f0b264b2cd7b0158f0e5320d1e7671
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Fri Jul 29 20:44:50 2011 +0100

    core: Remove unused PotentialMatch.result_to_string() method

 NEWS			    |  1 +
 folks/potential-match.vala | 29 -----------------------------
 2 files changed, 1 insertion(+), 29 deletions(-)

commit c93131b6d4d9226dd4d78c2ba58548a8e5c315f0
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Fri Jul 29 20:06:55 2011 +0100

    docs: Fix up lots of minor issues in the documentation comments

 backends/eds/lib/memory-icon.vala |   4 +-
 folks/avatar-cache.vala	   |   4 +-
 folks/avatar-details.vala	   |   2 +-
 folks/individual-aggregator.vala  |  12 +++++
 folks/individual.vala		   |   4 +-
 folks/name-details.vala	   |   1 +
 folks/note-details.vala	   |   9 +++-
 folks/object-cache.vala	   |  22 +++++---
 folks/persona-store.vala	   | 105
 +++++++++++++++++++++++++++++++++++++-
 folks/phone-details.vala	   |  19 +++++--
 folks/postal-address-details.vala |  16 +++++-
 folks/potential-match.vala	   |  32 ++++++++++++
 folks/role-details.vala	   |  12 ++++-
 folks/utils.vala		   |  11 ++++
 14 files changed, 228 insertions(+), 25 deletions(-)

commit 556fb7b3a76a2a4980aad1b9b4eb044bcb5478c3
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Fri Jul 29 17:24:59 2011 +0100

    core: Make PotentialMatch.jaro_dist() private

 folks/potential-match.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7af3da6ca4342e1f951e29962bf63ccebcb69213
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Jul 27 23:44:43 2011 +0100

    inspect: Add a linking command

 tools/inspect/Makefile.am	    |	1 +
 tools/inspect/command-linking.vala | 280
 +++++++++++++++++++++++++++++++++++++
 tools/inspect/inspect.vala	    |	1 +
 3 files changed, 282 insertions(+)

commit e532982f321ff623a476d6c211eba2895dc14199
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Jul 27 23:43:14 2011 +0100

    individual: Fix linking when personas are moved between individuals
    weirdly

    It's possible (likely, even) for a set of personas to move between two
    individuals during linking. Previously, bad things would happen to
    persona.individual if the personas weren't correctly removed from
    the first
    individual before being added to the second (e.g. if they were added
    to the
    second individual before being removed from the first). This fixes
    that.

 folks/individual.vala | 15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit f1e44427cfcda0a61dd0024deaf66abf0e8d98cf
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Jul 26 22:56:44 2011 +0100

    tests: Add a basic refcounting test for linked individuals

 tests/folks/aggregation.vala | 144
 +++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 144 insertions(+)

commit 512bf8aff81106e3be92cb532079a3ef5f56c23a
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Jul 26 22:32:51 2011 +0100

    individual: Add more debug output to Individual

 folks/individual.vala | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 67cf88527d96fcc345c18d5c3bf974f7fb11ae48
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Jul 25 22:58:15 2011 +0100

    aggregator: Ensure we don't remove Personas we're adding

    If a two Personas with the same UID are in the added and removed
    sets for a
    single call to personas_changed_cb() in the individual aggregator,
    make sure
    that we remove the old instance and replace it with the new instance,
    instead
    of just removing both instances. This covers the case where the
    real instance
    of a (Tpf.) Persona disappears and is immediately replaced by
    its cached
    copy.

    NOTE: This needs more testing.

 folks/individual-aggregator.vala | 19 +++++++++++++------
 1 file changed, 13 insertions(+), 6 deletions(-)

commit 5b90ebe8fde8229f30f56ea78feff17cea70ed34
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Thu Jun 16 18:35:52 2011 +0100

    Bug 652643 — Add PersonaStore cache

    Use ObjectCache in Tpf.PersonaStore.

    Closes: bgo#652643

 NEWS						    |	1 +
 backends/telepathy/lib/Makefile.am		    |	1 +
 .../telepathy/lib/tpf-persona-store-cache.vala     | 154
 +++++++++++++++++++++
 backends/telepathy/lib/tpf-persona-store.vala	    | 121 +++++++++++++++-
 backends/telepathy/lib/tpf-persona.vala	    |  66 ++++++++-
 5 files changed, 335 insertions(+), 8 deletions(-)

commit 776adae7b0e61ef5d542d992d5819bcacadce70d
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Thu Jun 16 18:33:26 2011 +0100

    Add a generic caching object to the core of folks

    This adds the ObjectCache API.

    Helps: bgo#652643

 NEWS			       |   1 +
 folks/Makefile.am	       |   1 +
 folks/object-cache.vala       | 403 +++++++++++++++++++++++++++++++
 tests/folks/Makefile.am       |   6 +
 tests/folks/object-cache.vala | 544
 ++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 955 insertions(+)

commit f84d14b88ea1aceee2f3586593a967fcb87ef181
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Thu Jun 16 18:32:06 2011 +0100

    Unset the self-contact on Tpf.PersonaStore when resetting the store

 backends/telepathy/lib/tpf-persona-store.vala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 3862f876a9bef82f4fcf838a00c81ef5c57ae353
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Jun 13 10:54:23 2011 +0100

    Bug 650414 — Need better APIs to handle image data

    Change AvatarDetails.avatar to have type LoadableIcon. By introducing
    a libfolks-wide avatar cache, propagate this change to all the
    backends.

    This breaks the API of AvatarDetails.

    Closes: bgo#650414

 NEWS					     |	 3 +
 backends/eds/lib/Makefile.am		     |	 1 +
 backends/eds/lib/edsf-persona-store.vala    |	89 +++-----
 backends/eds/lib/edsf-persona.vala	     | 155 +++++++-------
 backends/eds/lib/memory-icon.vala	     | 133 ++++++++++++
 backends/libsocialweb/lib/swf-persona.vala  |	14 +-
 backends/telepathy/lib/tpf-persona.vala     |	13 +-
 backends/tracker/lib/trf-persona-store.vala |	56 ++++--
 backends/tracker/lib/trf-persona.vala	     |	24 ++-
 folks/Makefile.am			     |	 1 +
 folks/avatar-cache.vala		     | 222 ++++++++++++++++++++
 folks/avatar-details.vala		     |	 7 +-
 folks/individual.vala			     |	 8 +-
 tests/eds/add-persona.vala		     |	23 +--
 tests/eds/avatar-details.vala		     |	20 +-
 tests/eds/set-avatar.vala		     |	23 +--
 tests/folks/Makefile.am		     |	 8 +
 tests/folks/avatar-cache.vala		     | 301
 ++++++++++++++++++++++++++++
 tests/tracker/add-persona.vala		     |	 9 +-
 tests/tracker/avatar-details-interface.vala |	34 +---
 tests/tracker/avatar-updates.vala	     |	27 ++-
 tests/tracker/set-avatar.vala		     |	 6 +-
 tools/inspect/utils.vala		     |	16 +-
 23 files changed, 915 insertions(+), 278 deletions(-)

commit 7fcf7cdbfe565b81a6d7e7b9f6e6cc9aed667a8a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 21 07:46:38 2011 -0700

    Add missing copyright/license notices to tests.

 tests/folks/aggregation.vala			 | 19 +++++++++++++++++++
 tests/folks/backend-loading.vala		 | 19 +++++++++++++++++++
 tests/folks/field-details.vala			 | 19 +++++++++++++++++++
 tests/key-file/individual-retrieval.vala	 | 19 +++++++++++++++++++
 tests/telepathy/individual-properties.vala	 | 19 +++++++++++++++++++
 tests/telepathy/individual-retrieval.vala	 | 19 +++++++++++++++++++
 tests/telepathy/persona-store-capabilities.vala | 19 +++++++++++++++++++
 7 files changed, 133 insertions(+)

commit fd49b5957ce971196537d0f877f235df25128735
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jul 20 11:28:40 2011 -0700

    Don't notify twice for EDS Persona nickname changes.

    Closes: bgo#655019 - Don't notify twice for nickname changes

 NEWS				    | 1 +
 backends/eds/lib/edsf-persona.vala | 4 ----
 2 files changed, 1 insertion(+), 4 deletions(-)

commit 7a9bc474fba6c3c7c03ef52ddea2f2bea008d5c2
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jul 20 11:28:12 2011 -0700

    Return early when setting an Edsf.Persona attribute to its current
    value.

    Helps: bgo#655019 - Don't notify twice for nickname changes

 backends/eds/lib/edsf-persona-store.vala | 68
 ++++++++++++++++++++++++++++++++
 1 file changed, 68 insertions(+)

commit dbca8f7fe23a36925c7263e1e51e58f7c096b1e0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 21 13:16:08 2011 -0700

    Allow Edsf.PersonaStore._set_*name() sname arg to be null.

    Helps: bgo#655019 - Don't notify twice for nickname changes

 backends/eds/lib/edsf-persona-store.vala | 17 ++++++++++-------
 1 file changed, 10 insertions(+), 7 deletions(-)

commit 06ca1405ba73ee1563a54fcacf82591efd9ef004
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 21 13:14:15 2011 -0700

    Allow Edsf.PersonaStore._set_*avatar() avatar arg to be null.

    Helps: bgo#655019 - Don't notify twice for nickname changes

 backends/eds/lib/edsf-persona-store.vala | 16 ++++++++++------
 1 file changed, 10 insertions(+), 6 deletions(-)

commit b5c35cc3dbd331367fa67ff8846e0ea229391789
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jul 20 11:29:57 2011 -0700

    Make Folks.Utils public and add Gee structure equality checking.

    Helps: bgo#655019 - Don't notify twice for nickname changes

 NEWS			 |  1 +
 folks/utils.vala	 | 44 ++++++++++++++++++++++++++--
 tests/folks/Makefile.am |  6 ++++
 tests/folks/utils.vala  | 78
 +++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 127 insertions(+), 2 deletions(-)

commit a69aa8ce9b38401b8944dd4077ede6cb2ed1afb8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 21 09:41:58 2011 -0700

    Update for 142f9b74: make Individual.calendar_event_id nullable

 folks/individual.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dcc8a4b39ee357fbbf42b98bffb2d6dc848d5f51
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jul 20 11:29:45 2011 -0700

    Un-break the EDS PersonaStore test for groups.

 tests/eds/persona-store-tests.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 142f9b742847e907425b44070b46960dcb1b208f
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Jul 10 19:52:03 2011 +0100

    Make BirthdayDetails.calendar_event_id nullable

    This includes expanding its documentation a little.

 NEWS				       | 1 +
 backends/tracker/lib/trf-persona.vala | 2 +-
 folks/birthday-details.vala	       | 6 ++++--
 3 files changed, 6 insertions(+), 3 deletions(-)

commit 6c03cceabb64ab2282ee58d90ca6e7063ab3bb60
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Jul 10 19:43:20 2011 +0100

    Fix visibility of TrfPersona.postal_addresses setter

 backends/tracker/lib/trf-persona.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0aec7fb049e7490a279f6c4ff22c9d0ed0673cf3
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Jul 10 19:42:25 2011 +0100

    Add a default implementation of TrfPersona.calendar_event_id

    It was missing; it might as well return a sensible default value
    and not
    allow setting of the value rather than doing nothing.

 backends/tracker/lib/trf-persona.vala | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit c81a0d85d254bf80ffefb5f87eb19422894ff21b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Jul 10 19:41:46 2011 +0100

    Fix visibility of TpfPersona.avatar and SwfPersona.avatar setters

 backends/libsocialweb/lib/swf-persona.vala | 2 +-
 backends/telepathy/lib/tpf-persona.vala    | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 22d9011bf6d1c35e79bb2b88c5546fe008542c20
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Jul 10 19:41:23 2011 +0100

    Minor documentation fix for SwfPersona.avatar

 backends/libsocialweb/lib/swf-persona.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2483721d1e6f97c37c9fefb830d28e7187bcd7a5
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Jul 10 19:38:16 2011 +0100

    Bug 650422 — Add API for easily checking whether details are
    writeable

    Add Persona.writeable_properties, listing the properties of that
    Persona
    for which updated values will be stored. It's intended that the
    property
    value will be constant for a given Persona subclass, but this isn't
    guaranteed; it's possible that Persona subclasses may vary the
    value of
    writeable-properties at run time in future.

    Closes: bgo#650422

 NEWS					    |  3 +++
 backends/eds/lib/edsf-persona.vala	    | 25 +++++++++++++++++++++++++
 backends/key-file/kf-persona.vala	    | 16 ++++++++++++++++
 backends/libsocialweb/lib/swf-persona.vala | 11 +++++++++++
 backends/telepathy/lib/tpf-persona.vala    | 16 ++++++++++++++++
 backends/tracker/lib/trf-persona.vala	    | 28
 ++++++++++++++++++++++++++++
 folks/persona.vala			    | 15 +++++++++++++++
 7 files changed, 114 insertions(+)

commit 1c2329ec8032d3614e9a9b02e7b0b3166e62529c
Author: Tiffany Antopolski <tiffany@antopolski.com>
Date:	Wed Jul 20 15:48:01 2011 +0200

    Minor style change in presence-details.vala

    Moved left brace of enum from end of line
    to start of next line to match Folks style.

 folks/presence-details.vala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 629aa199668b32ff33452d9d22985e21193c6e4f
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Jul 3 20:38:29 2011 +0100

    Bug 645549 — Add a way to get the individual from a persona

    Add a Persona.individual property which is updated by
    Individual._connect_to_persona() and ._disconnect_from_persona() as
    appropriate, so should remain in lock-step with the Individual
    whose persona
    set the Persona instance is currently in.

    Closes: bgo#645549

 NEWS		       |  2 ++
 folks/individual.vala |  9 +++++++--
 folks/persona.vala    | 29 +++++++++++++++++++++++++++++
 3 files changed, 38 insertions(+), 2 deletions(-)

commit 21b750e58f6ba3c00fdb550a56669dd6395ea824
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Jul 3 20:18:33 2011 +0100

    Ensure that all modifications of Individual.personas happen in
    _set_personas()

    This ensures that signals are handled consistently, and the overall
    internal
    state of the Individual is kept consistent. This probably also
    fixes the
    implementation of store_removed signal handling for Individuals,
    which looked
    rather broken.

 folks/individual.vala | 50
 +++++++++++++++++---------------------------------
 1 file changed, 17 insertions(+), 33 deletions(-)

commit 61a22e725900c0a002357abb06b33746836c11ad
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Jul 10 18:44:31 2011 +0100

    Fix the error domain of PersonaStore.remove_persona()

 NEWS			  | 2 ++
 folks/persona-store.vala | 3 ++-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 7ca922ad06ca2ff9b46e4d8f745a7dd42e2668cd
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Jul 10 18:41:25 2011 +0100

    Bug 652425 — Failure codes for removing personas needed in
    PersonaStoreError

    Add PersonaStoreError.PERMISSION_DENIED and
    PersonaStoreError.REMOVE_FAILED,
    which will be useful for the e-d-s backend.

    Closes: bgo#652425

 NEWS			  |  2 ++
 folks/persona-store.vala | 16 ++++++++++++++++
 2 files changed, 18 insertions(+)

commit 4c027da00b91723c04ce0195dbcdcf334483b02b
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sat Jun 25 10:13:01 2011 +0100

    Remove  AliasDetails support from Trf.Persona

    The persona's alias was being stored as its nickname. Since we want
    to make
    nicknames writeable (bgo#652048) we have to store the nickname there
    instead. There's no ontology for storing aliases, so AliasDetails
    support
    has to be dropped.

    Closes: bgo#652048 — Make Individual.nickname writeable

 NEWS					     |	 2 +
 backends/tracker/lib/trf-persona-store.vala |	18 +--
 backends/tracker/lib/trf-persona.vala	     |	38 ++----
 tests/tracker/Makefile.am		     |	 8 +-
 tests/tracker/add-persona.vala		     |	16 +--
 tests/tracker/set-alias.vala		     | 173
 ----------------------------
 tests/tracker/set-nickname.vala	     | 167
 +++++++++++++++++++++++++++
 7 files changed, 201 insertions(+), 221 deletions(-)

commit b01fae00ac721b89c4cce6e3eb353b8f0bbe98b8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 19 09:03:59 2011 -0700

    Support nickname writability in the EDS backend.

    Helps: bgo#652048 — Make Individual.nickname writeable

 backends/eds/lib/edsf-persona-store.vala |  14 +++
 backends/eds/lib/edsf-persona.vala	  |  14 ++-
 tests/eds/Makefile.am			  |  10 +-
 tests/eds/set-full-name.vala		  | 149 ------------------------
 tests/eds/set-names.vala		  | 193
 +++++++++++++++++++++++++++++++
 5 files changed, 225 insertions(+), 155 deletions(-)

commit d3b636b525dbfd9c50a8fcbab0f82777042e3aa0
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sat Jun 25 10:11:39 2011 +0100

    Allow NameDetails.nickname to be writeable

    Helps: bgo#652048 — Make Individual.nickname writeable

 NEWS					    |  1 +
 backends/libsocialweb/lib/swf-persona.vala |  6 +++-
 folks/individual.vala			    | 53
 ++++++++++++++++++++++++++++--
 folks/name-details.vala		    |  6 +++-
 folks/persona-store.vala		    |  6 +++-
 5 files changed, 66 insertions(+), 6 deletions(-)

commit 120b058f7d40e879136a84df8975ffdd305ce6ac
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jul 18 16:09:53 2011 -0700

    Un-break parallel building the eds backend.

    It would fail after a maintainer-clean or distclean with:

    make[4]: *** No rule to make target `folks-eds.vapi', needed by
    `all-am'.
      Stop.
    make[4]: *** Waiting for unfinished jobs....

    This is because we were setting VALAFLAGS, which was overriding the
    definition from configure.ac and generally causing havok.

 backends/eds/lib/Makefile.am | 24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit fdd7a11e32f28e02e7a4d823d1b8e842948ed37a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jul 18 15:07:48 2011 -0700

    Cut unreachable libsocialweb test code.

 tests/libsocialweb/dummy-lsw.vala | 1 -
 1 file changed, 1 deletion(-)

commit d4931a0105291eb87ee127d88e79f5c166eba938
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Jul 13 23:06:50 2011 +0100

    eds: Add support for contact groups/categories

 backends/eds/lib/edsf-persona-store.vala |  64 ++++++++++++++++++-
 backends/eds/lib/edsf-persona.vala	  | 104
 +++++++++++++++++++++++++++++++
 2 files changed, 167 insertions(+), 1 deletion(-)

commit 6bf6d1391ef180e6129dbade8c781e7048c3e405
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Jul 13 23:04:45 2011 +0100

    eds: Mark read-only address books as non-addable-to and
    non-removable-from

 backends/eds/lib/edsf-persona-store.vala | 38
 +++++++++++++++++++++++++++++---
 1 file changed, 35 insertions(+), 3 deletions(-)

commit 4e5a08f35b83073637ccf3eb18d10bf8687b8bdb
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Jul 13 23:02:52 2011 +0100

    eds: Fix persona store removal in the Backend

    Embarrassing typo.

 backends/eds/eds-backend.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7ae86b48978223518cb101cf2f404da65acabfc2
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Jul 13 23:01:55 2011 +0100

    inspect: Don't print details of unprepared persona stores

    We're not supposed to, and they're not very useful anyway. Instead,
    we now
    print a message saying that the persona store is not prepared.

 tools/inspect/utils.vala | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 12c288af21d74ff985f419088c7a86518df7b00c
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Jul 13 19:30:01 2011 +0100

    eds: Fix linker warnings for the e-d-s backend tests

 tests/lib/eds/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 047baeab0b6ecf084c8e4bbf89bd3049cf6cb66c
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Jul 13 19:29:46 2011 +0100

    eds: Fix a variable's visibility in the e-d-s Backend

    This also takes the opportunity to s/addressbook/address book/
    an environment
    variable, since the official GNOME terminology is “address book”
    rather than
    “addressbook”.

 backends/eds/eds-backend.vala | 6 +++---
 tests/lib/eds/backend.vala    | 6 +++---
 2 files changed, 6 insertions(+), 6 deletions(-)

commit cac0b5fb5f97d09d7b3c759364913686e3e2b308
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Jul 13 19:28:38 2011 +0100

    eds: Tidy up the e-d-s Backend.unprepare() method

    This makes sure we disconnect from all the right signals, and
    abstracts
    adding and removing address books out into a single pair of methods.

 backends/eds/eds-backend.vala | 43
 ++++++++++++++++++++++++++++++-------------
 1 file changed, 30 insertions(+), 13 deletions(-)

commit be711b284c7b22851595aca9fe499e373012dd77
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 12 17:01:36 2011 -0700

    Update NEWS for bgo#654509.

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit c0c13908446c3873f93cd2d125f29e39146aae3e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 12 17:00:08 2011 -0700

    Bump required version of Vala (needed for EDS).

    Closes: bgo#654509 - Folks master not building

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b6aaf7d8245e08610e1dda582e9f25342a272714
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 12 14:59:08 2011 -0700

    Set the backend name for the EDS backend.

 backends/eds/Makefile.am     | 2 ++
 backends/eds/lib/Makefile.am | 2 ++
 2 files changed, 4 insertions(+)

commit 0bc59d3dd657329e13ec66180974d5c12e6d244d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 12 14:56:09 2011 -0700

    Tidy up EDS CLEANFILES.

 backends/eds/lib/Makefile.am | 7 -------
 1 file changed, 7 deletions(-)

commit bbfd558f7670170fc30c4bd854a7cafbc11a4de4
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 12 14:50:26 2011 -0700

    Re-locate the EDS headers.

    This is related to bgo#649790 - Vala uses the wrong includes

 backends/eds/Makefile.am	  | 1 +
 backends/eds/lib/Makefile.am	  | 7 ++++---
 backends/eds/lib/folks-eds.pc.in | 2 +-
 3 files changed, 6 insertions(+), 4 deletions(-)

commit c83a8c220658f5d27b9d9fb916df7cac9e86f1b3
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Jul 12 20:23:47 2011 +0100

    eds: Add source list change notification to the eds backend

    This means that Edsf.PersonaStores can come and go at run time.

    This also adds a little bit of debug output to the eds Backend.

 backends/eds/eds-backend.vala | 96
 +++++++++++++++++++++++++++++++++----------
 1 file changed, 75 insertions(+), 21 deletions(-)

commit 202cdad7b57a3e15ff8c1f48bf576508f5bd2fb5
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Jul 12 20:23:22 2011 +0100

    eds: Ensure that errors are thrown by Edsf.PersonaStore.prepare()
    properly

 backends/eds/lib/edsf-persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 31f40df6da4766401b576635a8a632db84ee0a01
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Tue Jul 12 19:00:00 2011 +0100

    Add an EDS backend

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=638281

 NEWS					      |   1 +
 backends/Makefile.am			      |   5 +
 backends/eds/Makefile.am		      |  67 +++
 backends/eds/backend.mk		      |   1 +
 backends/eds/eds-backend-factory.vala	      |  64 +++
 backends/eds/eds-backend.vala		      | 178 ++++++
 backends/eds/lib/Makefile.am		      | 116 ++++
 backends/eds/lib/edsf-persona-store.vala     | 811
 +++++++++++++++++++++++++++
 backends/eds/lib/edsf-persona.vala	      | 806
 ++++++++++++++++++++++++++
 backends/eds/lib/folks-eds-uninstalled.pc.in |  12 +
 backends/eds/lib/folks-eds.deps	      |   6 +
 backends/eds/lib/folks-eds.pc.in	      |  15 +
 configure.ac				      |  37 +-
 tests/Makefile.am			      |   5 +
 tests/eds/Makefile.am			      | 211 +++++++
 tests/eds/add-contacts-stress-test.vala      | 200 +++++++
 tests/eds/add-persona.vala		      | 394 +++++++++++++
 tests/eds/avatar-details.vala		      | 154 +++++
 tests/eds/data/backend-eds-only.ini	      |   5 +
 tests/eds/email-details.vala		      | 210 +++++++
 tests/eds/im-details.vala		      | 169 ++++++
 tests/eds/individual-retrieval.vala	      | 143 +++++
 tests/eds/link-personas.vala		      | 408 ++++++++++++++
 tests/eds/name-details.vala		      | 220 ++++++++
 tests/eds/persona-store-tests.vala	      | 214 +++++++
 tests/eds/phone-details.vala		      | 214 +++++++
 tests/eds/postal-address-details.vala	      | 177 ++++++
 tests/eds/remove-persona.vala		      | 203 +++++++
 tests/eds/removing-contacts.vala	      | 135 +++++
 tests/eds/set-avatar.vala		      | 167 ++++++
 tests/eds/set-emails.vala		      | 154 +++++
 tests/eds/set-full-name.vala		      | 149 +++++
 tests/eds/set-im-addresses.vala	      | 156 ++++++
 tests/eds/set-notes.vala		      | 155 +++++
 tests/eds/set-phones.vala		      | 154 +++++
 tests/eds/set-postal-addresses.vala	      | 166 ++++++
 tests/eds/set-structured-name.vala	      | 151 +++++
 tests/eds/updating-contacts.vala	      | 156 ++++++
 tests/lib/Makefile.am			      |   5 +
 tests/lib/eds/Makefile.am		      |  56 ++
 tests/lib/eds/backend.vala		      | 291 ++++++++++
 tests/tools/eds.sh			      |  25 +
 tests/tools/with-session-bus-eds.sh	      |  44 ++
 43 files changed, 7009 insertions(+), 1 deletion(-)

commit ec2595451425f5f0f8555f62330d431fd902b273
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 7 11:12:43 2011 -0700

    Fix the valadoc string for FieldDetails.value.

 folks/field-details.vala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ad06533f4035e19cda7a21c23ede10a06c35de60
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Thu Jun 30 18:55:41 2011 +0100

    Bug 653746 — mismatch between hash and equals in Note

    Ensure that Note instances compare equal iff their UIDs are equal
    (as well as
    iff their contents are equal).

    Closes: bgo#653746

 NEWS			 | 1 +
 folks/note-details.vala | 5 +++--
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 73d440d2e08398baf9c7150ddefc3358234c1bc7
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Jul 2 20:43:21 2011 +0100

    Re-add a dependency on dbus-glib for the Telepathy test library

    Files in tests/lib/telepathy/contactlist/ still use dbus-glib,
    and have to
    because they're also using telepathy-glib.

 configure.ac | 1 +
 1 file changed, 1 insertion(+)

commit c6fade51f5dd53cd91a52fa9f0ffa88203c8b065
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jun 30 16:03:24 2011 -0700

    Fix a typo in the IndividualAggregator.individuals_changed docs.

 folks/individual-aggregator.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9b4e626c637ec0f030abc577b4087b5505a35033
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jun 24 10:04:54 2011 -0700

    Make valadoc a hard dependency when using --enable-docs

    Closes: bgo#653325 — Build system does not complain if trying to
    build docs
    without vala-doc installed

 NEWS	      | 2 ++
 configure.ac | 4 ++++
 2 files changed, 6 insertions(+)

commit 5b8e4e245a8dbaaee05b1529acddce63089bf498
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Jun 13 14:25:20 2011 +0100

    Bug 652449 — Folks.Individual's property getters should be read only

    Make the getters of container types in Folks.Individual return
    read-only
    views of the containers.

    Closes: bgo#652449

 NEWS		       |  1 +
 folks/individual.vala | 53
 +++++++++++++++++++++++++++++++++++----------------
 2 files changed, 38 insertions(+), 16 deletions(-)

commit 0933f3295ecc6a573dffbefddb26def0e3ff18d5
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jun 24 09:27:03 2011 -0700

    Cut meaningless 'Tests' output from configure.

 configure.ac | 1 -
 1 file changed, 1 deletion(-)

commit bdc5313dd94b26c208098ce59a7a6ddcdaad2f4b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jun 24 08:21:54 2011 -0700

    Fix the configure output for docs.

    Based upon a couple issues raised in bgo#653325

 configure.ac | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6ffb9775808386369c9a1fd45a072f404d410330
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Jun 15 18:44:18 2011 +0100

    Bug 652660 — Make Individual.id more stable and well-defined

 NEWS					    |  1 +
 folks/individual.vala			    | 60
 +++++++++++++++++++++++++---
 tests/folks/aggregation.vala		    | 64
 ++++++++++++++++++++----------
 tests/telepathy/individual-properties.vala | 17 ++++----
 tests/telepathy/individual-retrieval.vala  | 37 +++++++++++------
 5 files changed, 132 insertions(+), 47 deletions(-)

commit daf213dc62ee123ab7010edcb18c368d3969a513
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 22 16:05:58 2011 -0700

    Don't make the folks-telepathy docs depend directly upon dbus-glib.

    Closes: bgo#629716 - Migrate Folks to GDBus

 NEWS		  | 1 +
 docs/Makefile.am | 1 -
 2 files changed, 1 insertion(+), 1 deletion(-)

commit e2b872732403113024f1560e7a9f05de0444951e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 22 15:46:28 2011 -0700

    Don't make the Libsocialweb backend depend directly upon dbus-glib.

    Helps: bgo#629716 - Migrate Folks to GDBus

 backends/libsocialweb/lib/Makefile.am | 1 -
 1 file changed, 1 deletion(-)

commit 5e2c7adeff14517e36cd9d55335791833da64b5b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 22 15:38:16 2011 -0700

    Don't make the Telepathy tests depend directly upon dbus-glib.

    Helps: bgo#629716 - Migrate Folks to GDBus

 tests/telepathy/Makefile.am | 1 -
 1 file changed, 1 deletion(-)

commit 67b5617bcbb2109dd43d9f25feae52c7efaeaa1f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 22 13:41:15 2011 -0700

    Handle both the dbus-glib and GDBus missing logger errors.

    Helps: bgo#629716 - Migrate Folks to GDBus

 tests/lib/telepathy/contactlist/backend.c | 13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit be621be89c3e25c5875e245560328b3b556675ad
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 22 13:35:44 2011 -0700

    Update Tp test backend suppression to match GDBus behavior.

    Helps: bgo#629716 - Migrate Folks to GDBus

 tests/lib/telepathy/contactlist/backend.c | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit a32e8adc4dcc15d6ac207d9c9dd6c9d7d44cd174
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jun 21 16:31:18 2011 -0700

    Cut unnecessary log message suppressions in the Aggregation test.

    Helps: bgo#629716 - Migrate Folks to GDBus

 tests/folks/aggregation.vala | 35 -----------------------------------
 1 file changed, 35 deletions(-)

commit 09bf32c22843eaa9cf34bd091d864dfa85bf4d63
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jun 21 16:14:04 2011 -0700

    Properly disconnect the logger::invalidated handler.

    Helps: bgo#629716 - Migrate Folks to GDBus

 backends/telepathy/lib/tpf-persona-store.vala | 18 ++++++++++++------
 1 file changed, 12 insertions(+), 6 deletions(-)

commit 8b2449f753ee91cabb47895e26293737da640e69
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jun 7 16:16:47 2011 -0700

    Port Tpf.Logger to GDBus.

    Helps: bgo#629716 - Migrate Folks to GDBus

 backends/telepathy/lib/tpf-logger.vala | 58
 +++++++++++++++++++---------------
 1 file changed, 32 insertions(+), 26 deletions(-)

commit 17814e50568b923df74d41d354b8108fdfd0ee22
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jun 7 16:15:31 2011 -0700

    Factor out Tpf.Logger.prepare() from its constructor.

    Helps: bgo#629716 - Migrate Folks to GDBus

 backends/telepathy/lib/tpf-logger.vala        | 14 ++++++++++++--
 backends/telepathy/lib/tpf-persona-store.vala |  1 +
 2 files changed, 13 insertions(+), 2 deletions(-)

commit fa396c2ca0c6116959d4397438154de15393422c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 8 08:39:28 2011 -0700

    Use the GLib definition of Error instead of DBus.Error.

    Helps: bgo#629716 - Migrate Folks to GDBus

 backends/telepathy/lib/tpf-logger.vala        | 14 +++++++-------
 backends/telepathy/lib/tpf-persona-store.vala |  6 +++---
 2 files changed, 10 insertions(+), 10 deletions(-)

commit 0f45b1150d8380d170d3cdaebdfc576f9060e52c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jun 7 11:23:43 2011 -0700

    Use the GLib definition for Object.

    Helps: bgo#629716 - Migrate Folks to GDBus

 backends/telepathy/lib/tpf-logger.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ba83c9014931c9bbf897de14d7dbaa2876ccea32
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jun 7 11:21:53 2011 -0700

    Use the GLib definition for ObjectPath.

    Helps: bgo#629716 - Migrate Folks to GDBus

 backends/telepathy/lib/tpf-logger.vala | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 627643e93b4b38a1904684f9361b498d0fe7ec3a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jun 7 11:16:21 2011 -0700

    Don't build dbus-glib into Telepathy backend.

    Helps: bgo#629716 - Migrate Folks to GDBus

 backends/telepathy/lib/Makefile.am | 3 ---
 configure.ac			    | 3 ---
 2 files changed, 6 deletions(-)

commit 2d042c289bcc140f402c20603c12e57339815cf4
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Jun 13 17:20:34 2011 +0100

    Bug 652472 — Handle failure in getting the logger service better

    If we fail to get the logger from the bus, get_object() may return
    NULL. If
    we check for this, we don't then try and connect a signal to a
    NULL object
    instance and emit criticals.

    Closes: bgo#652472

 NEWS					| 1 +
 backends/telepathy/lib/tpf-logger.vala | 7 +++++++
 2 files changed, 8 insertions(+)

commit 89a975951e2e52597c4193a9aafe27356588fff2
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 22 16:39:35 2011 -0700

    Fix the link within the PresenceDetails.presence_status docs

 folks/presence-details.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fb8474d72d9afae514522c243503e6d928642131
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Jun 14 15:21:29 2011 +0100

    Bug 648071 — Add support for presence status from Telepathy

    Add a presence_status property to PresenceDetails to expose the
    detailed
    presence status string that Telepathy exposes.

    Closes: bgo#648071

 NEWS					    |  2 ++
 backends/telepathy/lib/tpf-persona.vala    | 19 +++++++++++++++++++
 folks/individual.vala			    | 14 ++++++++++++++
 folks/presence-details.vala		    | 12 ++++++++++++
 tests/telepathy/individual-properties.vala |  1 +
 5 files changed, 48 insertions(+)

commit 3c5ebf360d0dd934928683f6d1ee41c6ba106e91
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jun 21 15:08:45 2011 -0700

    Don't crash if a provided TpContact ID is NULL.

 tests/lib/telepathy/contactlist/conn.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d7514bc4c8d2772bb7d8e6f0baa6bb5407ab7f0c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jun 21 14:43:06 2011 -0700

    Don't add null Personas in personas-changed signal arguments.

 backends/telepathy/lib/tpf-persona-store.vala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit edb8daf44a810aaa3b9ca1ebfb701d6b9ff2cc7b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jun 21 14:08:47 2011 -0700

    Note closing of bgo#652434 — Add ability to run any tests through
    gdb

    Closes: bgo#652434

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit 506058011ec47ef14a03c9ce2fde35d82b7ba394
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jun 10 10:39:27 2011 -0700

    Add ability to run any of our tests through gdb

    Run a test through gdb with:

	make -C tests/<dir> <test name>.gdb

 HACKING			| 11 +++++++++++
 check.mk			|  6 ++++++
 tests/folks/Makefile.am	|  1 +
 tests/key-file/Makefile.am	|  1 +
 tests/libsocialweb/Makefile.am |  1 +
 tests/telepathy/Makefile.am	|  1 +
 tests/tracker/Makefile.am	|  1 +
 7 files changed, 22 insertions(+)

commit 68ae999ee44d13707e7773a3c7f58df45b38ef7d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jun 17 16:06:22 2011 +0100

    Cut redundant EXTRA_DIST entry.

 tests/lib/telepathy/contactlist/Makefile.am | 1 -
 1 file changed, 1 deletion(-)

commit bbda7744abd5b2b5c05f52e34c83bfc12935d0e1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jun 17 16:05:38 2011 +0100

    More-cleanly define gir and vapi files.

 tests/lib/telepathy/contactlist/Makefile.am | 11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 47f529f3772cab9e4b59a7bb427b7a1c0964c957
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jun 17 15:15:44 2011 +0100

    Add Make rule for generating tracker-test.vapi.

    After a maintainer-clean, Make doesn't know how to generate this
    file otherwise.

 tests/lib/tracker/Makefile.am | 4 ++++
 1 file changed, 4 insertions(+)

commit 52c37b151b02baf1242f23ef1f866e6d7f06a556
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jun 17 13:58:47 2011 +0100

    Dist but don't include the tracker-test vapi files.

 tests/lib/tracker/Makefile.am | 4 ++++
 1 file changed, 4 insertions(+)

commit 5dc9e848c7f984a585de9e1f2779f096ef52b002
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Jun 13 15:20:55 2011 +0100

    Bug 652463 — Tidy up CLEANFILES

    Tidy up pkg-config and configure-generated files in CLEANFILES and
    DISTCLEANFILES.

    Closes: bgo#652463

 NEWS					     | 1 +
 backends/libsocialweb/lib/Makefile.am	     | 7 -------
 backends/telepathy/lib/Makefile.am	     | 6 ------
 backends/tracker/lib/Makefile.am	     | 7 -------
 folks/Makefile.am			     | 5 -----
 tests/data/Makefile.am			     | 2 +-
 tests/lib/Makefile.am			     | 4 ----
 tests/lib/libsocialweb/Makefile.am	     | 6 +++++-
 tests/lib/telepathy/contactlist/Makefile.am | 6 +++++-
 9 files changed, 12 insertions(+), 32 deletions(-)

commit d4e7847013535d72a81646aa6397a431583c8c79
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Jun 13 12:09:34 2011 +0100

    Bug 646244 — Incomplete logic to handle attribute updates in
    Folks.Individual

    Tidy up some of the update methods in Folks.Individual to handle
    null values
    a little better.

    Closes: bgo#646244

 NEWS		       |  1 +
 folks/individual.vala | 92
 ++++++++++++++++++++++++++++-----------------------
 2 files changed, 51 insertions(+), 42 deletions(-)

commit e60a5fa59f5706105a72a9182ae24f499e14f36c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jun 9 15:29:53 2011 -0700

    Don't delete tp-test-contactlist.deps when maintainer-cleaning.

    This fixes a bug introduced by b983fee7

 tests/lib/telepathy/contactlist/Makefile.am | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 1baf849cc8296f7d154742ded5069034680850c5
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jun 9 08:43:54 2011 -0700

    Handle ownership of TpContact.connection automatically.

    It recently changed in telepathy-glib and/or Vala 0.14.x finally
    detected that
    the TpContact.connection property returns an owned TpConnection
    (making our use
    of "unowned Connection connection = contact.connection" invalid).

 backends/telepathy/lib/tpf-persona.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b983fee7d961ddd88016095aa324700213d1fe7b
Author: Emilio Pozuelo Monfort <pochu27@gmail.com>
Date:	Wed Jun 8 12:17:43 2011 +0100

    Dist the tp-test-contactlist.deps file

    It was missing from tarballs, which causes folks to fail to build
    in some circumstances.

 tests/lib/telepathy/contactlist/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 394fe118bbe5d4040d9fb7170d9302e4b3c81c83
Author: Raul Gutierrez Segales <rgs@collabora.co.uk>
Date:	Sun Jun 5 11:49:20 2011 +0100

    Move tracker's test image to a common location

    Moving this to tests/data so it can be shared by other
    backends.

 tests/Makefile.am		  |   4 ++++
 tests/data/avatar-01.jpg	  | Bin 0 -> 1157 bytes
 tests/tracker/Makefile.am	  |   3 +--
 tests/tracker/data/avatar-01.jpg | Bin 1157 -> 0 bytes
 4 files changed, 5 insertions(+), 2 deletions(-)

commit ff841e27e776573de7ccdf886cf923cf202a77a9
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Tue May 24 18:56:12 2011 +0100

    Play nicely with new API in Vala 0.14

    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=650997

 backends/key-file/kf-persona-store.vala     | 12 +++++++-----
 folks/backend-store.vala		     | 13 +++++++------
 folks/group-details.vala		     |	2 +-
 folks/types.vala			     |	2 +-
 tests/tracker/avatar-details-interface.vala |	6 +++---
 5 files changed, 19 insertions(+), 16 deletions(-)

commit d016a8345dff6b20e319b2427e1132836f5e7928
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Wed May 11 14:19:46 2011 +0100

    libsocialweb: Swf.Persona stores SocialWebClient.Contact

    Closes: bgo#649925 - expose SocialWebClient.Contact in Swf.Persona

 NEWS					    |  6 ++++++
 backends/libsocialweb/lib/swf-persona.vala | 21 ++++++++++++++++++
 tests/libsocialweb/dummy-lsw.vala	    | 34
 ++++++++++++++++++++++++++++--
 3 files changed, 59 insertions(+), 2 deletions(-)

commit 20128af512e75b117b82ae46998e4287ca03a36b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 1 11:07:14 2011 -0700

    Post-release bump.

 NEWS	      | 3 +++
 configure.ac | 4 ++--
 2 files changed, 5 insertions(+), 2 deletions(-)

commit dbb0c8db7541f792ca885123d04625317d04c949
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 1 09:14:09 2011 -0700

    Release version 0.5.2.

 configure.ac | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit b9a936a7b3705ff929e8765857b266a52cb905e2
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 1 09:06:48 2011 -0700

    Note fix for bgo#650268 build failure in NEWS.

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit 7d7ad36264dfa873d5aa81598d3c372271b61efe
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 1 09:05:22 2011 -0700

    Fix location of NEWS entry for bgo#650067 fix.

 NEWS | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 884d7f20fc709c45248c05896f5a262082117fdd
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 1 09:01:57 2011 -0700

    Define the proper autoconf constant when enabling the libsocialweb
    backend.

 configure.ac | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 1ab93eb1b5714781eefb5ee897f2b167c510054b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue May 31 16:21:33 2011 -0700

    Don't re-build the vapi files unless we've been configured with Vala.

 backends/telepathy/lib/Makefile.am	     | 2 ++
 tests/lib/telepathy/contactlist/Makefile.am | 2 ++
 2 files changed, 4 insertions(+)

commit f2af4bea9767768e5c6cdf4f648fb71cd8c23a4a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue May 31 15:28:38 2011 -0700

    Don't require [lib]valadoc to build docs.

 configure.ac | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit e3e2f54f6e7239cfe18d35ed698ddf041545fcc7
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue May 31 15:04:48 2011 -0700

    Only check for libsocialweb Vala deps if Vala is enabled.

 configure.ac | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 76ddbe23727417fbbb7484a0bf16be83692e161a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue May 31 16:40:53 2011 -0700

    Check for folks-telepathy.h in the proper dir when building docs.

 docs/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 77f97b8797f82b08c959d3ae32e58b70fc70f2bf
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Tue May 24 18:11:49 2011 +0100

    [tracker] Deal with null Avatars being set on a Trf.Persona

    Fixes: bgo#650067 - Tracker backend warns when setting a NULL
    avatar (ie, unsetting the avatar)

 NEWS					     |	 2 +
 backends/tracker/lib/trf-persona-store.vala |	15 ++-
 tests/tracker/Makefile.am		     |	 6 ++
 tests/tracker/set-null-avatar.vala	     | 140
 ++++++++++++++++++++++++++++
 4 files changed, 158 insertions(+), 5 deletions(-)

commit 7bba7ad32a8c9f4b6420da4dd993be73e313a147
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri May 13 12:16:26 2011 -0700

    Post-release version bump.

 NEWS	      | 3 +++
 configure.ac | 4 ++--
 2 files changed, 5 insertions(+), 2 deletions(-)

commit f982bfb21414dc23a824ffbf0111a97372addf7c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu May 12 15:51:20 2011 -0700

    Release Folks 0.5.1.

 backends/tracker/lib/trf-persona-store.vala |	8 ++++----
 configure.ac				     | 10 +++++-----
 folks/backend-store.vala		     |	2 +-
 folks/backend.vala			     |	2 +-
 folks/debug.vala			     | 26
 +++++++++++++-------------
 folks/email-details.vala		     |	2 +-
 folks/field-details.vala		     |	6 +++---
 folks/group-details.vala		     |	2 +-
 folks/im-details.vala			     |	2 +-
 folks/individual-aggregator.vala	     | 10 +++++-----
 folks/individual.vala			     |	6 +++---
 folks/local-id-details.vala		     |	2 +-
 folks/note-details.vala		     |	2 +-
 folks/persona-store.vala		     |	4 ++--
 folks/phone-details.vala		     |	2 +-
 folks/postal-address-details.vala	     |	4 ++--
 folks/potential-match.vala		     |	2 +-
 folks/role-details.vala		     |	2 +-
 folks/url-details.vala			     |	2 +-
 folks/web-service-details.vala		     |	2 +-
 20 files changed, 49 insertions(+), 49 deletions(-)

commit c8d1babd0e9eeac6ec2d1b1c1a7cf113278b17e8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri May 13 09:35:13 2011 -0700

    Generate backend library headers in folks/ subdirs.

    This is to allow in-tree building, since we changed the includedir,
    which
    makes the vapi files include headers as <folks/header.h>. Outputting
    our
    headers in a folks/ subdir works around this issue by making the
    backend/*/lib dir match the expected includedir layout.

 backends/libsocialweb/Makefile.am     | 1 +
 backends/libsocialweb/lib/Makefile.am | 6 +++---
 backends/telepathy/Makefile.am        | 1 +
 backends/telepathy/lib/Makefile.am    | 6 +++---
 backends/tracker/Makefile.am	       | 1 +
 backends/tracker/lib/Makefile.am      | 6 +++---
 6 files changed, 12 insertions(+), 9 deletions(-)

commit 3bc8ec29a4bee93960dd22886f633008a2597e5e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu May 12 22:20:40 2011 -0700

    Don't depend upon removed LinkedHashSet stamp file.

 configure.ac | 1 -
 1 file changed, 1 deletion(-)

commit d9f7cf4277258c6ad4f28fa07bcc4ac072e80de0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu May 12 16:36:22 2011 -0700

    Strip tab characters from valadocs to unbreak doc building.

 folks/debug.vala | 36 ++++++++++++++++++------------------
 1 file changed, 18 insertions(+), 18 deletions(-)

commit 59c0e7bf68e52a92f6e501e7c70786f40926cde7
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu May 12 22:59:17 2011 -0700

    Properly distribute the typelib file.

 folks/Makefile.am | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 6eae871cc2b1753f38a0a299c0e495621df5391f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu May 12 22:55:49 2011 -0700

    Distribute Folks-*.gir and Folks-*.typelib

 folks/Makefile.am | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 07ce4077e62b4adbf3191249ddb355512cca5bde
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu May 12 22:54:35 2011 -0700

    Allow generated source files to exist after distcleancheck.

    It turns out to be nearly impossible to satisfy a standard
    distcleancheck
    with Vala and its automake support. This is specifically a work-around
    because there doesn't seem to be any obvious way to satisfy these
    requirements:

      * the release tarball can be built without gobject-introspection,
      valac,
	or vapigen

      * it's safe to run "make distclean" in the release tarball without
	suddenly requiring the tools listed above (due to generated files
	being removed)

      * "make distcheck" doesn't fail its "distcleancheck" phase due
      to the
	following files remaining after distclean:

	- tests/lib/telepathy/contactlist/tp-test-contactlist.gir
	- tests/lib/telepathy/contactlist/tp-test-contactlist.vapi
	- backends/telepathy/lib/tp-lowlevel.gir
	- backends/telepathy/lib/tp-lowlevel.vapi

    We've hit this last issue multiple times, and no fix seems to
    stick. So
    stripping out this check seems to be the best option (until we can
    remove the Vala/GObject-Introspection-free build requirement, when
    they've stabilized more and we don't depend upon the latest versions
    which
    may not be in all the major distros).

 Makefile.am | 4 ++++
 1 file changed, 4 insertions(+)

commit e2f7b5916b566b81cf148b81c266cb95af436d47
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu May 12 14:00:02 2011 -0700

    Allow the types argument for PostalAddress() to be null.

 folks/postal-address-details.vala | 11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 58cc29fd89f7c81b6d5f42cbf5021657bcae7eda
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun May 1 22:12:47 2011 +0100

    Bug 649088 — Combining contacts doesn't work with german Umlauts

    Fix normalisation of Jabber IDs to use the correct Unicode
    normalisation mode
    as described in RFC 3920, §A.4. Closes: bgo#649088

 NEWS		       |  1 +
 folks/im-details.vala | 14 +++++++-------
 2 files changed, 8 insertions(+), 7 deletions(-)

commit a9f6a07dc97e309261fa20a9b765afefe2affdf2
Author: Alexander Larsson <alexl@redhat.com>
Date:	Tue May 10 13:11:05 2011 +0200

    Ensure includes are done with <folks/*.h>

    This changes all pc files to not include -I$incdir/folks and fixes
    the vapi files to add the folks/ part to the includes.

    https://bugzilla.gnome.org/show_bug.cgi?id=649790

 NEWS						    | 3 +++
 backends/libsocialweb/lib/Makefile.am		    | 1 +
 backends/libsocialweb/lib/folks-libsocialweb.pc.in | 2 +-
 backends/telepathy/lib/Makefile.am		    | 1 +
 backends/telepathy/lib/folks-telepathy.pc.in	    | 2 +-
 backends/tracker/lib/Makefile.am		    | 1 +
 backends/tracker/lib/folks-tracker.pc.in	    | 2 +-
 folks/Makefile.am				    | 1 +
 folks/folks-uninstalled.pc.in			    | 2 +-
 9 files changed, 11 insertions(+), 4 deletions(-)

commit 23fc09d4a23a52da48ecc7d08cd2629c2272ce1a
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Apr 26 23:56:41 2011 +0100

    Add a “debug” command to folks-inspect to print status information

    When executed, it simply calls Folks.Debug.emit_print_status().

    Closes: bgo#648533

 NEWS				  |  1 +
 tools/inspect/Makefile.am	  |  1 +
 tools/inspect/command-debug.vala | 54
 ++++++++++++++++++++++++++++++++++++++++
 tools/inspect/inspect.vala	  |  1 +
 4 files changed, 57 insertions(+)

commit 4292b07504c13e70fba6c1b23b1a043cb2120fa3
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Apr 23 01:14:20 2011 +0100

    Allow printing out status information at runtime

    When Folks.Debug.print-status is emitted, BackendStore,
    IndividualAggregator
    and Tpf.PersonaStore will now print out their status, including a list
    of all the loaded backends, persona stores, aggregated individuals
    and their
    personas.

    Folks.Debug.print-status could be emitted as a result of the client
    process
    receiving SIGUSR2, for example.

    Helps: bgo#648533

 backends/telepathy/lib/tpf-persona-store.vala | 220
 ++++++++++++++++++++++++++
 folks/backend-store.vala		       |  69 ++++++++
 folks/debug.vala			       |  50 ++++++
 folks/individual-aggregator.vala	       |  85 ++++++++++
 4 files changed, 424 insertions(+)

commit 26ea12bdcfbca8ba00b859a59db357a9608e5b39
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Apr 24 00:22:19 2011 +0100

    Add debug printing and formatting methods to Debug

    This includes indentation and output colouring support.

    Helps: bgo#648533

 folks/backend-store.vala |   4 +-
 folks/debug.vala	  | 234
 ++++++++++++++++++++++++++++++++++++++++++++++-
 2 files changed, 233 insertions(+), 5 deletions(-)

commit ff2d72431787e1cf17697398f9d721f360ec6e7c
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Apr 23 01:10:50 2011 +0100

    Allow the singleton Debug instance to be retrieved without setting
    its flags

    Helps: bgo#648533

 folks/backend-store.vala |  3 ++-
 folks/debug.vala	  | 49
 ++++++++++++++++++++++++++++++++++--------------
 2 files changed, 37 insertions(+), 15 deletions(-)

commit 2c71358301f6da87186acf3c3405c55df3c5fe57
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Apr 23 00:58:54 2011 +0100

    Allow enabling/disabling output of debug messages at runtime

    Helps: bgo#648533

 folks/debug.vala | 46 ++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 44 insertions(+), 2 deletions(-)

commit c5ef70859ff19c46f6e3a08a3816a1fc3e0cb6d2
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Apr 25 21:07:38 2011 +0100

    Make Debug public and restrict it to being a singleton

    Also add some API documentation to its newly-public members and
    make it
    thread-safe.

 NEWS		  |  1 +
 folks/debug.vala | 80
 +++++++++++++++++++++++++++++++++++++++-----------------
 2 files changed, 57 insertions(+), 24 deletions(-)

commit fbd2a2d588541177c1e2441d28f1bc70f7e75c88
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Apr 27 15:49:33 2011 +0100

    Bug 648767 — Return read-only views of Sets and Maps where possible

    This prevents clients from messing up libfolks' state by modifying
    Sets or
    Maps returned to them by libfolks when those Sets or Maps are just
    references
    to the ones used internally by libfolks, as is the case with many
    properties.

    Closes: bgo#648767

 backends/key-file/kf-backend.vala		  |  4 +-
 backends/key-file/kf-persona-store.vala	  | 14 +++--
 backends/libsocialweb/lib/swf-persona-store.vala | 10 ++--
 backends/libsocialweb/lib/swf-persona.vala	  |  4 +-
 backends/libsocialweb/sw-backend.vala		  |  8 +--
 backends/telepathy/lib/tpf-persona-store.vala	  | 28 ++++------
 backends/telepathy/lib/tpf-persona.vala	  |  4 +-
 backends/telepathy/tp-backend.vala		  |  4 +-
 backends/tracker/lib/trf-persona-store.vala	  | 13 +++--
 backends/tracker/lib/trf-persona.vala		  | 65
 +++++++++++++++--------
 backends/tracker/tr-backend.vala		  |  4 +-
 folks/backend-store.vala			  |  7 ++-
 folks/field-details.vala			  |  2 +-
 folks/individual-aggregator.vala		  | 66
 +++++++++++++++++++-----
 folks/individual.vala				  | 38 ++++++++++++--
 folks/persona-store.vala			  | 30 +++++++++++
 folks/postal-address-details.vala		  |  4 +-
 17 files changed, 219 insertions(+), 86 deletions(-)

commit e5c020e4e871e328fc401b4dfd2a9935a9fe6b9b
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Apr 22 22:47:49 2011 +0100

    Tidy up signal disconnections in IndividualAggregator

    Closes: bgo#645186

 NEWS				  |  1 +
 folks/individual-aggregator.vala | 26 ++++++++++++++++++++++----
 2 files changed, 23 insertions(+), 4 deletions(-)

commit a4c3866f54b4be1b21b401127670ee147d4fc4ee
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Apr 22 22:36:13 2011 +0100

    Tidy up channel signal disconnections in Tpf.PersonaStore

    Helps: bgo#645186

 backends/telepathy/lib/tpf-persona-store.vala | 53
 ++++++++++++++++++++++++---
 1 file changed, 48 insertions(+), 5 deletions(-)

commit ebe1339328b458db6ecd85d41a9472849b8088eb
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Apr 22 22:13:42 2011 +0100

    Add a missing signal disconnection to Tr.Backend

    Helps: bgo#645186

 backends/tracker/tr-backend.vala | 1 +
 1 file changed, 1 insertion(+)

commit 8e555864fd37e9efb967768fd9b5dc512e7059ce
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Apr 22 22:02:59 2011 +0100

    Add a missing signal disconnection to Tp.Backend

    Helps: bgo#645186

 backends/telepathy/tp-backend.vala | 1 +
 1 file changed, 1 insertion(+)

commit 7fede8525f682559fe23280ad107082d3793b82d
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Apr 22 22:01:38 2011 +0100

    Add a missing signal disconnection to Kf.Backend

    Helps: bgo#645186

 backends/key-file/kf-backend.vala | 1 +
 1 file changed, 1 insertion(+)

commit bc22db53346c24ccb3dc6d53d00ccda125f6e6cf
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Apr 22 21:59:14 2011 +0100

    Fix a potential crash in Swf.PersonaStore on destruction before
    preparation

    If a Swf.PersonaStore is finalised before .prepare() is called, its
    _contact_view member will be null, so it shouldn't try and disconnect
    from
    signals from it.

 backends/libsocialweb/lib/swf-persona-store.vala | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit ce07382fe7eb1bd44858c1d925caed5d2bbd16e8
Author: Maxim Ermilov <zaspire@rambler.ru>
Date:	Fri Apr 22 03:06:51 2011 +0400

    Add GObject Introspection Support

    Closes: bgo#648161

 NEWS		   |  1 +
 configure.ac	   |  8 ++++++--
 folks/Makefile.am | 21 +++++++++++++++++++++
 3 files changed, 28 insertions(+), 2 deletions(-)

commit 50c7885244b085eadc798151b730c635326a25fa
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Apr 26 09:59:29 2011 -0700

    Add a NEWS entry for fixing bgo#640092.

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit 42992e45d4441de8378f2c15ae6de157ff9b0ab2
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Apr 20 11:22:18 2011 +0100

    Change PostalAddress.types to be a Set<string>

    Helps: bgo#640092

 NEWS						    |  1 +
 backends/tracker/lib/trf-persona-store.vala	    |  4 ++--
 backends/tracker/lib/trf-persona.vala		    |  4 ++--
 folks/postal-address-details.vala		    | 25
 ++++++++++++----------
 tests/tracker/add-persona.vala			    |  4 ++--
 .../tracker/postal-address-details-interface.vala  |  2 +-
 tests/tracker/set-postal-addresses.vala	    |  4 ++--
 7 files changed, 24 insertions(+), 20 deletions(-)

commit df92a32fc1c0597df616c0bbe57c7d07772ecf93
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Apr 20 01:41:57 2011 +0100

    Change PotentialMatch.known_email_aliases to be of type Set<string>

    Helps: bgo#640092

 NEWS			    |  1 +
 folks/potential-match.vala | 11 ++++++++++-
 2 files changed, 11 insertions(+), 1 deletion(-)

commit a1aa6294a48a6cec8b92edd7f7cc73f6047c39cc
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Apr 20 01:41:20 2011 +0100

    Change RoleDetails.roles to be of type Set<Role>

    Helps: bgo#640092

 NEWS					     |	1 +
 backends/tracker/lib/trf-persona-store.vala |	2 +-
 backends/tracker/lib/trf-persona.vala	     |	2 +-
 folks/individual.vala			     |	7 +++++--
 folks/role-details.vala		     |	4 ++--
 tests/tracker/add-persona.vala		     |	4 ++--
 tools/inspect/utils.vala		     | 20 ++++++++++++++++++++
 7 files changed, 32 insertions(+), 8 deletions(-)

commit 99d591f3b4888c6ad4f5ca3f89bc187f351fba72
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Apr 20 01:40:50 2011 +0100

    Change NoteDetails.notes to be of type Set<Note>

    Helps: bgo#640092

 NEWS					     |	1 +
 backends/tracker/lib/trf-persona-store.vala |	2 +-
 backends/tracker/lib/trf-persona.vala	     |	2 +-
 folks/individual.vala			     |	7 +++++--
 folks/note-details.vala		     |	4 ++--
 tests/tracker/add-persona.vala		     |	4 ++--
 tools/inspect/utils.vala		     | 20 ++++++++++++++++++++
 7 files changed, 32 insertions(+), 8 deletions(-)

commit 99af9effc77f18bb83c369d48b16513a92cff920
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Apr 20 01:40:10 2011 +0100

    Change LocalIdDetails.local_ids to be of type Set<string>

    Helps: bgo#640092

 NEWS					     |	1 +
 backends/tracker/lib/trf-persona-store.vala | 12 ++++++------
 backends/tracker/lib/trf-persona.vala	     |	6 ++++--
 folks/individual-aggregator.vala	     |	2 +-
 folks/individual.vala			     |	7 +++++--
 folks/local-id-details.vala		     |	4 ++--
 tools/inspect/utils.vala		     |	3 ++-
 7 files changed, 21 insertions(+), 14 deletions(-)

commit 37a01ab4fdc9e0ac85b850824212a1ed44e8d27e
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Apr 20 01:31:54 2011 +0100

    Change PersonaStore.personas to be a Map<string, Persona>

    This helps in our quest to get rid of HashTable.

    Helps: bgo#640092

 NEWS						  |  1 +
 backends/key-file/kf-persona-store.vala	  | 20
 +++++++++-----------
 backends/libsocialweb/lib/swf-persona-store.vala | 14 +++++++-------
 backends/telepathy/lib/tpf-persona-store.vala	  | 11 +++++------
 backends/tracker/lib/trf-persona-store.vala	  | 20
 ++++++++++----------
 folks/persona-store.vala			  |  4 +++-
 tests/tracker/remove-persona.vala		  |  4 ++--
 tools/inspect/utils.vala			  | 14 +++++++-------
 8 files changed, 44 insertions(+), 44 deletions(-)

commit 03bfb40e46b9c804700c57e0a6a6faf6aa503cda
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Apr 20 01:14:05 2011 +0100

    Change IndividualAggregator.individuals to be a Map<string,
    Individual>

    This helps in our quest to get rid of HashTable.

    Helps: bgo#640092

 NEWS					  |  1 +
 folks/individual-aggregator.vala	  | 32
 ++++++++++++++++----------------
 tests/tracker/add-contact.vala		  |  5 ++---
 tests/tracker/avatar-updates.vala	  |  2 +-
 tests/tracker/emails-updates.vala	  |  2 +-
 tests/tracker/match-all.vala		  |  2 +-
 tests/tracker/match-email-addresses.vala |  4 ++--
 tests/tracker/match-im-addresses.vala	  |  4 ++--
 tests/tracker/match-known-emails.vala	  |  4 ++--
 tests/tracker/match-name.vala		  |  4 ++--
 tests/tracker/match-phone-number.vala	  |  4 ++--
 tools/inspect/command-individuals.vala   | 10 +++++-----
 tools/inspect/command-personas.vala	  |  6 ++----
 tools/inspect/utils.vala		  | 20 ++++++++++----------
 14 files changed, 49 insertions(+), 51 deletions(-)

commit 290c04b913002f5630b3ce3a72620f5b9964cae8
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Apr 20 01:02:54 2011 +0100

    Change IndividualAggregator.get_[all_]potential_matches() to return
    a Map

    We don't want to expose the fact that we're using a *hash* map
    internally.

    Helps: bgo#640092

 NEWS				  | 4 ++++
 folks/individual-aggregator.vala | 8 ++++----
 2 files changed, 8 insertions(+), 4 deletions(-)

commit 2d66369e4196c71aa390405ee82c67dd4af980ca
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Apr 20 00:58:00 2011 +0100

    Change IndividualAggregator.link_personas() to take a Set<Persona>

    Helps: bgo#640092

 NEWS						|  1 +
 folks/individual-aggregator.vala		| 12 ++++--------
 tests/libsocialweb/aggregation.vala		|  8 ++++----
 tests/tracker/link-personas-via-local-ids.vala | 10 +++++-----
 tests/tracker/link-personas.vala		| 10 +++++-----
 5 files changed, 19 insertions(+), 22 deletions(-)

commit d27602ca291598b2de3b69b3b32c35784423d244
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Mar 24 16:40:07 2011 +0000

    Port IndividualAggregator.individuals_changed to use Set<Individual>

    Helps: bgo#640092

 NEWS						    |  2 ++
 folks/individual-aggregator.vala		    | 30
 +++++++++++++---------
 tests/key-file/individual-retrieval.vala	    | 11 +++++---
 tests/libsocialweb/aggregation.vala		    | 18 ++++++++-----
 tests/libsocialweb/dummy-lsw.vala		    | 12 ++++-----
 tests/telepathy/individual-properties.vala	    | 14 +++++-----
 tests/telepathy/individual-retrieval.vala	    |  4 +--
 tests/tracker/add-contact.vala			    |  8 +++---
 tests/tracker/add-persona.vala			    |  8 +++---
 tests/tracker/additional-names-updates.vala	    |  8 +++---
 tests/tracker/avatar-details-interface.vala	    |  6 ++---
 tests/tracker/avatar-updates.vala		    |  8 +++---
 tests/tracker/birthday-details-interface.vala	    |  8 +++---
 tests/tracker/birthday-updates.vala		    |  8 +++---
 tests/tracker/default-contact.vala		    |  8 +++---
 tests/tracker/duplicated-emails.vala		    |  8 +++---
 tests/tracker/duplicated-phones.vala		    |  8 +++---
 tests/tracker/email-details-interface.vala	    |  8 +++---
 tests/tracker/emails-updates.vala		    |  8 +++---
 tests/tracker/family-name-updates.vala		    |  9 ++++---
 tests/tracker/favourite-details-interface.vala     |  8 +++---
 tests/tracker/favourite-updates.vala		    |  8 +++---
 tests/tracker/fullname-updates.vala		    |  8 +++---
 tests/tracker/gender-details-interface.vala	    |  8 +++---
 tests/tracker/given-name-updates.vala		    |  8 +++---
 tests/tracker/im-details-interface.vala	    |  8 +++---
 tests/tracker/imaddresses-updates.vala		    |  8 +++---
 tests/tracker/individual-retrieval.vala	    |  8 +++---
 tests/tracker/link-personas-via-local-ids.vala     | 27
 +++++++++++--------
 tests/tracker/link-personas.vala		    | 27
 +++++++++++--------
 tests/tracker/match-all.vala			    |  8 +++---
 tests/tracker/match-email-addresses.vala	    |  8 +++---
 tests/tracker/match-im-addresses.vala		    |  8 +++---
 tests/tracker/match-known-emails.vala		    |  8 +++---
 tests/tracker/match-name.vala			    |  8 +++---
 tests/tracker/match-phone-number.vala		    |  8 +++---
 tests/tracker/name-details-interface.vala	    |  8 +++---
 tests/tracker/nickname-updates.vala		    |  8 +++---
 tests/tracker/note-details-interface.vala	    |  8 +++---
 tests/tracker/phone-details-interface.vala	    |  8 +++---
 tests/tracker/phones-updates.vala		    |  8 +++---
 .../tracker/postal-address-details-interface.vala  |  8 +++---
 tests/tracker/prefix-name-updates.vala		    |  8 +++---
 tests/tracker/remove-contact.vala		    |  8 +++---
 tests/tracker/remove-persona.vala		    |  8 +++---
 tests/tracker/role-details-interface.vala	    |  8 +++---
 tests/tracker/set-alias.vala			    |  8 +++---
 tests/tracker/set-avatar.vala			    |  8 +++---
 tests/tracker/set-birthday.vala		    |  8 +++---
 tests/tracker/set-duplicate-email.vala		    |  8 +++---
 tests/tracker/set-emails.vala			    |  8 +++---
 tests/tracker/set-favourite.vala		    |  8 +++---
 tests/tracker/set-full-name.vala		    |  8 +++---
 tests/tracker/set-gender.vala			    |  8 +++---
 tests/tracker/set-im-addresses.vala		    |  8 +++---
 tests/tracker/set-notes.vala			    |  8 +++---
 tests/tracker/set-phones.vala			    |  8 +++---
 tests/tracker/set-postal-addresses.vala	    |  8 +++---
 tests/tracker/set-roles.vala			    |  8 +++---
 tests/tracker/set-structured-name.vala		    |  8 +++---
 tests/tracker/set-urls.vala			    |  8 +++---
 tests/tracker/suffix-name-updates.vala		    |  8 +++---
 tests/tracker/url-details-interface.vala	    |  8 +++---
 tests/tracker/website-updates.vala		    |  8 +++---
 64 files changed, 307 insertions(+), 277 deletions(-)

commit 853d7721b144153a3c1496c012b24e226999f440
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Mar 24 16:11:09 2011 +0000

    Fix a race condition in Tpf.PersonaStore

    The /IndividualRetrieval/aggregator:add test can execute multiple
    calls to
    Tpf.PersonaStore.add_persona_from_details() with the same contact ID
    simultaneously. Since the change to use sets, the fact that only one
    of the adds is succeeding is no longer hidden by our use of GLib.List.

    This commit fixes the error handling in
    Tpf.PersonaStore.add_persona_from_details() to be more resilient
    to the
    contact already existing.

    Helps: bgo#640092

 backends/telepathy/lib/tpf-persona-store.vala | 47
 +++++++++++++--------------
 1 file changed, 23 insertions(+), 24 deletions(-)

commit 2d2e1e1096b562c40c1d02a0ecc373287e51b83e
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Mar 24 16:09:21 2011 +0000

    Remove unused code from Tpf.PersonaStore

 backends/telepathy/lib/tpf-persona-store.vala | 14 --------------
 1 file changed, 14 deletions(-)

commit dd378b72c4bc63567b0ed74d4b319008fbb1c6be
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Mar 24 16:07:55 2011 +0000

    Port PersonaStore.personas_changed to Set<Persona>

    Helps: bgo#640092

 NEWS						  |  1 +
 backends/key-file/kf-persona-store.vala	  | 24 +++++---
 backends/libsocialweb/lib/swf-persona-store.vala | 29 ++++++----
 backends/telepathy/lib/tpf-persona-store.vala	  | 72
 +++++++++++++++---------
 backends/tracker/lib/trf-persona-store.vala	  | 42 ++++++++------
 folks/individual-aggregator.vala		  | 23 +++-----
 folks/individual.vala				  | 10 ++--
 folks/persona-store.vala			  | 11 ++--
 8 files changed, 126 insertions(+), 86 deletions(-)

commit 4bb93d34cc916f98d6b0c8fa66e4ef5188ad551e
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Mar 24 15:12:00 2011 +0000

    Port Individual.personas_changed to use Set<Persona>

    Helps: bgo#640092

 NEWS		       |  1 +
 folks/individual.vala | 33 +++++++++++++++++----------------
 2 files changed, 18 insertions(+), 16 deletions(-)

commit aa315bb33900610dae1d4f4093c274488be8f4e4
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Mar 24 11:40:45 2011 +0000

    Port Individual.personas to be a Set<Persona>

    This is a major user of GLib.List, and porting it should make porting
    a lot
    of other stuff a lot easier.

    Helps: bgo#640092

 NEWS					    |  1 +
 folks/individual-aggregator.vala	    | 63
 +++++++++++----------------
 folks/individual.vala			    | 69
 +++++++++++++++++-------------
 tests/folks/aggregation.vala		    | 47 +++++++++++++-------
 tests/key-file/individual-retrieval.vala   |  8 +++-
 tests/libsocialweb/aggregation.vala	    | 28 ++++++++----
 tests/telepathy/individual-properties.vala | 14 +++++-
 tests/tracker/add-persona.vala		    | 11 +++--
 tests/tracker/remove-contact.vala	    |  7 ++-
 tests/tracker/remove-persona.vala	    |  9 +++-
 tests/tracker/set-alias.vala		    | 35 ++++++++-------
 tests/tracker/set-avatar.vala		    |  6 ++-
 tests/tracker/set-birthday.vala	    |  6 ++-
 tests/tracker/set-duplicate-email.vala     | 16 ++++---
 tests/tracker/set-emails.vala		    |  7 ++-
 tests/tracker/set-favourite.vala	    | 28 +++++++-----
 tests/tracker/set-full-name.vala	    |  7 ++-
 tests/tracker/set-gender.vala		    |  6 ++-
 tests/tracker/set-im-addresses.vala	    |  6 ++-
 tests/tracker/set-notes.vala		    |  6 ++-
 tests/tracker/set-phones.vala		    |  7 ++-
 tests/tracker/set-postal-addresses.vala    |  6 ++-
 tests/tracker/set-roles.vala		    |  6 ++-
 tests/tracker/set-structured-name.vala     |  8 ++--
 tests/tracker/set-urls.vala		    |  6 ++-
 tools/inspect/utils.vala		    | 19 ++++----
 26 files changed, 262 insertions(+), 170 deletions(-)

commit 1c7e4040ef1d916b93f1674efef5ebe1dcb3d0eb
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Mar 24 11:00:27 2011 +0000

    Convert the internal store of Personas in Individual to use HashSet

    This converts the private variables in Individual which store its
    set of
    Personas to use a single HashSet instead of a separate GLib.List
    and HashSet.

    This won't compile, but making all the necessary adjustments to
    Individual.personas to make it compile would've made the commit
    too complex
    to review. The next commit will update Individual.personas.

    Helps: bgo#640092

 folks/individual.vala | 113
 +++++++++++++++++++++++++-------------------------
 1 file changed, 57 insertions(+), 56 deletions(-)

commit eca4e5453097b76557533eadab8d21b7aca90c1a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Feb 3 11:41:38 2011 -0800

    Remove use of GLib.List in public BackendStore API.

    Helps bgo#640092 - Folks should minimize use of GLib.List (including
    its public
    API)

 NEWS						|  4 +++
 folks/backend-store.vala			| 16 +++-------
 tests/folks/backend-loading.vala		| 44
 +++++++++++---------------
 tests/telepathy/individual-retrieval.vala	|  2 +-
 tests/tracker/add-persona.vala			|  2 +-
 tests/tracker/duplicated-emails.vala		|  2 +-
 tests/tracker/duplicated-phones.vala		|  2 +-
 tests/tracker/link-personas-via-local-ids.vala |  2 +-
 tests/tracker/link-personas.vala		|  2 +-
 tests/tracker/match-all.vala			|  2 +-
 tests/tracker/match-email-addresses.vala	|  2 +-
 tests/tracker/match-im-addresses.vala		|  2 +-
 tests/tracker/match-known-emails.vala		|  2 +-
 tests/tracker/match-name.vala			|  2 +-
 tests/tracker/match-phone-number.vala		|  2 +-
 tests/tracker/remove-persona.vala		|  2 +-
 tests/tracker/set-duplicate-email.vala		|  2 +-
 17 files changed, 40 insertions(+), 52 deletions(-)

commit cc7b9ac3b058d0734f2df749abc50e71d5797149
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Mar 24 10:05:48 2011 +0000

    Use just a HashSet in IndividualAggregator._add_personas()

    Remove use of GLib.List. Helps: bgo#640092

 folks/individual-aggregator.vala | 35 ++++++++++++++---------------------
 1 file changed, 14 insertions(+), 21 deletions(-)

commit f8baf37765580eaa497f675f102ef713a67083fe
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Apr 19 22:27:27 2011 +0100

    Change UrlDetails.urls to be a Set<FieldDetails>

    Helps: bgo#640092

 NEWS					     |	 1 +
 backends/libsocialweb/lib/swf-persona.vala  |	18 ++---
 backends/tracker/lib/trf-persona-store.vala | 115
 +++++-----------------------
 backends/tracker/lib/trf-persona.vala	     |	22 ++----
 folks/individual.vala			     |	31 ++++----
 folks/url-details.vala			     |	 5 +-
 tests/tracker/add-persona.vala		     |	11 ++-
 tests/tracker/set-urls.vala		     |	12 +--
 tests/tracker/website-updates.vala	     |	 4 +-
 tools/inspect/utils.vala		     |	23 +-----
 10 files changed, 68 insertions(+), 174 deletions(-)

commit 6510a5cee80afafeefd507387455c6ebcb66a880
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Apr 19 22:13:01 2011 +0100

    Change PhoneDetails.phone_numbers to be a Set<FieldDetails>

    Helps: bgo#640092

 NEWS					     |	 1 +
 backends/tracker/lib/trf-persona-store.vala | 104
 +++-------------------------
 backends/tracker/lib/trf-persona.vala	     |	23 ++----
 folks/individual.vala			     |	35 +++++-----
 folks/phone-details.vala		     |	 5 +-
 folks/potential-match.vala		     |	10 ++-
 tests/tracker/add-persona.vala		     |	13 ++--
 tests/tracker/duplicated-phones.vala	     |	18 +++--
 tests/tracker/match-phone-number.vala	     |	16 ++---
 tests/tracker/phones-updates.vala	     |	 4 +-
 tests/tracker/set-phones.vala		     |	10 +--
 tools/inspect/utils.vala		     |	 6 +-
 12 files changed, 74 insertions(+), 171 deletions(-)

commit 1d035bd4d12e61b7809b5db251993306f6c170ae
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Apr 19 21:55:06 2011 +0100

    Change EmailDetails.email_addresses to be a Set<FieldDetails>

    Helps: bgo#640092

 NEWS					     |	1 +
 backends/tracker/lib/trf-persona-store.vala | 96
 +++++++++++++++++++++++++----
 backends/tracker/lib/trf-persona.vala	     | 23 +++----
 folks/email-details.vala		     |	5 +-
 folks/individual.vala			     | 32 +++++-----
 folks/potential-match.vala		     | 10 ++-
 tests/tracker/add-persona.vala		     | 13 ++--
 tests/tracker/duplicated-emails.vala	     | 16 ++---
 tests/tracker/emails-updates.vala	     |	6 +-
 tests/tracker/match-email-addresses.vala    | 16 ++---
 tests/tracker/match-known-emails.vala	     | 16 ++---
 tests/tracker/remove-persona.vala	     | 11 ++--
 tests/tracker/set-duplicate-email.vala      | 14 ++---
 tests/tracker/set-emails.vala		     | 10 +--
 tools/inspect/utils.vala		     | 23 ++++++-
 15 files changed, 185 insertions(+), 107 deletions(-)

commit f912d31414251e3a87616cdedb46d1d3015ccd53
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Apr 19 21:41:20 2011 +0100

    Change PostalAddressDetails.postal_addresses to be a
    Set<PostalAddress>

    Helps: bgo#640092

 NEWS					     |	1 +
 backends/tracker/lib/trf-persona-store.vala | 66
 ++++++++++++++---------------
 backends/tracker/lib/trf-persona.vala	     | 27 +++++-------
 folks/individual.vala			     | 17 +++-----
 folks/postal-address-details.vala	     | 13 +++---
 tests/tracker/add-persona.vala		     |	9 ++--
 tests/tracker/set-postal-addresses.vala     |	7 ++-
 tools/inspect/utils.vala		     |	4 +-
 8 files changed, 68 insertions(+), 76 deletions(-)

commit 56077a1d890d079e5d0fe6291706a037395db158
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Apr 19 20:59:18 2011 +0100

    Change FieldDetails.parameters to be a MultiMap<string, string>

    Helps: bgo#640092

 NEWS					     |	3 ++
 backends/tracker/lib/trf-persona-store.vala | 18 ++++-----
 backends/tracker/lib/trf-persona.vala	     | 23 +++--------
 folks/field-details.vala		     | 59
 +++++++++++++----------------
 tests/folks/field-details.vala		     | 34 ++++++++---------
 tests/tracker/set-urls.vala		     | 26 ++++++++-----
 6 files changed, 73 insertions(+), 90 deletions(-)

commit 754541d94a53004aa38dfb163f49f9e258930ca5
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Apr 19 20:29:12 2011 +0100

    Change GroupDetails.groups to be a Set<string>

    Helps: bgo#640092

 NEWS					    |  1 +
 backends/telepathy/lib/tpf-persona.vala    | 24 +++++++++----------
 folks/group-details.vala		    |  5 +++-
 folks/individual.vala			    | 37
 ++++++++++++++----------------
 tests/telepathy/individual-properties.vala |  6 ++---
 tools/inspect/utils.vala		    | 19 ++++++---------
 6 files changed, 43 insertions(+), 49 deletions(-)

commit beef9692895520e335770e0035bbec85240a61b1
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Apr 19 19:13:30 2011 +0100

    Change Backend.persona_stores to be a Map<string, PersonaStore>

    Helps: bgo#640092

 NEWS						 |  1 +
 backends/key-file/kf-backend.vala		 | 20 ++++++++++----------
 backends/libsocialweb/sw-backend.vala		 | 20 ++++++++++----------
 backends/telepathy/tp-backend.vala		 | 22
 +++++++++++-----------
 backends/tracker/tr-backend.vala		 | 20 ++++++++++----------
 folks/backend.vala				 |  5 ++++-
 folks/individual-aggregator.vala		 |  7 +++----
 tests/telepathy/individual-retrieval.vala	 |  3 +--
 tests/telepathy/persona-store-capabilities.vala |  2 +-
 tests/tracker/add-persona.vala			 |  2 +-
 tests/tracker/duplicated-emails.vala		 |  2 +-
 tests/tracker/duplicated-phones.vala		 |  2 +-
 tests/tracker/link-personas-via-local-ids.vala  |  2 +-
 tests/tracker/link-personas.vala		 |  2 +-
 tests/tracker/match-all.vala			 |  2 +-
 tests/tracker/match-email-addresses.vala	 |  2 +-
 tests/tracker/match-im-addresses.vala		 |  2 +-
 tests/tracker/match-known-emails.vala		 |  2 +-
 tests/tracker/match-name.vala			 |  2 +-
 tests/tracker/match-phone-number.vala		 |  2 +-
 tests/tracker/remove-persona.vala		 |  2 +-
 tests/tracker/set-duplicate-email.vala		 |  2 +-
 tools/import.vala				 | 15 ++++++++++-----
 tools/inspect/command-backends.vala		 |  7 +++----
 tools/inspect/command-persona-stores.vala	 | 12 ++++++------
 tools/inspect/utils.vala			 |  9 ++++-----
 26 files changed, 87 insertions(+), 82 deletions(-)

commit f45fcbb3b1eb92feed741a1a513265d30624aaa8
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Apr 19 18:57:46 2011 +0100

    Remove LinkedHashSet in favour of Gee.HashSet

    Helps: bgo#640092

 NEWS				  |   1 +
 folks/Makefile.am		  |   1 -
 folks/linked-hash-set.vala	  | 377
 ------------------------------------
 tests/folks/Makefile.am	  |   6 -
 tests/folks/linked-hash-set.vala | 404
 ---------------------------------------
 5 files changed, 1 insertion(+), 788 deletions(-)

commit 4b28646ea714d9322f09c35095716887ac200115
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Apr 19 18:43:18 2011 +0100

    Change WebServiceDetails.…addresses to be a MultiMap<string, string>

    Helps: bgo#640092

 NEWS					     |	2 ++
 backends/key-file/kf-persona-store.vala     |	4 +--
 backends/key-file/kf-persona.vala	     | 42
 +++++++++++++----------------
 backends/libsocialweb/lib/swf-persona.vala  | 11 +++-----
 backends/tracker/lib/trf-persona-store.vala | 28 +++++++++----------
 backends/tracker/lib/trf-persona.vala	     | 17 ++++++------
 folks/individual-aggregator.vala	     | 25 ++++++++---------
 folks/individual.vala			     | 27 +++++++++----------
 folks/web-service-details.vala		     | 11 +++-----
 tools/inspect/utils.vala		     | 12 ++++-----
 10 files changed, 80 insertions(+), 99 deletions(-)

commit 6b5c6befa0a4c392a1ffb6516963a0cbbbb1e4bd
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Apr 19 18:12:15 2011 +0100

    Change ImDetails.im_addresses to be a MultiMap<string, string>

    Helps: bgo#640092

 NEWS					     |	 1 +
 backends/key-file/kf-persona-store.vala     |	 6 +-
 backends/key-file/kf-persona.vala	     |	55 +++++--------
 backends/libsocialweb/lib/swf-persona.vala  |	12 +--
 backends/telepathy/lib/tpf-persona.vala     |	17 ++--
 backends/tracker/lib/trf-persona-store.vala | 118
 +++++++++++++++++++++++-----
 backends/tracker/lib/trf-persona.vala	     |	52 ++++--------
 folks/im-details.vala			     |	13 ++-
 folks/individual-aggregator.vala	     |	28 +++----
 folks/individual.vala			     |	25 +++---
 folks/potential-match.vala		     |	16 ++--
 tests/tracker/add-persona.vala		     |	17 ++--
 tests/tracker/im-details-interface.vala     |	 2 +-
 tests/tracker/imaddresses-updates.vala      |	14 ++--
 tests/tracker/link-personas.vala	     |	24 +++---
 tests/tracker/match-im-addresses.vala	     |	27 +++----
 tests/tracker/set-im-addresses.vala	     |	24 ++----
 tools/import-pidgin.vala		     |	20 ++---
 tools/inspect/utils.vala		     |	14 ++--
 19 files changed, 235 insertions(+), 250 deletions(-)

commit 858e80d7649ebe7af0553531a940098f6d3c8449
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Mar 24 13:19:12 2011 +0000

    Add navigation tests for LinkedHashSet.Iterator

    Helps: bgo#645684

 tests/folks/linked-hash-set.vala | 59
 ++++++++++++++++++++++++++++++++++++++++
 1 file changed, 59 insertions(+)

commit 61ed5af3594831015fd52cf4c548ff1840ec334f
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Mar 24 12:31:42 2011 +0000

    Implement an Iterator for LinkedHashSet

    In order to ensure that calling Iterator.remove() on an iterator
    returned by
    LinkedHashSet.iterator() actually removes the item from both the
    linked list
    and hash set in the LinkedHashSet, we have to subclass Iterator
    ourselves.

    This means that all the LinkedHashSet tests pass once more.

    Closes: bgo#645684

 NEWS			    |  3 ++
 folks/linked-hash-set.vala | 77
 ++++++++++++++++++++++++++++++++++++++++++++--
 2 files changed, 78 insertions(+), 2 deletions(-)

commit 34e89c9fdeba10c52238831cd6303fa7a2e9e2c3
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Mar 24 12:19:32 2011 +0000

    Add stamping to LinkedHashSet

    Since we don't have access to the stamps in the LinkedHashSet's
    linked list
    or hash set, we have to maintain our own. This is necessary for
    implementing
    our own Iterator. (See next commit.)

    Helps: bgo#645684

 folks/linked-hash-set.vala | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit f311735144325c44de2c542415fcf65913d9e286
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Mar 24 12:08:28 2011 +0000

    Remove implementation of LinkedHashSet.list_iterator()

    The extra methods provided by ListIterator are all incompatible
    with the
    set qualities of LinkedHashSet, and would allow duplicate entries
    to be
    introduced into the set.

    LinkedHashSet.iterator() continues to return an iterator which
    uses the
    links in LinkedHashSet to provide fast iteration.

    Helps: bgo#645684

 NEWS			    | 3 +++
 folks/linked-hash-set.vala | 7 +++----
 2 files changed, 6 insertions(+), 4 deletions(-)

commit c6f44b505999d259af5b262a69e57da31af611d0
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Mar 24 11:57:24 2011 +0000

    Add tests for LinkedHashSet.iterator()

    Helps: bgo#645684

 tests/folks/linked-hash-set.vala | 49
 ++++++++++++++++++++++++++++++++++++++++
 1 file changed, 49 insertions(+)

commit 9fa57c03a51e4c5b4eaf04642ebab7a52d62003f
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Apr 12 20:42:06 2011 +0100

    Don't remove the wrong Individuals from IndividualAggregator

    In IndividualAggregator._individual_removed_cb(), don't remove
    the individual
    from IndividualAggregator.individuals unless it is actually the
    individual
    which is emitting the "removed" signal.

    Closes: bgo#647121

 NEWS				  | 2 ++
 folks/individual-aggregator.vala | 8 ++++----
 2 files changed, 6 insertions(+), 4 deletions(-)

commit ce370e34d73fc1fb13781cf59f29efe5553000ca
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sat Jan 22 11:34:53 2011 +0000

    Fix Tpf.Persona to use its store's ID in persona UIDs

    It was previously (incorrectly) not using the PersonaStore's ID as
    the middle
    component in its UID, which meant that the same IM address as added
    on two
    different accounts using the same protocol would have the same UID,
    undermining the concept of a UID as a globally unique identifier for a
    Persona.

    Closes: bgo#647121

 backends/telepathy/lib/tpf-persona.vala    |  2 +-
 tests/folks/aggregation.vala		    | 15 ++++++++++-----
 tests/telepathy/individual-properties.vala |  3 ++-
 tests/telepathy/individual-retrieval.vala  |  3 ++-
 4 files changed, 15 insertions(+), 8 deletions(-)

commit 0517262c104a2c30c621ab180f1b4ac6e2b47b13
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Apr 12 16:08:40 2011 +0100

    Bug 647562 — Don't crash on duplicate group channels

 NEWS					       |  1 +
 backends/telepathy/lib/tpf-persona-store.vala | 17 +++++++++++++++++
 2 files changed, 18 insertions(+)

commit f9f5fddf944218530316e4191ca82bafc9b37160
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Apr 15 16:53:03 2011 -0700

    Add download-page and bug-database entries to DOAP file.

 folks.doap | 3 +++
 1 file changed, 3 insertions(+)

commit 1ca419bc64c94e750afbba4cca5811da99d02b7f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Apr 15 16:51:36 2011 -0700

    Add a (long) description to the DOAP file.

 folks.doap | 5 +++++
 1 file changed, 5 insertions(+)

commit 9f457074278f8f8d7e4e3885f2c120ca157ff228
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:	Tue Apr 12 15:00:38 2011 +0100

    Bug 645388 — Group channels are leaked

 NEWS				      | 3 +++
 backends/telepathy/lib/tp-lowlevel.c | 2 ++
 backends/telepathy/lib/tp-lowlevel.h | 2 +-
 3 files changed, 6 insertions(+), 1 deletion(-)

commit 9a85048406949a4cbe787638a81571a5df9973cf
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Apr 12 01:26:29 2011 -0700

    Post-release version bump.

 NEWS	      | 3 +++
 configure.ac | 4 ++--
 2 files changed, 5 insertions(+), 2 deletions(-)

commit 69de76acf7e4bb9f740ac2fd6dcfea0643145c39
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Apr 12 00:39:35 2011 -0700

    Release version 0.5.0

 backends/libsocialweb/lib/swf-persona-store.vala | 10 +++++-----
 backends/libsocialweb/lib/swf-persona.vala	  |  4 ++--
 backends/tracker/lib/trf-persona-store.vala	  | 18 +++++++++---------
 backends/tracker/lib/trf-persona.vala		  |  2 +-
 configure.ac					  |  8 ++++----
 folks/individual-aggregator.vala		  |  6 +++---
 folks/local-id-details.vala			  |  4 ++--
 folks/name-details.vala			  |  2 +-
 folks/persona-store.vala			  |  6 +++---
 folks/phone-details.vala			  |  6 +++---
 folks/potential-match.vala			  | 12 ++++++------
 folks/web-service-details.vala			  |  4 ++--
 12 files changed, 41 insertions(+), 41 deletions(-)

commit 9d34cdb3773b89b448c0759f011187f9bef213f6
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Apr 12 00:43:51 2011 -0700

    Add NEWS entry for potential matches.

 NEWS | 4 ++++
 1 file changed, 4 insertions(+)

commit 4d4bace24f49e44648f61792ebacc87107d55c93
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Apr 12 00:46:55 2011 -0700

    Add NEWS entry for the WebServiceDetails interface.

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit 47cfe36cd5571e9810731dedab214f4b1516623d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Apr 12 00:49:21 2011 -0700

    Add NEWS entry for LocalIdDetails interface

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit 940f9169a82158a3d8bd070490a3897483055a91
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Sat Apr 9 18:29:54 2011 +0100

    folks-inspect: Fix crashes when trying auto completion with parameters

    Drop CCode since Vala uses null terminated arrays by default.

    Closes: bgo#647298

 NEWS			    | 2 ++
 tools/inspect/inspect.vala | 1 -
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 6064e680ea0154579d499dd3d9140f2a9fbcef54
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Sun Apr 10 15:18:02 2011 +0100

    Add test for setting an existing email an a Trf.Persona

 tests/tracker/Makefile.am		|   6 +
 tests/tracker/set-duplicate-email.vala | 226
 +++++++++++++++++++++++++++++++++
 2 files changed, 232 insertions(+)

commit 80ad989ec0f785561986ab417917a46554fc9636
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Sun Apr 10 15:17:30 2011 +0100

    Handle setting existing emails/phones in a Trf.Persona

 NEWS					     |	 2 +
 backends/tracker/lib/trf-persona-store.vala | 191
 +++++++++++++++++-----------
 2 files changed, 117 insertions(+), 76 deletions(-)

commit 46606bc028abdc680ea6debe2213c88092a65868
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Mon Apr 11 13:22:15 2011 +0100

    linking: check if details contain im-addresses or
    web-service-addresses

    It fixes a regression in add_persona_from_details introduced by
    this commit:

    commit 4a8b46e6b7afd314807865586a60995dfe52896f
    Author: Raul Gutierrez Segales
    <raul.gutierrez.segales@collabora.co.uk>
    Date:   Fri Apr 8 16:03:11 2011 +0100

	Only add available properties when linking Personas

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=647200

 backends/key-file/kf-persona-store.vala | 17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit f4edad9ac248a01f1817a1c98d3b62f27a18ee84
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Mon Apr 11 12:57:26 2011 +0100

    Revert "Temporarily disable lsw aggregation test. See bgo#647200"

    This reverts commit bf218ed4ae92158e676c73ee15b774b41e0a8993.

 tests/libsocialweb/Makefile.am | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit e7171a6dae78d8c3efa522f17fe2a889fb9d4f5f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Mon Apr 11 14:37:03 2011 +0100

    phone-details: move a comment to make valadoc happy

 folks/phone-details.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 01f95b45a4ebe3534671a7e896a301675dbabbb8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Mon Apr 11 14:36:24 2011 +0100

    tracker tests: fix Makefile.am

 tests/tracker/Makefile.am | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit c45433adc6bd228bac67f01d868c0b2c0073c1ff
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Sat Apr 9 17:30:47 2011 +0100

    Fixed problem with saving results in get_all_potential_matches

 folks/individual-aggregator.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6a6a7490908dd7429b5830244a3752923178e995
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Sat Apr 9 17:12:30 2011 +0100

    PotentialMatch: make result_to_string a class method

 folks/potential-match.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ded132eeee6540ef1d75fa77653825f2cf9ee950
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Sat Apr 9 16:26:32 2011 +0100

    String should be `very low` instead of `very unlikely`

 folks/potential-match.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 91a205ae3257c0e774d30ada45a65ab499420196
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Fri Apr 8 23:59:46 2011 +0100

    Add test for get_{all}_potential_matches APIs

 tests/tracker/Makefile.am    |   5 +
 tests/tracker/match-all.vala | 248
 +++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 253 insertions(+)

commit 92e829d0ea3d900a08aef1ff01887016c6595414
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Fri Apr 8 23:59:00 2011 +0100

    Add test to match via name similarity

 tests/tracker/Makefile.am     |   6 +
 tests/tracker/match-name.vala | 268
 ++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 274 insertions(+)

commit 72bda5a085fb455101c988f00ba0177c2bf5a5a9
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Fri Apr 8 23:58:18 2011 +0100

    Add test to match via phone numbers

 tests/tracker/Makefile.am	       |   7 ++
 tests/tracker/match-phone-number.vala | 225
 ++++++++++++++++++++++++++++++++++
 2 files changed, 232 insertions(+)

commit dae05264ba188a2589331c63ab6c07e3810eece4
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Fri Apr 8 23:57:10 2011 +0100

    Add test to avoid matching known e-mail addresses

 tests/tracker/Makefile.am	       |   6 +
 tests/tracker/match-known-emails.vala | 231
 ++++++++++++++++++++++++++++++++++
 2 files changed, 237 insertions(+)

commit 8dc0f702ec234487fac6f130de4ff9f8a0340f72
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Fri Apr 8 23:56:09 2011 +0100

    Add test to match via e-mail addresses

 tests/tracker/Makefile.am		  |   6 +
 tests/tracker/match-email-addresses.vala | 223
 +++++++++++++++++++++++++++++++
 2 files changed, 229 insertions(+)

commit 319643ded3369aa640d3232fad6bf36077608cff
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Fri Apr 8 23:55:19 2011 +0100

    Add test to match via IM Addresses

 tests/tracker/Makefile.am	       |   6 +
 tests/tracker/match-im-addresses.vala | 230
 ++++++++++++++++++++++++++++++++++
 2 files changed, 236 insertions(+)

commit 62695d90ce0b63656e1adb454966495cbba86648
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Fri Apr 8 23:52:54 2011 +0100

    Add support to perform potential matches among Individuals

 folks/Makefile.am		  |   1 +
 folks/individual-aggregator.vala |  75 +++++++
 folks/potential-match.vala	  | 462
 +++++++++++++++++++++++++++++++++++++++
 3 files changed, 538 insertions(+)

commit 87b8eafcc687a16240e520107997933ab2974ed7
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Mon Apr 4 15:51:49 2011 +0100

    Add helper method to normalise and compare phone numbers

 folks/phone-details.vala | 109
 +++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 109 insertions(+)

commit f758d8e23f3a9e4f6c2c924e828c8eec83cc60d7
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Fri Apr 8 20:51:32 2011 +0100

    Add Folks.Utils to group helper methods

 folks/Makefile.am |  1 +
 folks/utils.vala  | 28 ++++++++++++++++++++++++++++
 2 files changed, 29 insertions(+)

commit bf218ed4ae92158e676c73ee15b774b41e0a8993
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Apr 8 11:43:49 2011 -0700

    Temporarily disable lsw aggregation test. See bgo#647200

 tests/libsocialweb/Makefile.am | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 974f9155ffefb3073e2dc9cc753b41a66367a081
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Apr 8 11:44:23 2011 -0700

    Bump libsocialweb version.

    This version is required so we can rely upon correct D-Bus signaling
    from
    libsocialweb.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 82f365cd94112ef2f1572372dabe1a362fcc60f0
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Fri Apr 8 16:02:20 2011 +0100

    Implement web-service-details for Trf.Personas

 backends/tracker/lib/trf-persona-store.vala | 206
 ++++++++++++++++++++++++----
 backends/tracker/lib/trf-persona.vala	     |	39 +++++-
 2 files changed, 215 insertions(+), 30 deletions(-)

commit 4d81c2ed5457dd95e4fc35864c84800d309f289e
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Thu Apr 7 17:37:13 2011 +0100

    Add test for linking 2 Trf.Personas via local_ids

 tests/tracker/Makefile.am			|   6 +
 tests/tracker/link-personas-via-local-ids.vala | 291
 +++++++++++++++++++++++++
 2 files changed, 297 insertions(+)

commit a4370216d553c4af22df96139369877ad4d67378
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Thu Apr 7 17:36:11 2011 +0100

    Extend IndividualAggregator to support linking via local_ids

 folks/individual-aggregator.vala | 20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit 6511b536b2839cd36964db5c01cff565b942de21
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Thu Apr 7 17:35:48 2011 +0100

    Implement LocalIDDetails for Folks.Individual

 folks/individual.vala | 45 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 45 insertions(+)

commit 45b7cb6e75b359c2996f3f97132e6077bb86e955
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Thu Apr 7 17:35:10 2011 +0100

    [Tracker] Implement support for LocalIDDetails

 backends/tracker/lib/trf-persona-store.vala | 129
 +++++++++++++++++++++++++++-
 backends/tracker/lib/trf-persona.vala	     |	55 +++++++++++-
 backends/tracker/lib/trf-util.vala	     |	 4 +
 3 files changed, 186 insertions(+), 2 deletions(-)

commit 2151df7af6bcaf925cf29165aeebddafb5c2e309
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Thu Apr 7 17:32:59 2011 +0100

    Add LOCAL_IDS to the known defined keys for add_persona_from_details

 folks/persona-store.vala | 2 ++
 1 file changed, 2 insertions(+)

commit 5cc2e1c48d274aa993e34bfea71c666efbdeb85e
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Thu Apr 7 17:32:18 2011 +0100

    Add LocalIdDetails interface to link Personas from Tracker

 folks/Makefile.am	     |	1 +
 folks/local-id-details.vala | 40 ++++++++++++++++++++++++++++++++++++++++
 2 files changed, 41 insertions(+)

commit 5154a5926efb64b7429dacdc6a31f54ca2f0efcb
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Fri Apr 8 16:28:07 2011 +0100

    Remove a print statement that was used for debugging

 tests/tracker/link-personas.vala | 1 -
 1 file changed, 1 deletion(-)

commit e307cd368b8f185de40a4e9c347211403d01e377
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Fri Apr 8 12:30:55 2011 +0100

    List Folks.PersonaDetail in alphabetical order

 backends/tracker/lib/trf-persona-store.vala |	4 ++--
 folks/persona-store.vala		     | 24 ++++++++++++------------
 tests/tracker/add-persona.vala		     |	3 ++-
 3 files changed, 16 insertions(+), 15 deletions(-)

commit 4a8b46e6b7afd314807865586a60995dfe52896f
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Fri Apr 8 16:03:11 2011 +0100

    Only add available properties when linking Personas

 folks/individual-aggregator.vala | 41
 +++++++++++++++++++++-------------------
 1 file changed, 22 insertions(+), 19 deletions(-)

commit a2096bee7ba8e88db1b60ad81a94a6ef3aa837fc
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Fri Apr 8 16:08:44 2011 +0100

    key-file: Make Kf.Persona implement WebServiceDetails interface

 backends/key-file/kf-persona.vala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit db68c9757ef05fb17fa14769733e591c86efe431
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Fri Apr 8 14:25:45 2011 +0100

    folks-inspect: print "web-service-addresses" property correctly

    https://bugzilla.gnome.org/show_bug.cgi?id=647168

 NEWS			  |  1 +
 tools/inspect/utils.vala | 33 +++++++++++++++++++++++++++++++++
 2 files changed, 34 insertions(+)

commit de647a3018beeb044437799b0871293f474087ac
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Thu Apr 7 18:56:36 2011 +0100

    NEWS: add references to the last libsocialweb bugs

 NEWS | 3 +++
 1 file changed, 3 insertions(+)

commit f40389e0edb590e3fa19bc02982a86fba4f16871
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Wed Mar 30 18:01:10 2011 +0100

    tests: linking: libsocialweb

 tests/lib/libsocialweb/backend.vala	      |   6 +-
 tests/libsocialweb/Makefile.am		      |   6 +
 tests/libsocialweb/aggregation.vala	      | 256
 +++++++++++++++++++++++++++
 tests/libsocialweb/data/backend-lsw-only.ini |  13 +-
 4 files changed, 268 insertions(+), 13 deletions(-)

commit 4a775a4a5092558ed28a8cd92a341e55beffbec2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Tue Mar 29 19:13:19 2011 +0100

    linking: add interface for linkable web service contact UIDs

    Bug: https://bugzilla.gnome.org/show_bug.cgi?id=644867

 backends/key-file/kf-persona-store.vala    | 20 +++++--
 backends/key-file/kf-persona.vala	    | 94
 +++++++++++++++++++++++++++++-
 backends/libsocialweb/lib/swf-persona.vala | 37 ++++++++++--
 folks/Makefile.am			    |  1 +
 folks/individual-aggregator.vala	    | 68 +++++++++++++++------
 folks/individual.vala			    | 55 ++++++++++++++++-
 folks/persona-store.vala		    |  2 +
 folks/web-service-details.vala		    | 49 ++++++++++++++++
 8 files changed, 294 insertions(+), 32 deletions(-)

commit 351e41a65365f33715bbd4756fa17d1c1cf62c0d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Wed Apr 6 19:11:32 2011 +0100

    libsocialweb: fix: update and delete contacts

    Unit test updated

    https://bugzilla.gnome.org/show_bug.cgi?id=646944

 backends/libsocialweb/lib/swf-persona-store.vala |  14 ++-
 tests/libsocialweb/dummy-lsw.vala		  | 106
 ++++++++++++++++++++++-
 2 files changed, 114 insertions(+), 6 deletions(-)

commit 7923dc2ec0085539d265bc0d23390e991c9d9fdc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Tue Apr 5 15:06:24 2011 +0100

    vala: require version 0.12.0

    valac 0.12.0 has a fix for this bug:
    https://bugzilla.gnome.org/show_bug.cgi?id=646345

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a9f6eeac177395996491181c12eaec22ad296757
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Tue Apr 5 14:47:59 2011 +0100

    [Tracker] Add test for duplicated phone numbers

 tests/tracker/Makefile.am	      |   6 +
 tests/tracker/duplicated-phones.vala | 220
 +++++++++++++++++++++++++++++++++++
 2 files changed, 226 insertions(+)

commit f98957a36820ac13ef61f43263dcf0633c36d8e1
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Tue Apr 5 14:11:21 2011 +0100

    [Tracker] Add test for duplicated e-mail addresses

 tests/tracker/Makefile.am	      |   6 +
 tests/tracker/duplicated-emails.vala | 218
 +++++++++++++++++++++++++++++++++++
 2 files changed, 224 insertions(+)

commit 86d5976cc17efe0ad9bc4185e74606eb81d7d683
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Tue Apr 5 13:15:45 2011 +0100

    [Tracker] Re-use phone-numbers/emails if they already exist

 NEWS					     |	1 +
 backends/tracker/lib/trf-persona-store.vala | 59
 +++++++++++++++++++++++------
 2 files changed, 48 insertions(+), 12 deletions(-)

commit 0aa46cddfb0e696ef79dd37d655aad72e6fd681f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Mon Apr 4 13:53:20 2011 +0100

    libsocialweb: update NEWS

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit 9b80b5325ee5026bc74b46027fb29ec2dddaf5ed
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Fri Apr 1 18:02:33 2011 +0100

    libsocialweb: conditional compilation

    Introduces --enable-libsocialweb-backend=[yes/no/auto] (default:
    auto). Unless
    `no' is used, it checks the dependencies for the libsocialweb
    backend and
    automatically compiles it when possible. Configure fails if `yes'
    is used and
    the required dependencies are not available.

 configure.ac | 58
 +++++++++++++++++++++++++++++++++++++++++++++++-----------
 1 file changed, 47 insertions(+), 11 deletions(-)

commit f1b315d36a7638580137f2d82d0c6fd5760410c8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Fri Apr 1 11:47:49 2011 +0100

    libsocialweb: update dependency on libsocialweb-client 0.25.14

    libsocialweb 0.25.14 contains the new contacts interface. It is
    announed here:
    http://mail.gnome.org/archives/ftp-release-list/2011-March/msg00299.html

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2b314228f713803cf78c5f679f9e371ca7f47c9b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Mon Mar 14 11:49:56 2011 +0000

    tests: libsocialweb: new test infrastructure for libsocialweb

 configure.ac				      |   7 +-
 tests/Makefile.am			      |   5 +
 tests/lib/Makefile.am			      |   5 +
 tests/lib/libsocialweb/Makefile.am	      |  52 ++++
 tests/lib/libsocialweb/backend.vala	      | 356
 +++++++++++++++++++++++++++
 tests/lib/libsocialweb/session.conf.in       |  54 ++++
 tests/libsocialweb/Makefile.am		      |  79 ++++++
 tests/libsocialweb/data/backend-lsw-only.ini |  12 +
 tests/libsocialweb/dummy-lsw.vala	      | 170 +++++++++++++
 9 files changed, 739 insertions(+), 1 deletion(-)

commit ea92ae0ac24d181cb64840df86b7c6c821105f79
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Mon Mar 28 15:43:57 2011 +0100

    libsocialweb: check contacts capabilities and disconnect signals

 backends/libsocialweb/lib/swf-persona-store.vala | 53
 +++++++++++++++++-------
 1 file changed, 37 insertions(+), 16 deletions(-)

commit 30b64d46df840e23e9ecf1b486d64104577d7a66
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Mon Mar 28 12:00:24 2011 +0100

    libsocialweb: factor build_facebook_jid and build_iid

 backends/libsocialweb/lib/swf-persona.vala | 56
 ++++++++++++++++++++++++------
 1 file changed, 45 insertions(+), 11 deletions(-)

commit e52ccc3b474ce5a7cf6d9e35ef4a047d14d1c409
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Mon Mar 28 11:39:56 2011 +0100

    libsocialweb: make gender_string lowercase before comparing with
    "male" and "female"

 backends/libsocialweb/lib/swf-persona.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2c39dc54ba8060341eb110cf1043cd9a80d8f0f7
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Fri Mar 25 15:54:08 2011 +0000

    libsocialweb: use BACKEND_NAME in build_uid

 backends/libsocialweb/lib/swf-persona.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d64848ea14c025224386c2c9fd58c722947a5963
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Fri Mar 25 15:28:52 2011 +0000

    libsocialweb: fix error PersonaStoreError.UNSUPPORTED_ON_USER

 backends/libsocialweb/lib/swf-persona-store.vala | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 4eb8947edf3b5e5ddeb8b2d5c775d535722db3ce
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Fri Mar 25 15:27:07 2011 +0000

    libsocialweb: fix @since

 backends/libsocialweb/lib/swf-persona-store.vala | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit a7df7da89163b7704c7f40757a765e6749ff4e5f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Wed Mar 16 16:35:20 2011 +0000

    libsocialweb: use the new Contacts interface

 backends/libsocialweb/lib/swf-persona-store.vala | 40
 ++++++++++++------------
 backends/libsocialweb/lib/swf-persona.vala	  | 32 +++++++++----------
 2 files changed, 36 insertions(+), 36 deletions(-)

commit cc838cd51f3334089b39735ecb6f76acb9426513
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Mon Mar 21 16:54:03 2011 +0000

    libsocialweb: convert GenericArray to LinkedHashSet

 backends/libsocialweb/lib/swf-persona.vala | 20 +++++++++++++-------
 1 file changed, 13 insertions(+), 7 deletions(-)

commit 9384dbb75029a3bfbd06dc12e1b8f69b675a1899
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Fri Mar 18 14:22:27 2011 +0000

    libsocialweb: prepare code to receive several urls. Blocked on
    bug #645139

 backends/libsocialweb/lib/swf-persona.vala | 13 +++++--------
 1 file changed, 5 insertions(+), 8 deletions(-)

commit 66a181500d3199f260a856414a9830b99815dc93
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Tue Mar 29 14:18:32 2011 +0100

    libsocialweb: create a separate library folks-libsocialweb

    Based on initial work from:
     Thomas Thurman <thomas@thurman.org.uk>
    Reworked by:
     Alban Crequy <alban.crequy@collabora.co.uk>

 backends/libsocialweb/Makefile.am		    |  13 +-
 backends/libsocialweb/lib/Makefile.am		    | 114 ++++++++++
 .../lib/folks-libsocialweb-uninstalled.pc.in	    |  12 ++
 backends/libsocialweb/lib/folks-libsocialweb.deps  |	4 +
 backends/libsocialweb/lib/folks-libsocialweb.pc.in |  15 ++
 backends/libsocialweb/lib/swf-persona-store.vala   | 235
 +++++++++++++++++++++
 backends/libsocialweb/lib/swf-persona.vala	    | 224
 ++++++++++++++++++++
 backends/libsocialweb/sw-backend.vala		    |	2 +-
 backends/libsocialweb/sw-persona-store.vala	    | 234
 --------------------
 backends/libsocialweb/sw-persona.vala		    | 225
 --------------------
 configure.ac					    |	3 +
 11 files changed, 618 insertions(+), 463 deletions(-)

commit 6469bb1e62a720b323fc98a7d75b23197a58734c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:	Mon Mar 7 18:31:40 2011 +0000

    libsocialweb: Don't crash when D-Bus method Query.OpenView() returns
    an error

 backends/libsocialweb/sw-persona-store.vala | 5 +++++
 1 file changed, 5 insertions(+)

commit 8e3a5f833098271e309bdcd05e7e93381f3f0554
Author: Marco Barisione <marco@barisione.org>
Date:	Mon Dec 20 10:57:13 2010 +0000

    libsocialweb: Print debugging info after initializing a Sw.Persona
    and not before

 backends/libsocialweb/sw-persona.vala | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 35fbc43b5415a8cf6ece3264634304465c86b3ff
Author: Marco Barisione <marco@barisione.org>
Date:	Wed Nov 10 15:22:08 2010 +0000

    libsocialweb: Automatically merge Facebook XMPP contacts with the
    libsocialweb ones

 backends/libsocialweb/sw-persona.vala | 49
 ++++++++++++++++++++++++++++++++++-
 1 file changed, 48 insertions(+), 1 deletion(-)

commit 6df6204a1563ebdf04b370e5d21cce0ca7d33327
Author: Marco Barisione <marco@barisione.org>
Date:	Wed Nov 10 11:57:40 2010 +0000

    libsocialweb: Make Sw.Persona retrieve gender and URLs from
    libsocialweb

 backends/libsocialweb/sw-persona.vala | 54
 ++++++++++++++++++++++++++++++++++-
 1 file changed, 53 insertions(+), 1 deletion(-)

commit 2fa1e70a97e08a706ce8b8091761a21cf9a32d81
Author: Marco Barisione <marco@barisione.org>
Date:	Mon Nov 8 14:02:30 2010 +0000

    libsocialweb: Make Sw.Persona implement the NameDetails interface
    instead of Aliasable

 backends/libsocialweb/sw-persona.vala | 48
 +++++++++++++++++++++++++----------
 1 file changed, 35 insertions(+), 13 deletions(-)

commit bdbb67519d99610b3cc5937c6f7e79227d6cfc18
Author: Marco Barisione <marco@barisione.org>
Date:	Mon Nov 1 13:58:08 2010 +0000

    libsocialweb: add new backend

    Based on patches from:
     Marco Barisione <marco@barisione.org>
    Reworked by:
     Alban Crequy <alban.crequy@collabora.co.uk>

 backends/Makefile.am			       |   5 +
 backends/libsocialweb/Makefile.am	       |  55 +++++++
 backends/libsocialweb/sw-backend-factory.vala |  59 +++++++
 backends/libsocialweb/sw-backend.vala	       | 130 +++++++++++++++
 backends/libsocialweb/sw-persona-store.vala   | 229
 ++++++++++++++++++++++++++
 backends/libsocialweb/sw-persona.vala	       | 104 ++++++++++++
 configure.ac				       |   9 +
 7 files changed, 591 insertions(+)

commit 030bea6b11997c4f9feddd4b36b9ead23018d499
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Mon Apr 4 21:47:11 2011 +0100

    Fix make distcheck by including tracker files in EXTRA_DIST

 backends/Makefile.am	 |  5 +----
 configure.ac		 | 17 ++++++-----------
 tests/Makefile.am	 |  5 +----
 tests/lib/Makefile.am	 |  5 +----
 tests/tools/Makefile.am |  7 ++-----
 5 files changed, 11 insertions(+), 28 deletions(-)

commit 5dd9f0cca03880739e9a3b37fe816070c0b5e5cf
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Sat Apr 2 12:51:27 2011 -0700

    Make Folks.PersonaStore.detail_key() static.

 backends/key-file/kf-persona-store.vala     |	4 ++--
 backends/tracker/lib/trf-persona-store.vala | 35
 ++++++++++++++++-----------
 folks/persona-store.vala		     |	4 ++--
 tests/tracker/add-persona.vala		     | 37
 +++++++++++++++++------------
 tests/tracker/remove-persona.vala	     |	5 ++--
 5 files changed, 50 insertions(+), 35 deletions(-)

commit c8974dd3016ac4d79af44736a8adbcb28971552d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Sat Apr 2 12:51:08 2011 -0700

    Don't remove our generated gconf.path during 'make all'

 tests/data/Makefile.am | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 0108cbe5336866d613cfd4f6ca02154325991d20
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Apr 1 16:21:01 2011 -0700

    Distribute the gconf path files.

 tests/data/Makefile.am | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 1e3350bc9d896b64982576cf3aadd0b1bea5594f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Apr 1 16:00:05 2011 -0700

    Include GConf when building docs.

 docs/Makefile.am | 2 ++
 1 file changed, 2 insertions(+)

commit beb1a1abab09d29ffec0fe231f0caf0aafe47f5c
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Fri Apr 1 22:00:27 2011 +0100

    Add NEWS entry about support to switch primary store

    Closes: bgo#645441 - Mechanism to specify primary backend

 NEWS | 6 ++++++
 1 file changed, 6 insertions(+)

commit 4379835b5144c45700c3fb2471910484cb338b14
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Mon Mar 28 11:52:08 2011 +0100

    Add test for linking personas using the Tracker backend

 tests/tracker/Makefile.am	  |   9 ++
 tests/tracker/link-personas.vala | 320
 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 329 insertions(+)

commit 359b1ad903341396d7a5532a6918377ffcc7af42
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Mon Mar 28 11:51:43 2011 +0100

    Implemented linkable_property_to_links in Trf.Persona

 backends/tracker/lib/trf-persona.vala | 27 ++++++++++++++++++++++++++-
 1 file changed, 26 insertions(+), 1 deletion(-)

commit 467672197a8225a4c9b91e541e80afe53fdbbfd4
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Mon Mar 28 11:49:44 2011 +0100

    Add support to switch primary backend either by GConf or an env var

 configure.ac			  |  2 ++
 folks/Makefile.am		  |  3 +++
 folks/individual-aggregator.vala | 58
 ++++++++++++++++++++++++++++++++++------
 3 files changed, 55 insertions(+), 8 deletions(-)

commit bb6b6ff44a211c1df55b4a00a41564c49b9f89e8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jan 14 14:50:43 2011 -0800

    Make tests use local GConf config and store.

    This avoids reading or writing the user's GConf store and lets us
    start from a
    consistent state when running tests (required for repeatability).

 configure.ac		  |  1 +
 tests/data/Makefile.am   | 14 +++++++++++++
 tests/data/gconf.path.in | 51
 ++++++++++++++++++++++++++++++++++++++++++++++++
 tests/folks/Makefile.am  |  1 +
 4 files changed, 67 insertions(+)

commit 900b1a7c1bb30ff8910874e865c51ffdae82583d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Apr 1 12:08:36 2011 -0700

    Label trf-persona-store as translatable.

 po/POTFILES.in   | 1 +
 po/POTFILES.skip | 1 +
 2 files changed, 2 insertions(+)

commit 8b35f9a6498d48225e31b2dd4a86fd1dc64c664e
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Fri Mar 18 14:45:23 2011 +0000

    Add write support for Tracker

    Closes: bgo#645413

 NEWS					     |	  1 +
 backends/tracker/lib/trf-persona-store.vala | 1415
 ++++++++++++++++++++++++---
 backends/tracker/lib/trf-persona.vala	     |	243 +++--
 backends/tracker/lib/trf-util.vala	     |	 18 +
 tests/tracker/Makefile.am		     |	 96 ++
 tests/tracker/add-contact.vala		     |	 19 +-
 tests/tracker/add-persona.vala		     |	514 ++++++++++
 tests/tracker/additional-names-updates.vala |	 44 +-
 tests/tracker/family-name-updates.vala      |	 31 +-
 tests/tracker/given-name-updates.vala	     |	 19 +-
 tests/tracker/name-details-interface.vala   |	 14 +-
 tests/tracker/nickname-updates.vala	     |	 26 +-
 tests/tracker/prefix-name-updates.vala      |	 19 +-
 tests/tracker/remove-persona.vala	     |	208 ++++
 tests/tracker/set-alias.vala		     |	168 ++++
 tests/tracker/set-avatar.vala		     |	145 +++
 tests/tracker/set-birthday.vala	     |	154 +++
 tests/tracker/set-emails.vala		     |	160 +++
 tests/tracker/set-favourite.vala	     |	180 ++++
 tests/tracker/set-full-name.vala	     |	144 +++
 tests/tracker/set-gender.vala		     |	142 +++
 tests/tracker/set-im-addresses.vala	     |	177 ++++
 tests/tracker/set-notes.vala		     |	153 +++
 tests/tracker/set-phones.vala		     |	160 +++
 tests/tracker/set-postal-addresses.vala     |	174 ++++
 tests/tracker/set-roles.vala		     |	153 +++
 tests/tracker/set-structured-name.vala      |	156 +++
 tests/tracker/set-urls.vala		     |	166 ++++
 tests/tracker/suffix-name-updates.vala      |	  3 +
 29 files changed, 4643 insertions(+), 259 deletions(-)

commit 8435b42f7a0cb1cb09cdf42ce172420dc9f0a60e
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Thu Mar 31 15:37:21 2011 +0100

    Access detail_key via `this` since its an instance method

 backends/key-file/kf-persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fbf1d5eebb24a53b615c1e0a564c57f8885c5e67
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Wed Mar 30 17:49:10 2011 +0100

    Update Kf.PersonaStore.add_persona_from_details to use defined
    constants

 backends/key-file/kf-persona-store.vala | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit e198a0cd1e9717e711c32f8a4503c66a0768e82e
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Mon Mar 28 18:52:08 2011 +0100

    Helpers to check add_persona_from_details' compliance with basic
    attributes.

    The detail_key () method (along with the PersonaDetail enum) allows
    us to easily check the default attributes that should be handled
    in the HashTable received by add_persona_from_details.

 NEWS			  |  4 +++
 folks/persona-store.vala | 73
 ++++++++++++++++++++++++++++++++++++++++++++++--
 2 files changed, 75 insertions(+), 2 deletions(-)

commit 45a0b1dd7b4384b2f11555c7dfb61dbfacb30de1
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Tue Mar 22 21:35:57 2011 +0000

    Fix checks for empty and equal StructuredNames

 NEWS		       |  1 +
 folks/individual.vala | 18 +++++++++++++-----
 2 files changed, 14 insertions(+), 5 deletions(-)

commit 32b6b58bb887984cee20b3a12998ae651a76a53d
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Mar 30 00:00:44 2011 +0100

    Bug 645475 — Linker warnings for Tracker backend tests

    Fix the Tracker test helper library (libtracker-test.so) with the
    libfolks
    Tracker helper library (libfolks-tracker.so) rather than the loadable
    Tracker
    libfolks backend module (libfolks-backend-tracker.so).

    Also, add the Tracker SPARQL LIBS variable to
    libtracker_test_la_LIBADD, which
    was missing.

    Closes: bgo#645475

 NEWS			       | 1 +
 tests/lib/tracker/Makefile.am | 3 ++-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit a8583cc08f948a328350088a62838e0e7493f191
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Tue Mar 29 23:37:57 2011 +0100

    Add missing backslash to EXTRA_DIST list

 tests/tools/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f87361964aa60361da59a3eb9e404fd37769c0b5
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Jan 17 15:42:24 2011 +0000

    Bug 645680 — Use random integer IDs for Kf.Personas

    Using consecutive integer IDs meant that IDs often got re-used
    as Personas
    were deleted and added, meaning that the same ID could, over time,
    be applied
    to several different Personas which contained completely different IM
    addresses. Any external references to such IDs which weren't
    updated over
    time with the IDs themselves (such as the to-be-added anti-links)
    would end
    up pointing to effectively the wrong Persona.

    A perfect solution would be to hash the IM addresses in each Persona
    and use
    that as the Persona's ID, but that's not possible as the set of
    IM addresses
    in a Kf.Persona can change over time, while the ID has to remain
    constant.
    Consequently, the use of a random integer evenly distributed over
    the space of
    unsigned 32-bit integers will do.

    Closes: bgo#645680

 NEWS					 |  1 +
 backends/key-file/kf-persona-store.vala | 14 ++++++--------
 2 files changed, 7 insertions(+), 8 deletions(-)

commit c40b69f3b3c3dfb5890b964f2ec1e9daacc5a0aa
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Nov 21 14:15:36 2010 +0000

    Clarify immutability of Persona.uid

 folks/persona.vala | 5 +++++
 1 file changed, 5 insertions(+)

commit 6a4f08292269cf7add9d5214960ad6e40c57bced
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Mar 17 11:00:24 2011 -0700

    Distribute (but not install) internal .gir and .vapi files

 backends/telepathy/lib/Makefile.am	     | 4 ++--
 tests/lib/telepathy/contactlist/Makefile.am | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit bbaf9a0dd285d2bed3dca1423866cbe74caa5f3e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Mar 17 10:50:20 2011 -0700

    Cut unused automake variables.

 backends/telepathy/lib/Makefile.am	     | 2 --
 tests/lib/telepathy/contactlist/Makefile.am | 2 --
 2 files changed, 4 deletions(-)

commit 1c2765353e583dfaba53506fd6776372ef7dc149
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Tue Mar 22 21:16:28 2011 +0000

    Add equal method to StructuredName

 NEWS			 |  3 +++
 folks/name-details.vala | 17 +++++++++++++++++
 2 files changed, 20 insertions(+)

commit 8b2801701348486ac760ae2044197538f8fb366c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Mar 18 12:07:42 2011 -0700

    Disconnect from 'invalidated' on proxies we abandon.

    This prevents a crasher in the Telepathy backend where:

    1. We hit _reset() and set this._subscribe, etc., to null.

    2. Each of these proxies gets disposed and emits 'invalidated'

    3. Our 'invalidated' handler ends up unrefing each proxy an extra
    time, which
    ends up in some ugly dispose -> unref -> dispose recursion, which
    continues
    after it's finalized, leading to bad/undefined behavior (usually,
    but not
    always, a crasher).

 NEWS					       |  1 +
 backends/telepathy/lib/tpf-persona-store.vala | 32
 ++++++++++++++++++++++++---
 2 files changed, 30 insertions(+), 3 deletions(-)

commit 3832a5d8f6ec6da40c3770168a7bce1005fc1bc0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:	Wed Mar 23 09:33:43 2011 +0000

    When removing, use a local copy of the personas

    Removing personas from folks will change our individuals persona list,
    so we need to make a copy to be able to safely iterate it.

 NEWS				  | 1 +
 folks/individual-aggregator.vala | 9 +++++++--
 2 files changed, 8 insertions(+), 2 deletions(-)

commit aec19c6e93faf98d4d2304ca6fad5f3c804bd315
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Tue Mar 22 13:40:18 2011 +0000

    EXTRA_DIST in tests/tools  was missing a few files

 tests/tools/Makefile.am | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 86f6bf68706af4534b5022d0f8a939b40627d277
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Mar 21 10:42:40 2011 -0700

    Update folks-import to the current API for ImDetails.im_addresses.

    Fixes bgo#645411 - folks-import segfaults on startup

 NEWS			  |  1 +
 tools/import-pidgin.vala | 14 +++++++-------
 2 files changed, 8 insertions(+), 7 deletions(-)

commit 3287866d9258164efc205995b19946c37c7bdc69
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Mon Mar 21 18:36:01 2011 +0000

    Fix entries in the NEWS file

 NEWS | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 4be6ab548a046ac760d46c3ffc0375d5a62f98da
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Mon Mar 21 18:03:58 2011 +0000

    folks-inspect: use LinkedHashSet to access im-addresses

 NEWS			  |  1 +
 tools/inspect/utils.vala | 11 ++++++-----
 2 files changed, 7 insertions(+), 5 deletions(-)

commit 6a2253b8110f04e904b022e9fc21f66f3153a78a
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Tue Feb 15 17:13:30 2011 +0000

    Initial implementation of the tracker backend

 backends/Makefile.am				    |	13 +
 backends/tracker/Makefile.am			    |	63 ++
 backends/tracker/lib/Makefile.am		    |  115 +++
 .../tracker/lib/folks-tracker-uninstalled.pc.in    |	12 +
 backends/tracker/lib/folks-tracker.deps	    |	 4 +
 backends/tracker/lib/folks-tracker.pc.in	    |	15 +
 backends/tracker/lib/trf-persona-store.vala	    | 1028
 ++++++++++++++++++++
 backends/tracker/lib/trf-persona.vala		    |  982
 +++++++++++++++++++
 backends/tracker/lib/trf-util.vala		    |  139 +++
 backends/tracker/tr-backend-factory.vala	    |	59 ++
 backends/tracker/tr-backend.vala		    |  120 +++
 configure.ac					    |	39 +
 tests/Makefile.am				    |	17 +
 tests/lib/Makefile.am				    |	13 +
 tests/lib/tracker/Makefile.am			    |	51 +
 tests/lib/tracker/backend.vala			    |  544 +++++++++++
 tests/tools/Makefile.am			    |	 1 +
 tests/tools/tracker.sh				    |	34 +
 tests/tools/with-session-bus-tracker.sh	    |	45 +
 tests/tracker/Makefile.am			    |  253 +++++
 tests/tracker/add-contact.vala			    |  147 +++
 tests/tracker/additional-names-updates.vala	    |  163 ++++
 tests/tracker/avatar-details-interface.vala	    |  169 ++++
 tests/tracker/avatar-updates.vala		    |  177 ++++
 tests/tracker/birthday-details-interface.vala	    |  150 +++
 tests/tracker/birthday-updates.vala		    |  181 ++++
 tests/tracker/data/avatar-01.jpg		    |  Bin 0 -> 1157 bytes
 tests/tracker/data/backend-tracker-only.ini	    |	 6 +
 tests/tracker/default-contact.vala		    |  144 +++
 tests/tracker/email-details-interface.vala	    |  150 +++
 tests/tracker/emails-updates.vala		    |  207 ++++
 tests/tracker/family-name-updates.vala		    |  160 +++
 tests/tracker/favourite-details-interface.vala     |  166 ++++
 tests/tracker/favourite-updates.vala		    |  182 ++++
 tests/tracker/fullname-updates.vala		    |  153 +++
 tests/tracker/gender-details-interface.vala	    |  143 +++
 tests/tracker/given-name-updates.vala		    |  158 +++
 tests/tracker/im-details-interface.vala	    |  160 +++
 tests/tracker/imaddresses-updates.vala		    |  197 ++++
 tests/tracker/individual-retrieval.vala	    |  138 +++
 tests/tracker/name-details-interface.vala	    |  188 ++++
 tests/tracker/nickname-updates.vala		    |  153 +++
 tests/tracker/note-details-interface.vala	    |  151 +++
 tests/tracker/phone-details-interface.vala	    |  149 +++
 tests/tracker/phones-updates.vala		    |  196 ++++
 .../tracker/postal-address-details-interface.vala  |  176 ++++
 tests/tracker/prefix-name-updates.vala		    |  155 +++
 tests/tracker/remove-contact.vala		    |  140 +++
 tests/tracker/role-details-interface.vala	    |  138 +++
 tests/tracker/suffix-name-updates.vala		    |  158 +++
 tests/tracker/url-details-interface.vala	    |  150 +++
 tests/tracker/website-updates.vala		    |  175 ++++
 52 files changed, 8427 insertions(+)

commit dd1d8fcf30ddbe86f557397b4829660daf94ed9d
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Sun Mar 20 22:57:46 2011 +0000

    Ensure we are only testing the built-in backends

 tests/data/backend-store-all.ini |  9 ++++++++-
 tests/folks/backend-loading.vala | 30 +++++++++++++++++++++++++-----
 2 files changed, 33 insertions(+), 6 deletions(-)

commit 9156bfb6b3a58eafcf0a7b7c54d7db563dd9300e
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Thu Mar 17 14:28:02 2011 +0000

    Factor out common dbus wrapper code into sourceable files

 tests/tools/dbus-session.sh	 | 114
 ++++++++++++++++++++++++++++++++++++++++
 tests/tools/with-session-bus.sh |  87 +++---------------------------
 2 files changed, 122 insertions(+), 79 deletions(-)

commit 312103b5268bab3030378032d797f1dcf0fa7168
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Wed Mar 16 22:04:50 2011 +0000

    Copy new PhoneDetails for individuals, don't hold stale pointers.

    Fixed bgo#644968 - _update_phone_numbers () needs to create copies
    of each List<FieldDetails>

 NEWS		       |  2 ++
 folks/individual.vala | 13 +++++++++++--
 2 files changed, 13 insertions(+), 2 deletions(-)

commit 260e6f2a90a8c509b5dbaa673029a621601c78fb
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Wed Mar 16 21:51:57 2011 +0000

    Copy new Emails for individuals, don't hold stale pointers.

    Fixed bgo#644966 - _update_emails () needs to create copies of each
    List<FieldDetails>

 NEWS		       |  4 ++++
 folks/individual.vala | 13 +++++++++++--
 2 files changed, 15 insertions(+), 2 deletions(-)

commit b2f1610eae99a0799d97a45132c1d51bd1312bf5
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Mar 14 12:27:22 2011 -0700

    Post-release version bump.

 NEWS	      | 3 +++
 configure.ac | 6 +++---
 2 files changed, 6 insertions(+), 3 deletions(-)

commit d4ecb2149176f5f9cac52446c58da8a163b7a0a2
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Mar 14 11:24:20 2011 -0700

    Release Folks 0.4.0

 NEWS				   |  2 +-
 configure.ac			   | 10 +++++-----
 folks/backend-store.vala	   |  2 +-
 folks/birthday-details.vala	   |  6 +++---
 folks/name-details.vala	   |  2 +-
 folks/note-details.vala	   |  8 ++++----
 folks/postal-address-details.vala |  4 ++--
 folks/role-details.vala	   | 10 +++++-----
 8 files changed, 22 insertions(+), 22 deletions(-)

commit ad743d5f78f56ba2358ac60fdbbf9985380729c7
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Mar 14 07:58:37 2011 -0700

    Don't overwrite an Individual's avatar with null.

    (unlike the previous commit, this one actually...)

    Fixes: bgo#644165 - An individual's avatar shouldn't be replaced by
    a null
    avatar

 folks/individual.vala | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit f4ca6a2e378783a6c392a12ebfbd11ef3ac8d084
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Fri Mar 11 00:40:14 2011 +0000

    folks-inspect: print an Avatar's uri

    Fixes: bgo#644165 - An individual's avatar shouldn't be replaced by
    a null
    avatar

 NEWS			   | 1 +
 tools/inspect/Makefile.am | 3 +++
 tools/inspect/utils.vala  | 6 +++++-
 3 files changed, 9 insertions(+), 1 deletion(-)

commit 986cd0293f51aa47aa6c3af741d448b05769de1b
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Fri Mar 11 13:54:03 2011 -0800

    folks-inspect: handle Structured Names

    Fixes: bgo#644457 - Handle structured names

 NEWS			  |  1 +
 folks/name-details.vala  | 21 ++++++++++++++++++++-
 tools/inspect/utils.vala |  8 ++++++++
 3 files changed, 29 insertions(+), 1 deletion(-)

commit 8d7081012d1f8661ef3f729eb4a2c93772958b36
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Sat Mar 5 15:06:55 2011 +0000

    folks-inspect: handle birthday/postal-addresses

    Fixes: bgo#643957 - Deal handle birthday and postal-addresses.

 NEWS			  |  1 +
 tools/inspect/utils.vala | 28 ++++++++++++++++++++++++++++
 2 files changed, 29 insertions(+)

commit 47c2dec59010201759dd0a4e845e6618b697be9e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Mar 11 11:40:32 2011 -0800

    Don't note API changes which have happened to new interfaces.

 NEWS | 4 ----
 1 file changed, 4 deletions(-)

commit 495af30846165cbed89545bf844af9266b7797d0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Mar 10 17:11:48 2011 -0800

    Rename Urlable -> UrlDetails

    Fixes bgo#642513 - Folks "Owner" interfaces are awkwardly-named

 NEWS			|  1 +
 folks/Makefile.am	|  2 +-
 folks/individual.vala	|  8 ++++----
 folks/url-details.vala | 39 +++++++++++++++++++++++++++++++++++++++
 folks/urlable.vala	| 39 ---------------------------------------
 5 files changed, 45 insertions(+), 44 deletions(-)

commit 82685d87b6def34fd92401d8e9e824f0f4e366e0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Mar 10 17:04:55 2011 -0800

    Rename RoleOwner -> RoleDetails

    Helps bgo#642513 - Folks "Owner" interfaces are awkwardly-named

 NEWS			 |   4 +-
 folks/Makefile.am	 |   2 +-
 folks/individual.vala	 |   8 ++--
 folks/role-details.vala | 123
 ++++++++++++++++++++++++++++++++++++++++++++++++
 folks/role-owner.vala	 | 123
 ------------------------------------------------
 po/POTFILES.in		 |   2 +-
 po/POTFILES.skip	 |   2 +-
 7 files changed, 132 insertions(+), 132 deletions(-)

commit 095ca9bccd5429ff54d6dcfe43baf90c49b05885
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Mar 10 16:59:25 2011 -0800

    Rename PresenceOwner -> PresenceDetails

    Helps bgo#642513 - Folks "Owner" interfaces are awkwardly-named

 NEWS					    |	1 +
 backends/telepathy/lib/tpf-persona.vala    |	6 +-
 folks/Makefile.am			    |	2 +-
 folks/im-details.vala			    |	2 +-
 folks/individual.vala			    |	8 +-
 folks/presence-details.vala		    | 162
 +++++++++++++++++++++++++++++
 folks/presence-owner.vala		    | 162
 -----------------------------
 tests/telepathy/individual-properties.vala |	2 +-
 8 files changed, 173 insertions(+), 172 deletions(-)

commit 27935c24c2b5f62446094c40b6459b5537c0d71f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Mar 10 16:46:11 2011 -0800

    Rename PostalAddressOwner -> PostalAddressDetails

    Helps bgo#642513 - Folks "Owner" interfaces are awkwardly-named

 NEWS				   |   4 +-
 folks/Makefile.am		   |   2 +-
 folks/individual.vala		   |   9 +-
 folks/postal-address-details.vala | 236
 ++++++++++++++++++++++++++++++++++++++
 folks/postal-address-owner.vala   | 236
 --------------------------------------
 po/POTFILES.in			   |   2 +-
 po/POTFILES.skip		   |   2 +-
 7 files changed, 246 insertions(+), 245 deletions(-)

commit 3c972a9ee7e701e1cd6ce0b23f491b6d9f6ee352
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Mar 10 16:40:50 2011 -0800

    Rename Phoneable -> PhoneDetails

    Helps bgo#642513 - Folks "Owner" interfaces are awkwardly-named

 NEWS			  |  1 +
 folks/Makefile.am	  |  2 +-
 folks/individual.vala	  |  8 ++++----
 folks/phone-details.vala | 39 +++++++++++++++++++++++++++++++++++++++
 folks/phoneable.vala	  | 39 ---------------------------------------
 5 files changed, 45 insertions(+), 44 deletions(-)

commit e6c6b6aaa90ef15fdc42d317b5089cf9a833d7bc
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Mar 10 16:34:44 2011 -0800

    Rename NoteOwner -> NoteDetails

    Helps bgo#642513 - Folks "Owner" interfaces are awkwardly-named

 NEWS			 |  2 +-
 folks/Makefile.am	 |  2 +-
 folks/individual.vala	 |  8 ++---
 folks/note-details.vala | 92
 +++++++++++++++++++++++++++++++++++++++++++++++++
 folks/note-owner.vala	 | 92
 -------------------------------------------------
 5 files changed, 98 insertions(+), 98 deletions(-)

commit bb99bfe38e36de6a01cbdf351b1f215f99c90bfa
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Mar 10 16:30:05 2011 -0800

    Rename NameOwner -> NameDetails

    Helps bgo#642513 - Folks "Owner" interfaces are awkwardly-named

 NEWS			 |   1 +
 folks/Makefile.am	 |   2 +-
 folks/individual.vala	 |  20 ++---
 folks/name-details.vala | 212
 ++++++++++++++++++++++++++++++++++++++++++++++++
 folks/name-owner.vala	 | 212
 ------------------------------------------------
 5 files changed, 224 insertions(+), 223 deletions(-)

commit 9086a10c502e55ea7e57d9ae795333b81a701f0b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Mar 10 16:23:55 2011 -0800

    Rename IMable -> ImDetails

    Helps bgo#642513 - Folks "Owner" interfaces are awkwardly-named

 NEWS					 |   1 +
 backends/key-file/kf-persona.vala	 |  12 +--
 backends/telepathy/lib/tpf-persona.vala |  12 +--
 folks/Makefile.am			 |   2 +-
 folks/im-details.vala			 | 176
 ++++++++++++++++++++++++++++++++
 folks/imable.vala			 | 176
 --------------------------------
 folks/individual-aggregator.vala	 |   4 +-
 folks/individual.vala			 |   8 +-
 folks/persona.vala			 |   2 +-
 po/POTFILES.in				 |   2 +-
 po/POTFILES.skip			 |   2 +-
 tests/folks/linked-hash-set.vala	 |   4 +-
 12 files changed, 201 insertions(+), 200 deletions(-)

commit b2a60c1f8bc8d032ce99a4bd1e7ec53106da9c63
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Mar 10 15:11:27 2011 -0800

    Rename Groupable -> GroupDetails

    Helps bgo#642513 - Folks "Owner" interfaces are awkwardly-named

 NEWS					       |   1 +
 backends/key-file/kf-persona-store.vala       |  10 +-
 backends/telepathy/lib/tpf-persona-store.vala |   8 +-
 backends/telepathy/lib/tpf-persona.vala       |   6 +-
 folks/Makefile.am			       |   2 +-
 folks/group-details.vala		       | 147
 ++++++++++++++++++++++++++
 folks/groupable.vala			       | 147
 --------------------------
 folks/individual-aggregator.vala	       |   4 +-
 folks/individual.vala			       |  24 ++---
 folks/persona-store.vala		       |   2 +-
 tools/import-pidgin.vala		       |   6 +-
 11 files changed, 179 insertions(+), 178 deletions(-)

commit 4cbdbf9b30095f5e5de3378e23f80c94810e829e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Mar 10 15:14:26 2011 -0800

    Rename GenderOwner -> GenderDetails

    Helps bgo#642513 - Folks "Owner" interfaces are awkwardly-named

 NEWS			   |  1 +
 folks/Makefile.am	   |  2 +-
 folks/gender-details.vala | 58
 +++++++++++++++++++++++++++++++++++++++++++++++
 folks/gender-owner.vala   | 58
 -----------------------------------------------
 folks/individual.vala	   |  8 +++----
 5 files changed, 64 insertions(+), 63 deletions(-)

commit b181a6587e3be54f0a6cef9109534c9801659c02
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Mar 10 14:53:06 2011 -0800

    Rename Favouritable -> FavouriteDetails

    Helps bgo#642513 - Folks "Owner" interfaces are awkwardly-named

 NEWS					 |  1 +
 backends/telepathy/lib/tpf-persona.vala |  4 ++--
 folks/Makefile.am			 |  2 +-
 folks/favouritable.vala		 | 33
 ---------------------------------
 folks/favourite-details.vala		 | 33
 +++++++++++++++++++++++++++++++++
 folks/individual.vala			 | 10 +++++-----
 6 files changed, 42 insertions(+), 41 deletions(-)

commit 26ade1fe73a0c18d8ad6c60e1b31b4c6547af79d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Mar 10 11:59:25 2011 -0800

    Rename Emailable -> EmailDetails

    Helps bgo#642513 - Folks "Owner" interfaces are awkwardly-named

 NEWS			  |  1 +
 folks/Makefile.am	  |  2 +-
 folks/email-details.vala | 37 +++++++++++++++++++++++++++++++++++++
 folks/emailable.vala	  | 37 -------------------------------------
 folks/individual.vala	  |  8 ++++----
 5 files changed, 43 insertions(+), 42 deletions(-)

commit fbc1d396fd6f62f9c70d3e2376f58025e9e21138
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Mar 10 15:52:50 2011 -0800

    Rename BirthdayOwner -> BirthdayDetails

    Helps bgo#642513 - Folks "Owner" interfaces are awkwardly-named

 NEWS			     |	2 +-
 folks/Makefile.am	     |	2 +-
 folks/birthday-details.vala | 45
 +++++++++++++++++++++++++++++++++++++++++++++
 folks/birthday-owner.vala   | 45
 ---------------------------------------------
 folks/individual.vala	     |	4 ++--
 5 files changed, 49 insertions(+), 49 deletions(-)

commit e6782e4fad7e3d9399ba5a38555a4fb9da8b0017
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Mar 10 15:32:27 2011 -0800

    Rename AvatarOwner -> AvatarDetails

    Helps bgo#642513 - Folks "Owner" interfaces are awkwardly-named

 NEWS					 |  1 +
 backends/telepathy/lib/tpf-persona.vala |  4 ++--
 folks/Makefile.am			 |  2 +-
 folks/avatar-details.vala		 | 36
 +++++++++++++++++++++++++++++++++
 folks/avatar-owner.vala		 | 36
 ---------------------------------
 folks/individual.vala			 |  6 +++---
 6 files changed, 43 insertions(+), 42 deletions(-)

commit b6a398ccf36e54ec9d45b9478538bbeff6d74ea8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Mar 10 11:55:07 2011 -0800

    Rename Aliasable -> AliasDetails

    Helps bgo#642513 - Folks "Owner" interfaces are awkwardly-named

 NEWS					 |  1 +
 backends/key-file/kf-persona.vala	 |  2 +-
 backends/telepathy/lib/tpf-persona.vala |  4 ++--
 folks/Makefile.am			 |  2 +-
 folks/alias-details.vala		 | 36
 +++++++++++++++++++++++++++++++++
 folks/aliasable.vala			 | 36
 ---------------------------------
 folks/individual.vala			 | 19 ++++++++---------
 folks/name-owner.vala			 |  2 +-
 tools/import-pidgin.vala		 |  4 ++--
 9 files changed, 54 insertions(+), 52 deletions(-)

commit 1220b6e9bf95d215ca7b1c3741a23aa588058c72
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Mar 9 11:30:20 2011 -0800

    Update listed translations.

 po/POTFILES.in   | 2 ++
 po/POTFILES.skip | 2 ++
 2 files changed, 4 insertions(+)

commit e821ccd5a700e9391967e3a3d7cc8b56789a8e6d
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Sat Mar 5 15:03:23 2011 +0000

    Add to_string () method to RoleOwner

 NEWS		       |  2 ++
 folks/role-owner.vala | 11 +++++++++++
 2 files changed, 13 insertions(+)

commit 8a519d5a49a4e0cba5e33285cabb6510945c579b
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Sat Mar 5 15:02:59 2011 +0000

    Add to_string () method to PostalAddress

 NEWS				 |  2 ++
 folks/postal-address-owner.vala | 12 ++++++++++++
 2 files changed, 14 insertions(+)

commit 06cbd717e49cc019cb03f6e0b65828b2721b5645
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Sat Mar 5 15:04:41 2011 +0000

    Use the correct signal name for postal addresses

 NEWS		       | 1 +
 folks/individual.vala | 4 ++--
 2 files changed, 3 insertions(+), 2 deletions(-)

commit cc94fe53590cdfe0867696f5a52332a69ab8a4e5
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Fri Mar 4 21:56:33 2011 +0000

    Added equal method to PostalAddress

 NEWS				 |  1 +
 folks/postal-address-owner.vala | 23 +++++++++++++++++++++++
 2 files changed, 24 insertions(+)

commit 952c07bb01e57d10a5abf0a482bbd277456e9595
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Fri Mar 4 16:39:45 2011 +0000

    Add uid to PostalAddress to facilitate tracking

 NEWS				 |  1 +
 folks/postal-address-owner.vala | 16 ++++++++++++++--
 2 files changed, 15 insertions(+), 2 deletions(-)

commit 56fe5319d5537664da742606ecdd3caa66f56ced
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Mar 4 12:03:26 2011 -0800

    Don't drop Individuals' initial set of notes.

 folks/individual.vala | 2 --
 1 file changed, 2 deletions(-)

commit 80a5b4a06c35bc9e7023492b075eb20343b05db4
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Mar 3 11:53:45 2011 -0800

    Add API change notes for our newer interfaces.

 NEWS | 3 +++
 1 file changed, 3 insertions(+)

commit 244a1d345600320934fdef22ab4d6e3a5943aac5
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Mar 3 11:50:06 2011 -0800

    Add NEWS entry for postal address interface

    Fixes: bgo#641210 - Add interface for postal addresses

 NEWS | 4 ++++
 1 file changed, 4 insertions(+)

commit e14a7a0c486edd04971d457af9bdbe101dba3781
Author: Marco Barisione <marco@barisione.org>
Date:	Tue Dec 28 17:28:12 2010 +0100

    Make Individual implement the PostalAddressOwner interface

 folks/individual.vala | 46 ++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 46 insertions(+)

commit 290957d2bb89d954078bc862c7ee9a085b6a7326
Author: Marco Barisione <marco@barisione.org>
Date:	Tue Dec 28 17:27:38 2010 +0100

    Add PostalAddressOwner for contacts with postal addresses

 folks/Makefile.am		 |   1 +
 folks/postal-address-owner.vala | 189
 ++++++++++++++++++++++++++++++++++++++++
 2 files changed, 190 insertions(+)

commit a69d0fcecc75040aae0276723db99375f58bebbf
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Mar 3 09:47:22 2011 -0800

    Check FieldDetails values before storing to avoid segfaults.

    This protects against backends storing some bogus data in their
    Personas (in
    this case, value-less URL, Phone Number, or Email Address fields).

 folks/individual.vala | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 5461da4b1b549bda90e99d15b15c82e6d7431532
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Thu Mar 3 17:23:07 2011 +0000

    Ensure we update an Individual's notes along with the other fields.

 folks/individual.vala | 1 +
 1 file changed, 1 insertion(+)

commit 203e1151df1fdea310c738c1501a84169b0330b8
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Thu Mar 3 17:20:16 2011 +0000

    Ensure we update an Individual's birthday along with the other fields.

 folks/individual.vala | 1 +
 1 file changed, 1 insertion(+)

commit a41ee9f96eb9e7fdea67d8bf884670797eb24521
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Thu Mar 3 01:17:38 2011 +0000

    Add NoteOwner interface

    Fixes: bgo#642501 - Folks needs API for attaching notes to a Contact

 NEWS		       |  1 +
 folks/Makefile.am     |  1 +
 folks/individual.vala | 45 +++++++++++++++++++++++++
 folks/note-owner.vala | 92
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 139 insertions(+)

commit f30fc9be93996d99b8700f8d8cad85a6ff901e32
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Wed Mar 2 18:44:37 2011 +0000

    Add BirthdayOwner interface

    Fixes: bgo#642500 - Folks needs API for specifying a contact's
    birthday

 NEWS			   |  1 +
 folks/Makefile.am	   |  1 +
 folks/birthday-owner.vala | 45
 +++++++++++++++++++++++++++++++++++++++++++++
 folks/individual.vala	   | 47
 +++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 94 insertions(+)

commit 4c09f5839fd9f93400a7d03cd8a18e430395b7d8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Mar 2 16:10:27 2011 -0800

    Update NEWS for RoleOwner.

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit a292acae512f76932e2ae95cd143df89e3e27ecd
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Tue Mar 1 19:09:14 2011 +0000

    Add RoleOwner interface for contacts that belong to an Organisation

 folks/Makefile.am     |   1 +
 folks/individual.vala |  47 +++++++++++++++++++++
 folks/role-owner.vala | 112
 ++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 160 insertions(+)

commit e23104201cc9a4d49a5198ae7a2b12953cb1055f
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Tue Mar 1 19:49:45 2011 +0000

    List the implemented interfaces in alphabetical order

 folks/individual.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c815354e5d039e79633ad0931141a342c5d08301
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Mar 1 18:45:24 2011 -0800

    Distribute test data files

 configure.ac		| 1 +
 tests/Makefile.am	| 1 +
 tests/data/Makefile.am | 5 +++++
 3 files changed, 7 insertions(+)

commit f436d2d5895b7a91b94a560a74b08f14ffcf3b33
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Feb 27 20:19:03 2011 +0000

    Bug 642861 — FolksLinkedHashSet still alive when exiting Empathy

    A self-referencing closure was prevent all Tpf.Personas from being
    finalised,
    which was in turn causing a load of owned objects (such as
    LinkedHashSets)
    from being finalised. Spotted by Guillaume Desmottes
    <gdesmott@gnome.org>.
    Closes: bgo#642861

 NEWS					 | 2 ++
 backends/telepathy/lib/tpf-persona.vala | 4 ++--
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 4d3fad486007238fb20a5024b5d1d3a5b8476fc1
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Feb 27 16:34:06 2011 +0000

    Bug 642866 — tp-lowlevel leaks TpChannel

    Fix a leak of TpChannels from tp-lowlevel.c, spotted by Guillaume
    Desmottes
    <gdesmott@gnome.org>. Closes: bgo#642866

 backends/telepathy/lib/tp-lowlevel.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4f43991ec80f0076e58eafc5970e56b73f983801
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Thu Feb 24 15:21:36 2011 +0000

    folks-inspect: handle emails/urls/phone-numbers

 NEWS			  |  2 ++
 tools/inspect/utils.vala | 22 ++++++++++++++++++++++
 2 files changed, 24 insertions(+)

commit 16ee512844a43dc0a0973f63f986d57c9d84b387
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Feb 24 15:46:35 2011 -0800

    Point valadoc to the C headers so it doesn't fail on "missing"
    symbols.

    Scanning directories (with -b) is no longer supported. See bgo#629531,
    comment#7.

    Fixes bgo#643247 - Folks needs C API documentation

 NEWS		  | 1 +
 docs/Makefile.am | 4 ++--
 2 files changed, 3 insertions(+), 2 deletions(-)

commit df8bd6838118bc4e5c8b063c3a1d9c2d1b24cb50
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Feb 24 12:54:01 2011 -0800

    Re-enable gtk-docs, now that valadoc is fixed.

    Helps bgo#643247 - Folks needs C API documentation

 configure.ac	  |  4 +++-
 docs/Makefile.am | 55
 ++++++++++++++++++++++++-------------------------------
 2 files changed, 27 insertions(+), 32 deletions(-)

commit a0d19148895f74a3c1d543c3b3e9ff42594e2c5d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Feb 24 16:42:48 2011 -0800

    Copy new URLs for individuals, don't hold stale pointers.

    Fixes bgo#Bug 643241 - _update_urls () needs to create copies of each
    List<FieldDetails>

    Code by Raul Gutierrez Segales.

 NEWS		       |  2 ++
 folks/individual.vala | 12 ++++++++++--
 2 files changed, 12 insertions(+), 2 deletions(-)

commit bdcbcdf3f2c9b9453dd10dc9bf7a2985eec289f9
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Feb 23 12:45:58 2011 -0800

    Disable build gtk-docs, since valadoc crashes on them.

    This is related to, but not exactly, bgo#629531.

 docs/Makefile.am | 55
 ++++++++++++++++++++++++++++++++-----------------------
 1 file changed, 32 insertions(+), 23 deletions(-)

commit 7cfc1502c783a119b8e0861d757e3c7ad8070f14
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Feb 20 11:15:23 2011 +0000

    Ignore tp-lowlevel when building the folks-tp documentation

 docs/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 9d1306e5b78a1291e35a24e2200fbb8548f73f19
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Feb 20 11:14:04 2011 +0000

    Correctly pass linking flags to valadoc when building the folks-tp
    docs

    It turns out that bgo#637090 was just us not passing the flags
    correctly
    (one has to pass two flags to valadoc to get it to pass a single
    flag to
    the doclet). See: bgo#637090

 docs/Makefile.am | 16 ++--------------
 1 file changed, 2 insertions(+), 14 deletions(-)

commit 8f37599b1d980faddda95f589e028806fc2f431f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Feb 14 23:26:26 2011 -0800

    Use the 'all-others' BackendStore key file group for backend tests.

    Fixes bgo#642351 - BACKEND_STORE_KEY_FILE format should support a
    wildcard entry

 NEWS						       | 6 ++++++
 tests/data/backend-store-all.ini		       | 5 +----
 tests/key-file/data/backend-store-key-file-only.ini   | 2 +-
 tests/telepathy/data/backend-store-telepathy-only.ini | 6 +++---
 4 files changed, 11 insertions(+), 8 deletions(-)

commit db4fe26826df1abbee0440d5714863264f969cd2
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Feb 14 23:25:33 2011 -0800

    Support the 'all-others' wildcard group in BACKEND_STORE_KEY_FILE.

    Helps bgo#642351 - BACKEND_STORE_KEY_FILE format should support a
    wildcard entry

 folks/backend-store.vala | 52
 +++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 51 insertions(+), 1 deletion(-)

commit 969a9328b8faac443be22e2f97215f455c985d6c
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Feb 14 23:29:24 2011 +0000

    Remove support for building with Vala < 0.11

 backends/key-file/kf-persona-store.vala |  8 +-------
 configure.ac				 |  1 -
 folks/backend-store.vala		 | 10 ----------
 folks/individual-aggregator.vala	 |  4 ----
 4 files changed, 1 insertion(+), 22 deletions(-)

commit 8fb78fba81a779b421a1ed0b76d0e741c5f51afc
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Feb 14 23:28:59 2011 +0000

    Fix srcdir != builddir problem in the documentation makefile

 docs/Makefile.am | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 275aa907752c29fc95f86e1730ce475d9167e43a
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Feb 14 23:18:02 2011 +0000

    Post-release version bump

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit bd0a886aed6fb9bbaf405daee3c84ef77685babf
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Feb 14 23:17:21 2011 +0000

    Release version 0.3.6

 NEWS	      | 6 ++++++
 configure.ac | 6 +++---
 2 files changed, 9 insertions(+), 3 deletions(-)

commit 1c0ae0afc8c99370b9736bf647a011e17e728102
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Feb 14 23:06:02 2011 +0000

    Fix the documentation version tags

    I fail at doing releases.

 backends/telepathy/lib/tpf-persona.vala |  2 +-
 folks/backend-store.vala		 |  4 ++--
 folks/emailable.vala			 |  4 ++--
 folks/field-details.vala		 | 18 +++++++++---------
 folks/gender-owner.vala		 |  6 +++---
 folks/individual-aggregator.vala	 |  2 +-
 folks/name-owner.vala			 | 26 +++++++++++++-------------
 folks/phoneable.vala			 |  4 ++--
 folks/urlable.vala			 |  4 ++--
 9 files changed, 35 insertions(+), 35 deletions(-)

commit c280e3b129409cf75cb51b5c9b4bae9e6c495ee2
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Feb 14 23:05:57 2011 +0000

    Post-release version bump

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2c568353de38e2cb17842a47851f0042e31af6b3
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Feb 14 22:58:25 2011 +0000

    Release version 0.3.5

 NEWS	      | 12 ++++++++++++
 configure.ac |  8 ++++----
 2 files changed, 16 insertions(+), 4 deletions(-)

commit d4ec25154f72711c9c1e5e81f224051ab12c5e82
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Feb 14 22:18:36 2011 +0000

    Bug 642036 — No way to pass a message when adding a contact

    Document that the "message" key in the details hash table passed to
    IndividualAggregator.add_persona_from_details() may (by convention)
    be used
    to pass a human-readable message to the persona being added.

    Implement this in the Telepathy backend. Closes: bgo#642036

 backends/telepathy/lib/tp-lowlevel.c	       |  5 +++--
 backends/telepathy/lib/tp-lowlevel.h	       |  9 +++++++++
 backends/telepathy/lib/tpf-persona-store.vala | 22 ++++++++++++++--------
 folks/individual-aggregator.vala	       |  1 +
 4 files changed, 27 insertions(+), 10 deletions(-)

commit c489e94cbf7783946aca62611717aeeee98a535d
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Feb 7 22:25:38 2011 +0000

    Use “dup” instead of “get” in method names which return a
    referenced object

    This bumps our Vala dependency to 0.11.6, which includes a necessary
    fix
    for the CCode annotation we use. Helps: bgo#629078

 NEWS				     |	4 ++++
 configure.ac			     |	2 +-
 folks/backend-store.vala	     | 10 +++++++---
 tools/import.vala		     |	2 +-
 tools/inspect/command-backends.vala |	2 +-
 5 files changed, 14 insertions(+), 6 deletions(-)

commit 271ee14ed7a1c6373a8f1f5b4d91dc2410c5909d
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Feb 6 12:05:23 2011 +0000

    Take a PersonaStore in IndividualAggregator.add_persona_from_details

    This gives the client more flexibility in choosing which persona
    store to
    add the new persona to. Closes: bgo#629078

 NEWS				  |  4 ++++
 folks/individual-aggregator.vala | 44
 +++++++++++++---------------------------
 2 files changed, 18 insertions(+), 30 deletions(-)

commit 034ab81aee5219d70927c9c72b7405b4bf4863c3
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Feb 7 22:45:35 2011 +0000

    Bug 641780 — Incorrect C function names for URLable interface

    Rename the new URLable interface to Urlable, as Vala was choking
    on the
    capitalisation and producing weird C function names like
    folks_ur_lable_get_urls(). Closes: bgo#641780

 NEWS		       | 2 ++
 folks/individual.vala | 4 ++--
 folks/urlable.vala    | 2 +-
 3 files changed, 5 insertions(+), 3 deletions(-)

commit 57ccc9d45bf10a9c14479770e901459085a79e14
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Feb 6 12:06:03 2011 +0000

    Fix entries in the NEWS file

 NEWS | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit 05cca833976054240e62b4d0df00954059440580
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Dec 17 18:36:45 2010 +0000

    Bug 640901 — Allow to determine whether a Tpf.Persona's in the
    contact list

    Add Tpf.Persona.is-in-contact-list, which is true iff the persona's
    in the
    user's contact list. Closes: bgo#640901

 NEWS					       |  3 ++
 backends/telepathy/lib/tpf-persona-store.vala | 66
 +++++++++++++++++++++++----
 backends/telepathy/lib/tpf-persona.vala       | 12 +++++
 3 files changed, 71 insertions(+), 10 deletions(-)

commit c7071fb3c49984f858820129e46b457cf3430114
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Feb 3 16:10:11 2011 -0800

    Revert "For Vala 0.12, don't use deprecated string.to_int()."

    This reverts commit be8f7259ddd1dcd558b28ffc0761358e8d49bd48.

    This depends upon unreleased changes to Vala, so we'll wait till then.

 backends/key-file/kf-persona-store.vala | 4 ----
 1 file changed, 4 deletions(-)

commit a9f240ab4f95a2786758c487e9b82fdbd31931d5
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Feb 3 11:39:48 2011 -0800

    Add note for future cleaning when we require Vala 0.12

 configure.ac | 1 +
 1 file changed, 1 insertion(+)

commit be8f7259ddd1dcd558b28ffc0761358e8d49bd48
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Feb 3 11:38:05 2011 -0800

    For Vala 0.12, don't use deprecated string.to_int().

 backends/key-file/kf-persona-store.vala | 4 ++++
 1 file changed, 4 insertions(+)

commit ce10f248e9eb093820d4f976caf531aa32b78704
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Feb 1 17:31:34 2011 -0800

    Require valac if the LinkedHashSet test hasn't been built.

 configure.ac | 1 +
 1 file changed, 1 insertion(+)

commit bc92884e49adf7d424467b6b21a9689172c02831
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jan 21 13:49:10 2011 -0800

    Add FieldDetails tests.

    Helps bgo#638279 - Add interfaces for phone, URLs, emails, etc.

 configure.ac			|  1 +
 tests/folks/Makefile.am	|  6 +++
 tests/folks/field-details.vala | 86
 ++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 93 insertions(+)

commit 236ea55666acbb8c0b21af935d95155c9f25c140
Author: Raul Gutierrez Segales <raul.gutierrez.segales@collabora.co.uk>
Date:	Mon Jan 10 19:30:33 2011 +0000

    Added the READ_ONLY PersonaStore error

 folks/persona-store.vala | 7 +++++++
 1 file changed, 7 insertions(+)

commit 73e7a6342455daedae51628761a843117c6cc772
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 17 15:47:46 2011 -0800

    Don't print out a stacktrace when an error message is empty.

    This was printing a lot of stacktraces for non-errors from GConf.

 tests/lib/test-case.vala | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 89df5dc2da998801cebe0c4bfa79fc1b5671ce3d
Author: Marco Barisione <marco@barisione.org>
Date:	Tue Dec 28 17:42:18 2010 +0100

    Add Emailable for contacts with emails

 folks/Makefile.am     |  1 +
 folks/emailable.vala  | 37 +++++++++++++++++++++++++++++++++++
 folks/individual.vala | 53
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 91 insertions(+)

commit 9ea499303e6dceb462b34b930e2065c7668ac753
Author: Marco Barisione <marco@barisione.org>
Date:	Mon Dec 20 12:37:50 2010 +0000

    Add Phoneable interface for contacts with phone numbers

 folks/Makefile.am     |  1 +
 folks/individual.vala | 55
 ++++++++++++++++++++++++++++++++++++---------------
 folks/phoneable.vala  | 39 ++++++++++++++++++++++++++++++++++++
 3 files changed, 79 insertions(+), 16 deletions(-)

commit 281a329984c46c07ac40cc2d74da1aa9305faf30
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jan 18 13:57:44 2011 -0800

    Add GenderOwner interface for specifying contact gender

 folks/Makefile.am	 |  1 +
 folks/gender-owner.vala | 58 +++++++++++++++++++++++++++++++
 folks/individual.vala	 | 90
 +++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 149 insertions(+)

commit 4b82bef6acfeedac468ce08733e222cd0ddaa078
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jan 18 13:30:33 2011 -0800

    Add URLable interface for contacts with associated websites

 folks/Makefile.am     |  1 +
 folks/individual.vala | 38 +++++++++++++++++++++++++++++++++++++-
 folks/urlable.vala    | 39 +++++++++++++++++++++++++++++++++++++++
 3 files changed, 77 insertions(+), 1 deletion(-)

commit 2a000bdc4b9138be9eac5059f2980542ed00452e
Author: Marco Barisione <marco@barisione.org>
Date:	Wed Nov 10 11:54:01 2010 +0000

    Add a FieldDetails object for details with extra parameters

    The class is used for values that can have additional parameters
    attached, for instance phone numbers or URLs.

 folks/Makefile.am	  |   1 +
 folks/field-details.vala | 164
 +++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 165 insertions(+)

commit 6c3f7632ed52c471fccea71d56b3592a9b7b4bf5
Author: Marco Barisione <marco@barisione.org>
Date:	Mon Nov 8 13:56:31 2010 +0000

    Add a NameOwner interface for contacts with full names and nicknames

 folks/Makefile.am     |   1 +
 folks/individual.vala | 105 ++++++++++++++++++++++++-
 folks/name-owner.vala | 212
 ++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 317 insertions(+), 1 deletion(-)

commit aaa0efd82c68f86014dea6e8aefd828f42316acc
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Feb 1 15:22:02 2011 -0800

    Note that bgo#628335 was fixed with release 0.1.16

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit dc01f237e0e135f8f6a4c50978fb404473ce4337
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Feb 1 11:34:18 2011 -0800

    Post-release version bump.

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 00ef1f0dc8449b19e42da4e9cf81323e1ce262ca
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 31 09:23:09 2011 -0800

    Release version 0.3.4

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit abe8b43df9eca686f9f48b4c0491c98c49f805a0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 31 11:48:29 2011 -0800

    Write inlined docs for LinkedHashSet to work around bgo#629531

 folks/linked-hash-set.vala | 121
 +++++++++++++++++++++++++++++++++++++++------
 1 file changed, 106 insertions(+), 15 deletions(-)

commit 34a5c1c8a7aa2d167430c7ac8d867ec629beda5a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 31 09:49:06 2011 -0800

    Update old doc link to PresenceOwner.

 folks/imable.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c4ce8560e3d33ed93d814dec7829e81bb3fa3e7c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 31 09:36:29 2011 -0800

    Don't use deprecated string.ndup function.

 folks/persona.vala | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit a77a239c0dbf87c9ca47a8c7a4a60c59e34a51d0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 31 09:07:36 2011 -0800

    Set @since lines for new release.

 folks/imable.vala	    | 2 +-
 folks/linked-hash-set.vala | 6 ++++--
 2 files changed, 5 insertions(+), 3 deletions(-)

commit e33efba685d61525b7490d44abc22c5f6b13d02b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 31 08:58:52 2011 -0800

    Cut obsolete comment about IMable.im_addresses.

 folks/imable.vala | 5 -----
 1 file changed, 5 deletions(-)

commit 6d04aa8c96c1950df93fffa9acd8b0006dfeef50
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 31 08:57:34 2011 -0800

    Add a note about LinkedHashSet pulling in libgee.

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit 66d30bcbfb342e3baee6e64ac6dd26af7d4ac7b7
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 31 08:54:04 2011 -0800

    Combine the API changes sections in NEWS.

 NEWS | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit c23b3188ce02466e386828f03578383b6e10dafb
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jan 28 14:05:14 2011 -0800

    Make the TestCase class follow our coding style.

 tests/lib/test-case.vala | 175
 +++++++++++++++++++++++++----------------------
 1 file changed, 92 insertions(+), 83 deletions(-)

commit cea73b98512bb82a81b67fc1bbbf147543c8f046
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Dec 22 18:52:55 2010 -0800

    Rename HasPresence -> PresenceOwner.

    Fixes bgo#627397.

 NEWS					    |	2 +
 backends/telepathy/lib/tpf-persona.vala    |	6 +-
 folks/Makefile.am			    |	2 +-
 folks/has-presence.vala		    | 161
 ----------------------------
 folks/individual.vala			    |	8 +-
 folks/presence-owner.vala		    | 162
 +++++++++++++++++++++++++++++
 tests/telepathy/individual-properties.vala |	2 +-
 7 files changed, 173 insertions(+), 170 deletions(-)

commit d80e62a4502e67971655bfefcaf91849654cc15d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Dec 22 18:07:15 2010 -0800

    Rename HasAvatar -> AvatarOwner.

    Helps bgo#627397.

 NEWS					 |  3 +++
 backends/telepathy/lib/tpf-persona.vala |  4 ++--
 folks/Makefile.am			 |  2 +-
 folks/avatar-owner.vala		 | 36
 +++++++++++++++++++++++++++++++++
 folks/has-avatar.vala			 | 36
 ---------------------------------
 folks/individual.vala			 |  6 +++---
 6 files changed, 45 insertions(+), 42 deletions(-)

commit f9f7d793f74ba34c78454074c64343762db11919
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 24 21:11:57 2011 -0800

    Add a simple test case to reproduce bgo#640551 when valgrind-ing.

 tests/folks/linked-hash-set.vala | 42
 ++++++++++++++++++++++++++++++++++++++++
 1 file changed, 42 insertions(+)

commit 797b08434b1d3429cf66eced1dcd8c7d90304e90
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jan 21 11:08:44 2011 -0800

    Add some LinkedHashSet tests.

    Fixes bgo#640213 -- Add tests for LinkedHashSet

 NEWS				  |   1 +
 tests/folks/Makefile.am	  |   6 +
 tests/folks/linked-hash-set.vala | 254
 +++++++++++++++++++++++++++++++++++++++
 3 files changed, 261 insertions(+)

commit 14b8da134abffcf0272c06c72d5f6df6036e06e7
Author: Eitan Isaacson <eitan@monotonous.org>
Date:	Sun Jan 16 11:48:24 2011 +0200

    Modified backends to use LinkedHashSet in IMable.im_addresses.

 backends/key-file/kf-persona-store.vala |  4 +-
 backends/key-file/kf-persona.vala	 | 75
 +++++++++++++--------------------
 backends/telepathy/lib/tpf-persona.vala | 12 +++---
 3 files changed, 37 insertions(+), 54 deletions(-)

commit f1f826688cfec808d98bf3e588735812cde6160c
Author: Eitan Isaacson <eitan@monotonous.org>
Date:	Sun Jan 16 11:47:50 2011 +0200

    Modified libfolks to use LinkedHashSet in im_addresses.

 NEWS				  |  1 +
 folks/imable.vala		  |  4 ++--
 folks/individual-aggregator.vala | 34 ++++++++--------------------------
 folks/individual.vala		  | 29 +++++++++--------------------
 4 files changed, 20 insertions(+), 48 deletions(-)

commit da5e0d35d5800bb03ff1e0818c1b51f4284e7c76
Author: Eitan Isaacson <eitan@monotonous.org>
Date:	Sun Jan 16 11:46:27 2011 +0200

    Added a LinkedHashSet ordered set.

 NEWS			    |	3 +
 folks/Makefile.am	    |	1 +
 folks/linked-hash-set.vala | 203
 +++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 207 insertions(+)

commit 052ce5b471e057aa5f0478e5d605ffacbcbb1e5b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 17 11:37:55 2011 -0800

    Suppress Telepathy logger warning for tests.

    Fixes bgo#639742 - Logger service unavailable in make check

 NEWS					   |  1 +
 tests/lib/telepathy/contactlist/backend.c | 34
 +++++++++++++++++++++++--------
 2 files changed, 26 insertions(+), 9 deletions(-)

commit 4b9b2220056ca6e480a28fc3cb4e224d8fc98856
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 17 12:03:16 2011 -0800

    Only spew D-Bus info during tests if  >= 1

 tests/tools/with-session-bus.sh | 25 +++++++++++++++++++++----
 1 file changed, 21 insertions(+), 4 deletions(-)

commit b263b1f6fd009d2ed96ef6eb36f2f795a41b6182
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 17 11:42:11 2011 -0800

    Silence generally-useless Tp test message.

 tests/lib/telepathy/contactlist/contact-list-manager.c | 2 --
 1 file changed, 2 deletions(-)

commit 642b15a9e7662623d1af815595e127cda7dd991c
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Jan 17 22:02:55 2011 +0000

    Don't add a duplicate candidate individual if one matches by user
    and IID

    If an individual matches a persona being aggregated both by them
    both being
    the user, and by IID match, don't list the individual as a candidate
    individual twice (which would cause their personas to appear twice
    in the
    final individual).

 folks/individual-aggregator.vala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 5f6b4ee0522dfbac090838498f50b93bbaf2e8c6
Author: Eitan Isaacson <eitan@monotonous.org>
Date:	Wed Jan 12 22:51:12 2011 +0200

    Added valgrind support in make check.

    https://bugzilla.gnome.org/show_bug.cgi?id=639366

 tests/folks/Makefile.am			 |  1 +
 tests/folks/aggregation.vala			 | 14 +++++++++-----
 tests/key-file/Makefile.am			 |  1 +
 tests/key-file/individual-retrieval.vala	 |  8 ++++++--
 tests/telepathy/Makefile.am			 |  1 +
 tests/telepathy/individual-properties.vala	 | 10 +++++++---
 tests/telepathy/individual-retrieval.vala	 |  8 ++++++--
 tests/telepathy/persona-store-capabilities.vala |  6 +++++-
 valgrind.mk					 | 18 ++++++++++++++++++
 9 files changed, 54 insertions(+), 13 deletions(-)

commit 053d6482edea8d1b9b36d121b6ae67c0d29af17f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jan 14 09:47:01 2011 -0800

    Add policy for keeping the build healthy.

 HACKING | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 941e7957329dedd8bdf84f5f55aa1353f57b54d5
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jan 13 16:04:21 2011 -0800

    Finish catching BackendStore up to our coding style.

 folks/backend-store.vala | 46
 +++++++++++++++++++++++-----------------------
 1 file changed, 23 insertions(+), 23 deletions(-)

commit 3deac065cfeab4f3229bbea5c256d2083e0567ad
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jan 12 17:27:37 2011 -0800

    Fix dependencies for internal g-i files.

    As it was, these libraries wouldn't be re-created after a
    maintainer-clean (or
    on the very first build).

 backends/telepathy/lib/Makefile.am	     | 4 ++--
 tests/lib/telepathy/contactlist/Makefile.am | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 291584d75f98cc42d89c0cf2f96381f27bc81a38
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jan 12 15:55:57 2011 -0800

    Also print a stack trace upon a failed test assertion.

 tests/lib/test-case.vala | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 5d31cf24220502f6725815d7e6f9d317bba9bb35
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jan 12 11:44:07 2011 -0800

    Don't double-list files in MAINTAINERCLEANFILES.

 tests/lib/telepathy/contactlist/Makefile.am | 2 --
 1 file changed, 2 deletions(-)

commit 18c884702b57279866c51922861c77878b8b415c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jan 11 17:26:01 2011 -0800

    Distribute sources for generated files.

    This un-breaks distcheck by ensuring the generated files don't stick
    around in
    _build after the final distclean.

    This fulfills the requirements laid out in the Automake manual page:
    http://www.gnu.org/software/hello/manual/automake/distcleancheck.html

 backends/telepathy/lib/Makefile.am	     | 4 +++-
 tests/lib/telepathy/contactlist/Makefile.am | 4 +++-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 14114584c54b145aefa0e892efd9c7f3fd63a8b0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jan 11 16:30:56 2011 -0800

    Define the Telepathy BACKEND_NAME directly.

    Properly distributing the backend.mk file proved more difficult than
    it was
    worth (it was breaking 'make check' during distcheck), so we've
    reverted to
    direct definition.

 backends/telepathy/Makefile.am     |  3 ++-
 backends/telepathy/backend.mk	    |  1 -
 backends/telepathy/lib/Makefile.am | 11 ++++++++---
 tests/folks/backend-loading.vala   |  1 +
 4 files changed, 11 insertions(+), 5 deletions(-)

commit d02e7f72faafc1c50f63d9b33c6daa4ee25c9ccc
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jan 11 15:01:45 2011 -0800

    Force Vala for non-release builds.

    This should make buildbot builds a little more consistent.

 configure.ac | 8 ++++++++
 1 file changed, 8 insertions(+)

commit f4bba6dc4f26cbebc8d944a3eb93ce9bc5884c6e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jan 11 14:30:16 2011 -0800

    Add Vala requirement checks for newer tests.

 configure.ac | 2 ++
 1 file changed, 2 insertions(+)

commit f3917b1e8f279ec255cee96c210c74e882da754b
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Jan 10 00:30:13 2011 +0000

    Bug 639113 — Add static aggregation tests

    Add some tests which cover several of the ways which personas can be
    statically aggregated at present. These tests are “static”
    (as opposed to
    “dynamic”) because they don't change the inputs to the aggregator
    after
    it's been prepared. Consequently, they don't cover much of the
    interesting
    and bug-prone behaviour of the aggregator. Still, they're a start.

    Closes: bgo#639113

 NEWS					   |   1 +
 tests/folks/Makefile.am		   |  22 +-
 tests/folks/aggregation.vala		   | 653
 ++++++++++++++++++++++++++++++
 tests/folks/backend-loading.vala	   |  11 +
 tests/lib/telepathy/contactlist/backend.c |   8 +
 5 files changed, 694 insertions(+), 1 deletion(-)

commit 39bf15f146f6ec29010b8d71330a98809c097d6a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jan 11 11:31:10 2011 -0800

    Don't announce removal of Individuals twice.

    Before this patch, we would announce an Individual's removal,
    "dispose" of the
    individual, then announce their removal again (at which point they
    would have
    zero Personas, which can make it harder for clients to do anything
    useful with
    the notification anyhow).

    Helps: bgo#639113

 folks/individual-aggregator.vala | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit b81e26d48507e7fd61b26c9732fb67b150593e20
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Jan 9 21:52:54 2011 +0000

    Allow multiple test accounts to be connected simultaneously

    This doesn't affect any existing tests, but will be useful for
    testing that
    aggregation across different persona stores works correctly.

 tests/lib/telepathy/contactlist/account-manager.c |  50 ++++++-
 tests/lib/telepathy/contactlist/account-manager.h |   5 +
 tests/lib/telepathy/contactlist/backend.c	   | 152
 ++++++++++++++++------
 tests/lib/telepathy/contactlist/backend.h	   |   8 ++
 tests/telepathy/individual-properties.vala	   |   4 +
 tests/telepathy/individual-retrieval.vala	   |   4 +
 tests/telepathy/persona-store-capabilities.vala   |   4 +
 7 files changed, 178 insertions(+), 49 deletions(-)

commit fb335d6e40ad765ce9da55909ffe7f7464921423
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 10 21:59:39 2011 -0800

    Override the test log handler for Telepathy tests.

    This avoids aborting and printing unnecessary stack traces for the
    well-known Telepathy-logger warning message.

    Fixes bgo#639195 - Print stack traces for failed tests to improve
    remote debugging

 NEWS					   |  2 ++
 tests/lib/telepathy/contactlist/backend.c | 13 +++++++++++--
 2 files changed, 13 insertions(+), 2 deletions(-)

commit 9a539691a07feb1dcb7197b1acceb4fcef7582de
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 10 16:50:27 2011 -0800

    Factor Tp logger warning out of Tp tests.

    Helps bgo#639195 - Print stack traces for failed tests to improve
    remote debugging

 tests/lib/telepathy/contactlist/backend.c	 | 14 ++++++++++++++
 tests/telepathy/individual-properties.vala	 | 21
 ---------------------
 tests/telepathy/individual-retrieval.vala	 | 14 --------------
 tests/telepathy/persona-store-capabilities.vala |  7 -------
 4 files changed, 14 insertions(+), 42 deletions(-)

commit 56c99d93af9191ed47cb05d0daec8c11ed060ad7
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 10 16:40:14 2011 -0800

    When a test would print a message >= warning, print a stack trace.

    This is largely to benefit remote debugging of build bots but
    also makes
    debugging test errors easier.

    Helps bgo#639195 - Print stack traces for failed tests to improve
    remote debugging

 tests/lib/test-case.vala | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 38672fd3e8c8001099a4d1451a16f26ab71337ab
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 10 16:10:41 2011 -0800

    Cut unnecessary log handler for key-file test.

    Helps bgo#639195 - Print stack traces for failed tests to improve
    remote debugging

 tests/key-file/individual-retrieval.vala | 16 ----------------
 1 file changed, 16 deletions(-)

commit 10696ef6563db92c8b927eb36011dba19cec7b17
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 10 14:44:39 2011 -0800

    Cut unnecessary Tp log handler for the general test.

    Helps bgo#639195 - Print stack traces for failed tests to improve
    remote debugging

 tests/folks/backend-loading.vala | 8 --------
 1 file changed, 8 deletions(-)

commit b4b63b8e706b87fd2b927a1b930024803411075e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jan 6 15:48:08 2011 -0800

    Note the fix of bgo#638609 in the NEWS

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit cfdd138a035c6aa13889660852e13b2fb458dbd5
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jan 6 15:39:20 2011 -0800

    Register core debugging as global G_LOG_DOMAIN to reduce magic
    strings.

    Fixes bgo#638609 - libfolks hard-codes backend names for debugging

 folks/backend-store.vala | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit cf95d8dcce95840188c510d0f1cfe78af7a44ecc
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jan 4 12:19:27 2011 -0800

    Pin backends' names to global BACKEND_NAME to reduce magic strings.

    Helps bgo#638609 - libfolks hard-codes backend names for debugging

 backends/key-file/Makefile.am		       | 5 ++++-
 backends/key-file/kf-backend.vala	       | 4 +++-
 backends/key-file/kf-persona-store.vala       | 2 +-
 backends/telepathy/Makefile.am		       | 4 +++-
 backends/telepathy/backend.mk		       | 1 +
 backends/telepathy/lib/Makefile.am	       | 4 +++-
 backends/telepathy/lib/tpf-persona-store.vala | 5 +++--
 backends/telepathy/tp-backend.vala	       | 4 +++-
 8 files changed, 21 insertions(+), 8 deletions(-)

commit efe8d5d6dd1497f4a23bb27323901dabb9a6406f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jan 4 10:58:15 2011 -0800

    Make the main debug domain 'folks' to match the backends.

    Helps bgo#638609 - libfolks hard-codes backend names for debugging

 folks/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7b39b7188be6bf37925f76615c9004c5151e543c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jan 4 10:51:49 2011 -0800

    Make the backends' log domains match their type_id.

    Helps bgo#638609 - libfolks hard-codes backend names for debugging

 backends/key-file/Makefile.am	    | 2 +-
 backends/telepathy/Makefile.am     | 2 +-
 backends/telepathy/lib/Makefile.am | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit e962ee0505a30b89e143a87db7fcfec4c31b1ee7
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jan 4 11:26:34 2011 -0800

    Push flag setting into the Debug constructor.

    Helps bgo#638609 - libfolks hard-codes backend names for debugging

 folks/backend-store.vala |  5 ++---
 folks/debug.vala	  | 49
 +++++++++++++++++++++++-------------------------
 2 files changed, 25 insertions(+), 29 deletions(-)

commit 74966cd86b4b213eaad81bcb5c8d5a2738ba1f8c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jan 4 10:54:01 2011 -0800

    Add new API for setting debugging levels.

    Helps bgo#638609 - libfolks hard-codes backend names for debugging

 folks/backend-store.vala |  9 +++++++--
 folks/debug.vala	  | 49
 ++++++++++++++++++++++++++++++------------------
 2 files changed, 38 insertions(+), 20 deletions(-)

commit 26f43d1aeeadf48a23cf6fb29d7900720fd4a6ea
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 3 16:23:05 2011 -0800

    Make Folks.Debug a class so we can store state.

    Helps bgo#638609 - libfolks hard-codes backend names for debugging

 folks/backend-store.vala |  4 +++-
 folks/debug.vala	  | 27 +++++++++++++++++++++++++--
 2 files changed, 28 insertions(+), 3 deletions(-)

commit c04e2f11290abf229e188901cd21430b4ae32314
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 3 14:15:58 2011 -0800

    Don't use a magic string in the Tp backend.

 backends/telepathy/lib/tpf-persona.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7cf015416c26cb840f52d800a17d9394c921bbc8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jan 3 13:29:06 2011 -0800

    Add a comment for bgo#638609 - backend debug hard-coding

 folks/debug.vala | 1 +
 1 file changed, 1 insertion(+)

commit 8b2e847d2a9c9b78e095f8dff7f5f20e4db00df9
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Dec 31 14:23:31 2010 +0000

    Bug 638395 — folks-inspect prevents default Vala-free builds

    Add notices and errors to the configure script to notify the user
    of why
    the inspect tool is not being built. Closes: bgo#638395

 configure.ac | 6 ++++++
 1 file changed, 6 insertions(+)

commit 5655e72bef34eb0308ecd3624d458bf069930c2f
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Dec 31 14:21:11 2010 +0000

    Add a missing backslash to the configure.ac file

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 697a12646bd7d25c68c3042f13b3b9e323427262
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Dec 30 23:19:31 2010 -0800

    Don't break the build if building folks-inspect without Vala

 configure.ac | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 0f65abfa48d5f615419a871a726ca38d9cb3c76b
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Dec 30 17:59:37 2010 +0000

    Fix some variable names in the inspector signal parsing code

    See: https://bugzilla.gnome.org/show_bug.cgi?id=629075#c8

 tools/inspect/command-signals.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 96b1a7b28989b50cc0bb2241ece5889a2b7fb0cf
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Sep 6 19:38:21 2010 +0100

    Bug 629075 — Add folks command line application

    Add an interactive command line inspection utility for libfolks.
    Closes: bgo#629075.

 NEWS					   |   4 +
 configure.ac				   |  21 ++
 tools/Makefile.am			   |   8 +
 tools/inspect/Makefile.am		   |  40 +++
 tools/inspect/command-backends.vala	   | 102 ++++++
 tools/inspect/command-help.vala	   |  89 ++++++
 tools/inspect/command-individuals.vala    |  90 ++++++
 tools/inspect/command-persona-stores.vala | 107 +++++++
 tools/inspect/command-personas.vala	   |  81 +++++
 tools/inspect/command-quit.vala	   |  57 ++++
 tools/inspect/command-signals.vala	   | 250 +++++++++++++++
 tools/inspect/inspect.vala		   | 223 +++++++++++++
 tools/inspect/signal-manager.vala	   | 502
 ++++++++++++++++++++++++++++++
 tools/inspect/utils.vala		   | 477
 ++++++++++++++++++++++++++++
 14 files changed, 2051 insertions(+)

commit 98772a1dce8cf8d47c6a1c942e42dafaa156a700
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Dec 30 09:23:31 2010 -0800

    Add NEWS entry for bgo#629083 fix

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit ac6e49d352728a089708afebf73e018b5f722e6d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Dec 30 09:22:24 2010 -0800

    Add NEWS entry for bgo#638311 fix

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit dc3acdfca04a03f00f0fb04d375fa6946145ce4b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Dec 28 17:21:53 2010 -0800

    Refer to non-local variables and methods with full name.

    The benefit here is to make it easier to tell when variables are
    local. Methods
    are referred to similarly for consistency.

    Fixes bgo#629083

 HACKING				       |  6 +++++
 backends/telepathy/lib/tpf-persona-store.vala | 32
 +++++++++++++++------------
 backends/telepathy/lib/tpf-persona.vala       |  6 ++---
 folks/backend-store.vala		       |  2 +-
 folks/has-presence.vala		       |  3 ++-
 folks/individual-aggregator.vala	       |  2 +-
 6 files changed, 31 insertions(+), 20 deletions(-)

commit 6aa04aae7ffda13afe2654a8a3e6b1d9c42c4ff3
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Dec 28 16:58:34 2010 -0800

    Cut unnecessary casting.

    Excessive casting can hide real compiler warnings/errors and is
    best avoided.

    Helps bgo#629083

 HACKING			   |  3 +++
 backends/key-file/kf-persona.vala |  3 +--
 folks/has-presence.vala	   |  5 ++---
 folks/individual-aggregator.vala  | 12 +++++-------
 4 files changed, 11 insertions(+), 12 deletions(-)

commit 7668bd500b5e6739da2b1e583df5265b0ba2b399
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Dec 28 09:15:23 2010 -0800

    Maximize use of 'unowned' keyword.

    This is used when (and only when) variables:
    1. would avoid a non-trivial copy (eg, a string or array but not an
    int or
    object ref-count increase)
    AND
    2. will only be assigned unowned values (excessive use of 'unowned'
    here will be
    caught by the compiler)

    The net benefit is avoiding unecessary memory allocation/freeing.

    Helps bgo#629083

 HACKING				       | 9 +++++++++
 backends/key-file/kf-backend.vala	       | 2 +-
 backends/key-file/kf-persona.vala	       | 4 ++--
 backends/telepathy/lib/tpf-persona-store.vala | 9 +++++----
 backends/telepathy/lib/tpf-persona.vala       | 4 ++--
 folks/backend-store.vala		       | 5 +++--
 folks/individual-aggregator.vala	       | 8 ++++----
 folks/individual.vala			       | 8 ++++----
 8 files changed, 30 insertions(+), 19 deletions(-)

commit b93b4445e87bc645c1b6c1425deb17a99c27304c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Dec 27 17:22:21 2010 -0800

    Maximize use of the 'var' keyword.

    This is used whenever a variable:
    1. is declared and initialized in the same line
    AND
    2. would not avoid a copy by using the 'unowned'. In the future,
    we may be able
    to declare variables 'unowned var', in which case this point won't
    matter. See
    bgo#638199.

    The net benefit is less noise on variable declaration lines.

    Helps bgo#629083

 HACKING				       |  6 ++
 backends/key-file/kf-backend.vala	       |  2 +-
 backends/key-file/kf-persona-store.vala       | 12 ++--
 backends/key-file/kf-persona.vala	       | 25 ++++-----
 backends/telepathy/lib/tpf-persona-store.vala | 35 +++++++-----
 backends/telepathy/lib/tpf-persona.vala       |  6 +-
 backends/telepathy/tp-backend.vala	       |  3 +-
 folks/backend-store.vala		       | 33 ++++++-----
 folks/debug.vala			       |  2 +-
 folks/individual-aggregator.vala	       | 80
 +++++++++++++--------------
 folks/individual.vala			       | 44 +++++++--------
 folks/persona.vala			       |  2 +-
 12 files changed, 127 insertions(+), 123 deletions(-)

commit 531ad2e2bab35e5aaa0be7fdb0eb12c8f6b5bcff
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Dec 27 17:14:45 2010 -0800

    Ensure private and internal methods begin with a _

    Helps bgo#629083

 HACKING				       |   4 +
 backends/key-file/kf-backend.vala	       |   4 +-
 backends/telepathy/lib/tpf-persona-store.vala | 176
 +++++++++++++-------------
 backends/telepathy/lib/tpf-persona.vala       |  28 ++--
 backends/telepathy/tp-backend.vala	       |  20 +--
 folks/backend-store.vala		       |  42 +++---
 folks/debug.vala			       |   2 +-
 folks/has-presence.vala		       |   6 +-
 folks/individual-aggregator.vala	       |  71 ++++++-----
 folks/individual.vala			       | 114 ++++++++---------
 folks/persona.vala			       |  16 +--
 11 files changed, 244 insertions(+), 239 deletions(-)

commit a9bbcc8e1787511900ea738af3118e15b2cdae3e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Dec 27 16:28:38 2010 -0800

    Ensure private and internal data members begin with a _

    Helps bgo#629083

 HACKING				       |   5 +
 backends/key-file/kf-backend-factory.vala     |   6 +-
 backends/key-file/kf-persona-store.vala       |  64 +++---
 backends/key-file/kf-persona.vala	       |  29 ++-
 backends/telepathy/lib/tpf-logger.vala        |  36 +--
 backends/telepathy/lib/tpf-persona-store.vala | 317
 +++++++++++++-------------
 backends/telepathy/lib/tpf-persona.vala       |   8 +-
 backends/telepathy/tp-backend-factory.vala    |   6 +-
 backends/telepathy/tp-backend.vala	       |  19 +-
 folks/backend-store.vala		       |  18 +-
 folks/individual-aggregator.vala	       |  89 ++++----
 folks/individual.vala			       |  26 +--
 12 files changed, 316 insertions(+), 307 deletions(-)

commit 74ad4b3675d93dc02a27032d1caac2ce94119d8b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Dec 29 15:55:44 2010 -0800

    Write down development policies.

    Fixes bgo #638311.

 HACKING | 75
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 75 insertions(+)

commit bb992186c6fa65eac8608d1398edf8ae879c0c67
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Dec 17 11:16:04 2010 +0000

    Bug 637240 — libfolks-telepathy.so exports private symbols

    Limit the symbols exported by the libfolks-telepathy.so library
    to those
    starting with “tpf_”. Based on a patch by
    Emilio Pozuelo Monfort <pochu27@gmail.com>. Closes: bgo#637240

 NEWS				    | 6 ++++++
 backends/telepathy/lib/Makefile.am | 4 +++-
 2 files changed, 9 insertions(+), 1 deletion(-)

commit 730aedbcc032ac509c111d85b36d4a01a937abf6
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Dec 13 16:49:18 2010 +0000

    Post-release version bump

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 36f984c444d87443d86d09f180de25ea8e9d85c1
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Dec 13 16:45:07 2010 +0000

    Release version 0.3.3

 NEWS	      | 12 ++++++++++++
 configure.ac |  4 ++--
 2 files changed, 14 insertions(+), 2 deletions(-)

commit e82c667d1f435926d2bf22524fd162a4d52b243d
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Dec 13 16:40:29 2010 +0000

    Add missing files to POTFILES.in and POTFILES.skip

 po/POTFILES.in   | 1 +
 po/POTFILES.skip | 2 ++
 2 files changed, 3 insertions(+)

commit 482fdc922a95cf0af222c0932c01ede04aa4133e
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Dec 13 16:35:59 2010 +0000

    Remove outdated translation files from EXTRA_DIST

    They're no longer copied into the build tree since we no longer call
    autopoint. See: bgo#635649

 Makefile.am | 9 ---------
 1 file changed, 9 deletions(-)

commit 3b61c964eac1dce60b9ab7d4f6e954fbef70ffa1
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Dec 13 15:35:38 2010 +0000

    Ensure each Persona is added to the relinked_personas list at
    most once

    In some cases when relinking the user's Individual when taking Empathy
    offline, several of the user's Personas can get into the
    relinked_personas
    list multiple times. This causes an infinite loop of linking and
    relinking
    those Personas. Closes: bgo#637136

 folks/individual-aggregator.vala | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit f3ac848861074425cb88753ddddf124f4f7d358c
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Dec 12 17:52:52 2010 +0000

    Bug 636714 — Assertion failure on invalid IM address

    Handle invalid IM addresses in relationships.ini more gracefully
    by throwing
    an exception from IMable.normalise_im_address() if it detects
    an invalid
    address, rather than aborting due to an assertion failure. Closes:
    bgo#636714

 NEWS					 |  3 ++
 backends/key-file/kf-persona.vala	 | 47 ++++++++++++++++++++----
 backends/telepathy/lib/tpf-persona.vala | 12 +++++-
 folks/imable.vala			 | 65
 ++++++++++++++++++++++++++++-----
 4 files changed, 108 insertions(+), 19 deletions(-)

commit f4dc8761a69a66c5c378e8502478b057333ebc6e
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Dec 13 15:23:15 2010 +0000

    Don't trust personas from IRC

 backends/telepathy/lib/tpf-persona-store.vala | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 272e05c498430c2584753ce452e6ffd7fdbffbbe
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Dec 12 18:32:51 2010 +0000

    Rename the Favourite interface to Favouritable

    Closes: bgo#627397

 NEWS					 |  2 ++
 backends/telepathy/lib/tpf-persona.vala |  4 ++--
 folks/Makefile.am			 |  2 +-
 folks/favouritable.vala		 | 33
 +++++++++++++++++++++++++++++++++
 folks/favourite.vala			 | 33
 ---------------------------------
 folks/individual.vala			 | 10 +++++-----
 6 files changed, 43 insertions(+), 41 deletions(-)

commit 5953792452846ee0df317c946a19522a77d15e1d
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Dec 12 18:28:20 2010 +0000

    Rename the Presence interface to HasPresence

    Helps: bgo#627397

 NEWS					    |	1 +
 backends/telepathy/lib/tpf-persona.vala    |	8 +-
 folks/Makefile.am			    |	2 +-
 folks/has-presence.vala		    | 161
 +++++++++++++++++++++++++++++
 folks/imable.vala			    |	2 +-
 folks/individual.vala			    |  11 +-
 folks/presence.vala			    | 161
 -----------------------------
 tests/telepathy/individual-properties.vala |	2 +-
 8 files changed, 175 insertions(+), 173 deletions(-)

commit 4c35a03bf5a6efe5ee3a865ba4d79857d57fc9c2
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Dec 12 18:24:08 2010 +0000

    Rename the Avatar interface to HasAvatar

    Helps: bgo#627397

 NEWS					 |  3 +++
 backends/telepathy/lib/tpf-persona.vala |  4 ++--
 folks/Makefile.am			 |  2 +-
 folks/avatar.vala			 | 36
 ---------------------------------
 folks/has-avatar.vala			 | 36
 +++++++++++++++++++++++++++++++++
 folks/individual.vala			 |  6 +++---
 6 files changed, 45 insertions(+), 42 deletions(-)

commit 1cda85c48be7b4b7ec1e253c59a831762cdc06b7
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Dec 12 17:44:35 2010 +0000

    Add recent bug fixes to NEWS file

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit e3ff05da1464e1ea2214293a0255bd0e71f60d85
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Dec 12 17:06:38 2010 +0000

    Add documented libraries to LDFLAGS in the documentation Makefile.am

    gtkdoc-scangobj expects to have the libraries it's linking its
    scanner program
    to present in LDFLAGS. gtk-doc.make normally does this automatically
    for
    normal gtk-doc-enabled projects, but we need to do it manually.

 docs/Makefile.am | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit 770a429de41c46a7e99686bd600621396cc4ccac
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Dec 12 16:34:01 2010 +0000

    Add missing documentation for method parameters

 backends/telepathy/lib/tpf-persona-store.vala | 2 ++
 backends/telepathy/lib/tpf-persona.vala       | 3 +++
 2 files changed, 5 insertions(+)

commit 037dab458f415314fe33dc5fd9082cbac4e198ec
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Dec 12 16:29:07 2010 +0000

    Fix documentation of enum members

    The documentation comments for enum members have to be proper
    valadoc comments
    (i.e. starting with /** and ending with */ on separate lines).

 folks/groupable.vala | 60
 ++++++++++++++++++++++++++++++++++++----------------
 folks/types.vala     | 12 ++++++++---
 2 files changed, 51 insertions(+), 21 deletions(-)

commit 2e4ee8cb2703ea13e6023c6f917f8a76f2c223a5
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Dec 12 16:18:57 2010 +0000

    Fix string length calculation in the BackendStore for Vala 0.12

 folks/backend-store.vala | 13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit e6227d18e16b2aafe4f176b562504117980d0dd8
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Dec 12 16:18:01 2010 +0000

    Remove use of deprecated GLib API in Vala 0.12

 folks/backend-store.vala | 4 ++++
 1 file changed, 4 insertions(+)

commit 0e2136a563bc3e9f6ef35bc687a1e6a7560a9520
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Dec 12 16:15:22 2010 +0000

    Remove use of Unicode characters in documentation comments

    The normal valadoc doclet is fine with them, but the gtkdoc doclet
    doesn't
    like them. See: bgo#637072

 folks/individual-aggregator.vala | 2 +-
 folks/individual.vala		  | 4 ++--
 folks/persona.vala		  | 4 ++--
 3 files changed, 5 insertions(+), 5 deletions(-)

commit c8f9d86da76bc1158136e6140b76e1adfb6e6c4f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Oct 18 13:00:13 2010 -0700

    Generate gtk-doc for libfolks and libfolks-telepathy.

 docs/Makefile.am | 31 +++++++++++++++++++++++++++++--
 1 file changed, 29 insertions(+), 2 deletions(-)

commit ffe48b93225ffb30f7c60b0643aef0547f30afd0
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Dec 12 11:09:12 2010 +0000

    Don't delete in-tree m4 macros when doing maintainer-clean

 Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6bcd5a03185e186b92c20ae732337df64ac0f5ef
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Dec 12 11:04:58 2010 +0000

    Remove libtool m4 macros from the git tree

    They're copied into the build tree from the system libtool
    installation by
    libtoolize, and don't belong in git.

 m4/ltoptions.m4   | 368
 ------------------------------------------------------
 m4/ltsugar.m4	   | 123 ------------------
 m4/lt~obsolete.m4 |  92 --------------
 3 files changed, 583 deletions(-)

commit c7505774b7a70d0c1e979a10439ceb87419d74f2
Author: Stef Walter <stefw@collabora.co.uk>
Date:	Wed Dec 1 20:50:22 2010 +0000

    Bug 636251 — Fails to add contact

    Vala compiles this line of code wrong, and tries to double check
    that there is a GValue boxed inside of the GValue.

    Closes: bgo#636251

 folks/individual-aggregator.vala | 4 ++++
 1 file changed, 4 insertions(+)

commit 34f7218304a87bb8893ad5ba5daa317da498f832
Author: Robert Ancell <robert.ancell@canonical.com>
Date:	Fri Nov 26 14:32:39 2010 +1100

    Bug 635823 — Link telepathy test program to GIO

    Closes: bgo#635823

 NEWS			     | 1 +
 tests/telepathy/Makefile.am | 1 +
 2 files changed, 2 insertions(+)

commit 957dc5ca25f23724f120c1bf2c4257e7ea421577
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Nov 27 21:32:41 2010 +0000

    Bug 635703 – Leak in connection_get_requestable_channel_classes_cb

    Tidy up memory handling in the function so that it doesn't leak in odd
    conditions. Closes: bgo#635703

 NEWS				      |  1 +
 backends/telepathy/lib/tp-lowlevel.c | 11 +++++++----
 2 files changed, 8 insertions(+), 4 deletions(-)

commit 237d196f4ab0693e5132ddc1a27a48d61fc0ce44
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Nov 27 21:17:56 2010 +0000

    Fix return types and documentation for a tp-lowlevel.c method

    folks_tp_lowlevel_connection_get_requestable_channel_classes_finish()
    had
    incorrect return values in assertion failure conditions, and the
    documentation said to use the wrong function to free its return value.

 backends/telepathy/lib/tp-lowlevel.c | 13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit 6837df407dfbca5e6cc9299e807147b87b545d8e
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Nov 27 21:08:12 2010 +0000

    Bug 635649 — autopoint fails to run

    Since the changes due to bgo#635134, we should no longer call
    autopoint in
    autogen.sh. Closes: bgo#635649

 NEWS	    | 1 +
 autogen.sh | 1 -
 2 files changed, 1 insertion(+), 1 deletion(-)

commit bd11544a9c28e99f51c8ef8b6227d2e488dc968c
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Mon Nov 22 22:06:04 2010 +0000

    Don't use IT_PROG_INTLTOOL and AM_GNU_GETTEXT

    They conflict. See bgo#635134.

 configure.ac | 2 --
 1 file changed, 2 deletions(-)

commit ec6b7e93ce864885e897756b7f2ae96aaf807958
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Thu Nov 18 21:20:17 2010 +0000

    Fix leak in tp-lowlevel.c

    Closes: bgo#635178

 NEWS				      | 7 +++++++
 backends/telepathy/lib/tp-lowlevel.c | 2 ++
 2 files changed, 9 insertions(+)

commit 6642b5aed119d9b781eb1836b85c92a6858733be
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Sun Nov 14 15:58:42 2010 -0800

    Release 0.3.2

 configure.ac | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit d37fe1c327c65781d2766cbd1984901d884eb506
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Sun Nov 14 16:30:26 2010 -0800

    Relocate the g-i scanner args in configure for consistency.

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 7c18efd54343ef07bf0c7e431916f310afc152ad
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Sun Nov 14 16:29:40 2010 -0800

    Fix syntax errors for the release version of configure.

 configure.ac | 12 ++++--------
 1 file changed, 4 insertions(+), 8 deletions(-)

commit 0e77c765488878e608906d0903a0c5dc000bc989
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Sun Nov 14 15:28:23 2010 -0800

    Ensure vapi files have an appropriate age.

    Vapigen doesn't update the age of vapi files if they don't
    change. This means
    that make will always generate them during distcheck, implicitly
    requiring
    vapigen.

    Helps bgo#633718.

 backends/telepathy/lib/Makefile.am	     | 1 +
 tests/lib/telepathy/contactlist/Makefile.am | 1 +
 2 files changed, 2 insertions(+)

commit 9c57682d32c318094b700c65ef708eb97b884945
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Sun Nov 14 13:21:56 2010 -0800

    Cast Individuals to Presence as necessary for the tests.

 tests/telepathy/individual-properties.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 488a210918f54e76ddbbc2e40ac349a9b1549650
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Nov 13 14:32:28 2010 +0000

    Fix notification order in backends

 backends/key-file/kf-backend.vala  | 2 +-
 backends/telepathy/tp-backend.vala | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 9a47fc5816ecf71d7d3ac45030a7e776384e2caf
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Sep 17 12:00:19 2010 +0100

    Remove the exception from Tpf.Persona's constructor

    It was not possible for it to ever be thrown (since
    TpContact.get_identifier()
    is guaranteed to always return a valid ID, and having *_new()
    methods throw
    exceptions is never a good idea. (GInitable should be used instead.)

    This breaks both the Vala and C APIs.

    Helps: bgo#629078

 NEWS					       |  2 +
 backends/telepathy/lib/tpf-persona-store.vala | 59
 +++++----------------------
 backends/telepathy/lib/tpf-persona.vala       | 16 +-------
 3 files changed, 14 insertions(+), 63 deletions(-)

commit 62d321e39dac00e13184200fada89ca982bbc065
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Sep 10 15:45:30 2010 +0100

    Hide setter for Persona.linkable_properties

 NEWS					 |  4 ++++
 backends/key-file/kf-persona.vala	 | 11 +++++++++--
 backends/telepathy/lib/tpf-persona.vala | 14 +++++++++++---
 folks/persona.vala			 |  2 +-
 4 files changed, 25 insertions(+), 6 deletions(-)

commit def47dffa31a95ec6bd333f43c69822416098283
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Sep 10 15:25:31 2010 +0100

    Remove casting convenience functions in Individual

    They're not needed for Vala, and weren't particularly well thought
    out (or complete) in C.

 NEWS		       |  1 +
 folks/individual.vala | 79
 ---------------------------------------------------
 2 files changed, 1 insertion(+), 79 deletions(-)

commit b7cb90a159008fd2cfa8dfcec7cf993c86a0816c
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Sep 10 15:20:51 2010 +0100

    Hide setter for Backend.persona_stores

 backends/key-file/kf-backend.vala  | 23 ++++++++++++++++++-----
 backends/telepathy/tp-backend.vala | 25 +++++++++++++++++++------
 folks/backend.vala		    | 11 +----------
 3 files changed, 38 insertions(+), 21 deletions(-)

commit 24234a3c9797f066ea01005f00f67faf73359330
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Sep 10 15:13:29 2010 +0100

    Hide setter for Backend.name

 backends/key-file/kf-backend.vala  | 10 +---------
 backends/telepathy/tp-backend.vala | 10 +---------
 folks/backend.vala		    |  2 +-
 3 files changed, 3 insertions(+), 19 deletions(-)

commit 7b3ce82706d4263ee225038e0c914a1c4e94631e
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Sep 10 14:57:01 2010 +0100

    Hide setters for PersonaStore.type_id, .display_name and .id

 backends/key-file/kf-persona-store.vala       | 20 ++++++--------------
 backends/telepathy/lib/tpf-persona-store.vala | 26
 ++++----------------------
 folks/persona-store.vala		       |  6 +++---
 3 files changed, 13 insertions(+), 39 deletions(-)

commit 3c5129f844242694b2825abadb1e3bb65254f3f1
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Nov 13 12:07:33 2010 +0000

    Ensure we use string's byte length in both Vala 0.10 and 0.12

    string.length gives the byte length in Vala 0.12 and string.size() is
    deprecated, however string.length gives the character length in
    Vala 0.10,
    so we need to conditionally change the code for Vala <= 0.10.
    Re-closes: bgo#628930

 backends/key-file/kf-persona-store.vala | 13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit 9a211f440e9b252fd4aede713052b2e01fe4aced
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Nov 7 21:56:42 2010 +0000

    Consolidate persona link removal code

 folks/individual-aggregator.vala | 100
 +++++++++++++++------------------------
 1 file changed, 38 insertions(+), 62 deletions(-)

commit 1b21de8beb658d950eea9e3937ba851bb581da66
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Nov 7 21:46:09 2010 +0000

    Remove links to personas before they're relinked in the aggregator

    If one persona is removed from a non-singleton individual
    (e.g. because they
    went offline), the other personas in the individual will be relinked
    into new
    individuals (singleton or not). We previously didn't ensure that
    the entries
    in the link map corresponding to these personas were removed
    before the
    personas were relinked which, under certain circumstances (which
    I haven't
    fully explored), could cause the personas to be relinked to the
    individual
    which had just been removed. This would cause the individual's
    persona list
    to grow exponentially, and generally Bad Things to happen.

    I could reproduce this situation by logging into two accounts,
    both of which
    had the other added to their roster. The resulting four personas
    corresponding
    to the two accounts (2 user personas and 2 normal personas) would
    be linked
    to form one user individual. Going offline and then online again
    would trigger
    the bug.

    Closes: bgo#633080

 NEWS				  |  1 +
 folks/individual-aggregator.vala | 41
 +++++++++++++++++++++++++++++++++++++---
 2 files changed, 39 insertions(+), 3 deletions(-)

commit 682c84da19a88cf64174a4c9d39c24f48ccefce9
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Oct 31 16:26:51 2010 +0000

    Combine personas_changed() emissions for Individuals replaced due
    to relinking

    This re-fixes bgo#632564 so that the optimisation of grouping
    emissions of
    the personas_changed() signal is preserved. Closes: bgo#632564

 folks/individual-aggregator.vala | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 1d63c0c17cfc9b5dc83d180e43bebd19c1e8e939
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sun Oct 31 16:25:56 2010 +0000

    Improve debug output of the aggregator

    Add an indication as to whether personas are the user.

 folks/individual-aggregator.vala | 15 ++++++++++-----
 1 file changed, 10 insertions(+), 5 deletions(-)

commit 42b4a0bd575510f9aba2b366e2aef44870228bd4
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Nov 10 18:26:35 2010 -0800

    Note the recent build clean-ups in the NEWS.

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit 8685a4240a15a4aef7e0f6a978ff9e254e74bbdb
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Nov 10 18:19:12 2010 -0800

    Un-break distclean for the general test library

 tests/lib/Makefile.am | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit b126f693495bbaa6cbb22c0480d01aa8fdfae33d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Nov 10 18:09:46 2010 -0800

    Un-break distclean for the Telepathy test library

 tests/lib/telepathy/contactlist/Makefile.am | 21 +++++++++------------
 1 file changed, 9 insertions(+), 12 deletions(-)

commit 8be7700099805c8e512efa301a6c4d4814b4e844
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Nov 10 17:55:11 2010 -0800

    Un-break distclean for the tests

 tests/folks/Makefile.am     | 11 +++++++++--
 tests/key-file/Makefile.am  | 16 ++++++++++------
 tests/telepathy/Makefile.am |	8 ++++++--
 3 files changed, 25 insertions(+), 10 deletions(-)

commit 5bfdab011d1e669aae6f670781cddf0f3a61be38
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Nov 10 17:41:38 2010 -0800

    Un-break distclean for the Telepathy backend

 backends/telepathy/lib/Makefile.am | 11 ++---------
 1 file changed, 2 insertions(+), 9 deletions(-)

commit 58c4e92dd8da85fc39f9328c5fd800380471b5d4
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Nov 10 15:49:27 2010 -0800

    Distribute the key-file test library VAPI

 tests/lib/key-file/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 7f27975ae39a909d77662885ad30ffd778e1bb58
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Nov 10 15:11:48 2010 -0800

    Add the Telepathy test library g-i and Vala files to DISTCLEANFILES

 tests/lib/telepathy/contactlist/Makefile.am | 7 +++++++
 1 file changed, 7 insertions(+)

commit 4ecfb1d708fb5110cb4b4a434eff97c457494450
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Nov 10 12:02:53 2010 -0800

    Add missing general test VAPI distribution.

 tests/lib/Makefile.am | 4 ++++
 1 file changed, 4 insertions(+)

commit 5145fedab7573c663f0114308caa7713f530062b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Nov 10 11:59:46 2010 -0800

    Simplify the tp contactlist test lib build

 tests/lib/telepathy/contactlist/Makefile.am | 3 ---
 1 file changed, 3 deletions(-)

commit 3e5202280b2359006b35fcadac68c48671e728ea
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Nov 10 09:50:54 2010 -0800

    Simplify the Telepathy backend Makefile.

 backends/telepathy/lib/Makefile.am | 15 +++++----------
 1 file changed, 5 insertions(+), 10 deletions(-)

commit 89d6c64c59c9f68e7a14696c1debf07b093e871e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Nov 10 08:50:41 2010 -0800

    Remove deprecated use of string.size()

 backends/key-file/kf-persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 12f71d8f67cc04ab4b91249a23eea6442b8f4b60
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Nov 9 19:16:13 2010 -0800

    Add missing GIO linking options to the general tests.

 tests/folks/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 4a2e4807e7b4ae4fe69f076498ac526c816a6458
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Nov 8 23:08:02 2010 -0800

    Support Vala-free builds (for release tarballs).

    Fixes bgo#633718.

 Makefile.am  |   5 ++-
 NEWS	      |   2 ++
 configure.ac | 105
 ++++++++++++++++++++++++++++++++++++++++++++++-------------
 3 files changed, 88 insertions(+), 24 deletions(-)

commit 4ae86ad3a83d57e166a667ce992f672092b8a0eb
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Nov 9 15:38:16 2010 -0800

    Soften the valadoc requirement, even with --enable-docs.

    This is mainly so tarball-based builds don't break if valadoc isn't
    availble
    (but it will be used if it is).

    Helps bgo#633718.

 Makefile.am  | 2 +-
 configure.ac | 7 ++++---
 2 files changed, 5 insertions(+), 4 deletions(-)

commit cfdd1b6497e18cd7aec4e549575a9c5f850a1878
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Nov 9 14:56:11 2010 -0800

    Fix the distribution and cleanfile status of the tp-lowlevel.gir files

    Helps bgo#633718.

 backends/telepathy/lib/Makefile.am | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit f3bff34f8610bafd262852e72d42d49d151f9719
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Nov 9 14:23:22 2010 -0800

    Distribute the generated tp-backend vapi files.

    Helps bgo#633718.

 backends/telepathy/lib/Makefile.am | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit ecaad0bc2bf7a34f88f575075d263df28a8c3ced
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Nov 9 11:29:18 2010 -0800

    Re-arrange some build in the Telepathy tests.

    Helps bgo#633718.

 tests/telepathy/Makefile.am | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit db9ae9ca3a3648f7a1a1d9f504be6c74d931f9cd
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Nov 9 11:02:34 2010 -0800

    Don't force building the tp-test vapi file in dist.

    Helps bgo#633718.

 tests/lib/telepathy/contactlist/Makefile.am | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 15b553d4ff003a0f69b0d176bf70dcf91bebe159
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Nov 8 23:04:55 2010 -0800

    Depend upon the Telepathy backend stamp files.

    This lets us depend upon them for Vala-free builds from release
    tarballs.

    Helps bgo#633718.

 backends/telepathy/lib/Makefile.am | 11 +++--------
 1 file changed, 3 insertions(+), 8 deletions(-)

commit 54106978241da4f19ebd8e62467ac35e47a0aa6c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Nov 8 15:58:10 2010 -0800

    Distribute the backend store test key files.

 tests/key-file/Makefile.am  | 4 ++++
 tests/telepathy/Makefile.am | 1 +
 2 files changed, 5 insertions(+)

commit e5d8d8c05b8726fd6788013c01fb3a0f8a37c0cf
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Nov 8 15:48:20 2010 -0800

    Point the tests at the uninstalled backends.

 configure.ac		     | 9 +++++++++
 tests/folks/Makefile.am     | 1 +
 tests/key-file/Makefile.am  | 1 +
 tests/telepathy/Makefile.am | 1 +
 4 files changed, 12 insertions(+)

commit e2cd1475b6c2cc2aa649decdbd008f547de64584
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Nov 8 14:50:11 2010 -0800

    Load backends from FOLKS_BACKEND_PATH instead of _DIR.

    The string is :-delimited and accepts both directories and backend
    library
    files. Eg,

	FOLKS_BACKEND_PATH="/path/to/dir:/path/to/backend.so"

    This is so we may refer to our known backends directly when running
    the tests
    (and not depend upon them being installed first).

 NEWS			  |  2 ++
 folks/backend-store.vala | 49
 ++++++++++++++++++++++++++++++++++++++----------
 2 files changed, 41 insertions(+), 10 deletions(-)

commit 677d1f8a1c3b7edc5d6bf9c86036e4d3b29ba2c8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Nov 4 14:11:46 2010 -0700

    Distribute the kf-test header.

 tests/lib/key-file/Makefile.am | 4 ++++
 1 file changed, 4 insertions(+)

commit 0f3bd2117ae21a7ea16bce40ffe1959f980446c8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Nov 4 14:00:34 2010 -0700

    Don't distribute a generated po/missing file.

 Makefile.am | 1 -
 1 file changed, 1 deletion(-)

commit 974f3ae6ee79a15f022177d1304d0344eda99e54
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Nov 8 10:57:23 2010 -0800

    Don't ever claim to own the backend GLib.Modules.

 folks/backend-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9bc021dbf9c9feab5c0ccefe70a6be9ad00a5a15
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Nov 8 08:12:51 2010 -0800

    Annotate some of the test functions, to appease g-ir.

 tests/lib/telepathy/contactlist/backend.c | 6 ++++++
 tests/lib/telepathy/contactlist/conn.c    | 6 ++++++
 2 files changed, 12 insertions(+)

commit 0c636d207950de01736462ce733eea1fda43ebfe
Author: Mario Blättermann <mariobl@gnome.org>
Date:	Sat Nov 6 20:36:25 2010 +0100

    [l10n] Added initial German translation

 po/LINGUAS |	2 +
 po/de.po   | 547
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 549 insertions(+)

commit 88e9ea06e4ede971f2f4b623807ac1518f480c42
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Nov 4 17:28:48 2010 -0700

    Always explicitly iterate through a HashMap's keys, values,
    or entries.

 backends/telepathy/lib/tpf-persona-store.vala | 10 ++++------
 folks/backend-store.vala		       | 20 +++++++-------------
 2 files changed, 11 insertions(+), 19 deletions(-)

commit 8462e54be3db0aad65336c55dc30f8efa9149a5c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Nov 4 14:53:07 2010 -0700

    Don't try to (invalidly) import an enum.

 backends/telepathy/lib/tpf-persona-store.vala | 13 ++++++-------
 1 file changed, 6 insertions(+), 7 deletions(-)

commit 0a5864e0e7c3f776f829e0bf5819fedfda04580a
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Oct 20 18:00:10 2010 +0100

    Add new internationalisation files to CLEANFILES

    Helps: bgo#628883

 Makefile.am | 25 ++++++++++++++++++++++++-
 1 file changed, 24 insertions(+), 1 deletion(-)

commit edd974508d3d92172df91d892a7be73bfada138b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Wed Oct 20 17:51:41 2010 +0100

    Update log handlers in the test suite

    Due to string changes in the rest of libfolks, the log handlers in
    the test
    suite need changing to fix the test suite. Helps: bgo#628883

 tests/telepathy/individual-properties.vala	 | 15 ++++++---------
 tests/telepathy/individual-retrieval.vala	 | 10 ++++------
 tests/telepathy/persona-store-capabilities.vala |  5 ++---
 3 files changed, 12 insertions(+), 18 deletions(-)

commit cf42813c1d2cbd4d69050dda02981475d364bad6
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Sep 6 15:43:42 2010 +0100

    Mark strings for translation and improve string formatting a little

    This marks every potentially-user-visible string in libfolks for
    translation.
    These include error messages, warnings and criticals. This also
    improves the
    formatting and wording of some of the messages, and changes others
    to make
    them more easily translatable. Closes: bgo#628883

 NEWS					       |   1 +
 backends/key-file/kf-persona-store.vala       |  30 ++--
 backends/key-file/kf-persona.vala	       |   5 +-
 backends/telepathy/lib/tp-lowlevel.c	       |  28 ++--
 backends/telepathy/lib/tpf-persona-store.vala | 190
 +++++++++++++++++++-------
 backends/telepathy/lib/tpf-persona.vala       |   6 +-
 folks/backend-store.vala		       |  47 +++++--
 folks/individual-aggregator.vala	       |  34 +++--
 po/POTFILES.in				       |  11 ++
 po/POTFILES.skip			       |   9 ++
 tools/import-pidgin.vala		       |  57 +++++---
 tools/import.vala			       |  36 +++--
 12 files changed, 324 insertions(+), 130 deletions(-)

commit affa69029fe409b60de0fdf1bef7429c51c2907b
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Sep 6 14:32:16 2010 +0100

    Bug 628883 — Add localisation support

    Add gettext/intltool build system support, but don't mark any
    strings for
    translation yet. Helps: bgo#628883

 Makefile.am	       |  1 +
 autogen.sh	       |  2 ++
 configure.ac	       | 12 ++++++++++++
 folks/build-conf.vapi |  6 ++++++
 po/LINGUAS	       |  0
 po/POTFILES.in        |  0
 po/POTFILES.skip      |  0
 tools/Makefile.am     |  6 ++++++
 tools/import.vala     |  3 +++
 9 files changed, 30 insertions(+)

commit aaad9438b2d949b3c4ef6fad3d3821b873655089
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Nov 3 17:38:13 2010 -0700

    Treat CONNECTING as a valid state for a TpConnection.

 tests/lib/telepathy/contactlist/contact-list-manager.c | 4 ++++
 1 file changed, 4 insertions(+)

commit c38d4b7797321a484ff11c254c587ffeb1c92174
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Nov 1 12:01:40 2010 -0700

    Add backend state key files for most tests.

    Only Folks-core tests are concerned with specifically testing
    the Backend
    enabling/disabling code (which is bulkier than out-of-sight settings
    files).

 tests/data/backend-store-all.ini		    |  5 ++++
 tests/folks/Makefile.am			    |  5 ++++
 tests/key-file/Makefile.am			    |  5 ++++
 .../key-file/data/backend-store-key-file-only.ini  |  5 ++++
 tests/key-file/individual-retrieval.vala	    | 31
 ----------------------
 tests/telepathy/Makefile.am			    |  2 ++
 .../data/backend-store-telepathy-only.ini	    |  5 ++++
 tests/telepathy/individual-retrieval.vala	    | 16 -----------
 8 files changed, 27 insertions(+), 47 deletions(-)

commit 145d13ad7320affbdc5f8c201c75251f8cd6c6ac
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Sep 16 17:46:32 2010 +0100

    Disable unused backends in the tests.

    Helps bgo#629862.

 tests/key-file/individual-retrieval.vala  | 20 ++++++++++++++++++++
 tests/telepathy/individual-retrieval.vala |  8 ++++++++
 2 files changed, 28 insertions(+)

commit 714e0d69ec716e80f48dfbb000bda5f9dacb0aa5
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Sep 16 15:00:04 2010 +0100

    Add some initial key-file backend tests

    Fixes bgo#629862.

 NEWS					  |   1 +
 configure.ac				  |   1 +
 tests/Makefile.am			  |   1 +
 tests/key-file/Makefile.am		  |  50 ++++++++++
 tests/key-file/individual-retrieval.vala | 156
 +++++++++++++++++++++++++++++++
 5 files changed, 209 insertions(+)

commit db13eb9b9d8788d58ef4ad102337ea315202c03c
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Sep 16 14:29:03 2010 +0100

    Add a key-file test library

    This contains some of the boilerplate code necessary to test the
    key-file
    backend with arbitrary key files.

    Helps bgo#629862.

 configure.ac			 |  1 +
 tests/lib/Makefile.am		 |  1 +
 tests/lib/key-file/Makefile.am  | 31 ++++++++++++++++++++++
 tests/lib/key-file/backend.vala | 57
 +++++++++++++++++++++++++++++++++++++++++
 4 files changed, 90 insertions(+)

commit 037df05b1a069d484ff84de2aa5f86b3da259f1f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Nov 2 09:53:29 2010 -0700

    Make BackendStore.load_backends() unload disabled backends.

    This also allows this function to be called multiple times
    (previously,
    subsequent calls were ignored).

    Fixes bgo#629081.

 NEWS				    |	8 ++
 backends/key-file/kf-backend.vala  |  16 ++++
 backends/telepathy/tp-backend.vala |  27 ++++++
 folks/backend-store.vala	    | 183
 ++++++++++++++++++++++++-------------
 folks/backend.vala		    |  16 ++++
 tests/folks/backend-loading.vala   | 131 ++++++++++++++++++++++++++
 6 files changed, 316 insertions(+), 65 deletions(-)

commit ba5b502380b2fec8e1c4f3989769c9db8fcf66a7
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Nov 1 19:08:43 2010 -0700

    Add a test of backend disabling.

    Helps bgo#629081.

 tests/folks/backend-loading.vala | 55
 ++++++++++++++++++++++++++++++++++++++++
 1 file changed, 55 insertions(+)

commit d65fc45442d2ed3fe714291ffa43393e60ed47da
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 29 16:49:14 2010 -0700

    Add initial BackendStore test.

    Helps bgo#629081.

 configure.ac			  |  1 +
 tests/Makefile.am		  |  1 +
 tests/folks/Makefile.am	  | 47 ++++++++++++++++++++++++
 tests/folks/backend-loading.vala | 79
 ++++++++++++++++++++++++++++++++++++++++
 4 files changed, 128 insertions(+)

commit 6731c20374281ac3b2502bf9c97f5f1f13e321cb
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Nov 1 17:48:19 2010 -0700

    Don't use an extraneous main loop and watchdog for all tests.

 tests/telepathy/individual-properties.vala	 | 12 ------------
 tests/telepathy/individual-retrieval.vala	 | 19 +++++++------------
 tests/telepathy/persona-store-capabilities.vala | 12 ------------
 3 files changed, 7 insertions(+), 36 deletions(-)

commit 82770f76f6d7190c8d51b2a8295131bfb176e44a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 29 17:27:02 2010 -0700

    Cut ignored libfolks-test link options.

 tests/lib/Makefile.am | 6 ------
 1 file changed, 6 deletions(-)

commit 78d51473f2f28d8c9d7e2c0a73595dde9164df9c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 29 16:44:24 2010 -0700

    Fix the path for the Tp tests D-Bus service dir.

 tests/lib/telepathy/contactlist/session.conf.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2623a7558b31b310ea0c6436dbab75e0b9eaf3c5
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Nov 3 17:02:01 2010 -0700

    Clean up the way we load modules.

    Helps bgo#629081.

 folks/backend-store.vala | 29 ++++++++++++++++++++---------
 1 file changed, 20 insertions(+), 9 deletions(-)

commit 2ba280aaaab2a2464ebd35f90d7b43d434711909
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Sep 29 10:26:06 2010 -0700

    Fix code alignment.

 folks/individual.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 87cf01591eea1a00f7990bbc73923374c81291db
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Sep 29 10:06:26 2010 -0700

    Fix some comment wrapping.

 folks/individual.vala | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 1ed00cda2a890412bf301073f6daa6578e28509b
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Sep 16 16:32:09 2010 +0100

    Add BackendStore.[enable|disable]_backend() methods

    These update the BackendStore's key file and save it asynchronously,
    but
    don't load or unload the backends.

    Helps bgo#629081.

 NEWS			  |  2 ++
 folks/backend-store.vala | 53
 ++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 55 insertions(+)

commit 0854baf3f2ce4eaeb20580fe104f6d689e3fcb7e
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Sep 16 15:56:42 2010 +0100

    Add support for disabling backends in the BackendStore using a
    key file

    Using a key file, ~/.local/share/folks/backends.ini, specific backends
    can now be disabled.

    The key file is of the format:
      [telepathy]
      enabled=true
      [key-file]
      enabled=false

    Helps: bgo#629081

 NEWS			  |   6 +++
 folks/backend-store.vala | 112
 ++++++++++++++++++++++++++++++++++++++++++++++-
 2 files changed, 117 insertions(+), 1 deletion(-)

commit 0f5aa36122dc1575611ccab7eaa639e6216b5640
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Sep 16 15:20:54 2010 +0100

    Convert BackendStore to use GFiles more uniformly

 folks/backend-store.vala | 13 ++++++-------
 1 file changed, 6 insertions(+), 7 deletions(-)

commit 0d647f9d9b17dd076e6098e07e35d1e1dce8ef66
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sun Oct 31 14:34:04 2010 +0000

    Add missing D-Bus GLib dependency to the Telepathy contact list tests

 tests/lib/telepathy/contactlist/Makefile.am | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 5fc41edc86a142c9c9a26bb9b85253d8a459c005
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Sat Oct 30 10:49:29 2010 +0100

    Fix some gcc warnings in the Telepathy test case library

 tests/lib/telepathy/contactlist/account-manager.c  | 12 ++++----
 tests/lib/telepathy/contactlist/account.c	    | 32
 +++++++++++-----------
 .../telepathy/contactlist/contact-list-manager.c   |  6 +++-
 .../telepathy/contactlist/contact-list-manager.h   |  5 ++--
 tests/lib/telepathy/contactlist/contact-list.c     | 20 +++++++-------
 5 files changed, 40 insertions(+), 35 deletions(-)

commit dd72b7a7fa216158f94ea25257666833e41a0536
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Sep 16 13:21:49 2010 +0100

    Move the Telepathy backend test setup code into a library class

    This means that future tests can more easily set up a fake Telepathy
    backend
    to test against.

 tests/lib/telepathy/contactlist/Makefile.am	    |	2 +
 tests/lib/telepathy/contactlist/backend.c	    | 218
 +++++++++++++++++++++
 tests/lib/telepathy/contactlist/backend.h	    |  69 +++++++
 .../telepathy/contactlist/tp-test-contactlist.h    |	1 +
 tests/telepathy/individual-properties.vala	    |  97 +--------
 tests/telepathy/individual-retrieval.vala	    |  94 +--------
 tests/telepathy/persona-store-capabilities.vala    |  95 +--------
 7 files changed, 306 insertions(+), 270 deletions(-)

commit d60488249c44e5d47f383dc5bcc0ed67e31aa4db
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Oct 25 16:55:17 2010 -0700

    Require g-i >= 0.9.12 as 0.9.10 is broken.

    Specifically, this version needs to be the one used to build the
    tp-glib Vala
    bindings, but we can't express that requirement directly.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7ce4bcf4bd04c4c049940d42f3eb2fc759c62001
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 22 09:39:45 2010 -0700

    Remove bogus 'weak' modifier for uints in Tp callbacks.

 backends/telepathy/lib/tpf-persona-store.vala | 32
 +++++++++++++--------------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit 326f7cc51433550b404360f9bdf3912fc213c3fb
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 21 10:33:46 2010 -0700

    Update NEWS for bgo#632564.

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit 725ff1499e90e1d7f78fbf01195545db5d0af2d3
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 20 12:10:26 2010 -0700

    Ensure Individuals replaced due to re-linking emit removed().

    It turns out the optimization we're removing, which was meant
    to coalesce
    IndividualAggregator:personas-changed signal emissions, was a little
    over-reaching.

    Fixes bgo#632564.

 folks/individual-aggregator.vala | 5 -----
 1 file changed, 5 deletions(-)

commit 7e8370c5c5701e55a3587ac94098765d8266257d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 20 08:58:22 2010 -0700

    Put more files in CLEANFILES as appropriate.

 backends/telepathy/lib/Makefile.am | 13 +++++++++++--
 tests/telepathy/Makefile.am	    |  4 +++-
 2 files changed, 14 insertions(+), 3 deletions(-)

commit 1b99ccaad8f00d6b2e10d376cd0f4aa14ed89064
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Oct 19 14:51:34 2010 -0700

    Clean up the description of BackendStore a little.

 folks/backend-store.vala | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 9b057c0d56073b83055a51e603918b0dc772f530
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Oct 19 12:24:14 2010 -0700

    Document the values of Folks.Presence.PresenceType.

 folks/presence.vala | 27 +++++++++++++++++++++++++++
 1 file changed, 27 insertions(+)

commit 8793b2098e895b96f458325511710adcaf1f0f09
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Oct 19 12:23:49 2010 -0700

    Document the params for normalise_im_address().

 folks/imable.vala | 3 +++
 1 file changed, 3 insertions(+)

commit 8a1346a8420bdbe01bd460e5e5dbd99b9d336604
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Oct 19 11:31:31 2010 -0700

    Break up some long class summaries to simplify the doc index.

 folks/individual-aggregator.vala |  6 ++++--
 folks/persona.vala		  |  6 ++++--
 folks/presence.vala		  | 10 ++++++----
 3 files changed, 14 insertions(+), 8 deletions(-)

commit 76066d926b4ed2dc6df51bc251645ac4090967cf
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Oct 18 10:57:50 2010 -0700

    Simplify the Folks doc Makefile.

 docs/Makefile.am | 36 +++++++++++++++++++++++++++---------
 1 file changed, 27 insertions(+), 9 deletions(-)

commit 6fd4a769390d01dc80c37682ba3404b79a193991
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Oct 19 09:26:09 2010 -0700

    Use the proper AM_VALAFLAGS instead of modifying VALAFLAGS for
    the tests.

 tests/telepathy/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ff8e2c8f0df9779c2102a1df0ad4566ce6a86648
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Oct 19 09:22:58 2010 -0700

    Use per-library VALAFLAGS for the keyfile backend.

    Adding to the global VALAFLAGS was incorrect.

 backends/key-file/Makefile.am | 20 ++++++++------------
 1 file changed, 8 insertions(+), 12 deletions(-)

commit 87a2a2c934149ef2ffd38476c6b40612e184839b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Oct 18 14:23:33 2010 -0700

    Use automake's Vala support to build libfolks-telepathy.

 backends/telepathy/lib/Makefile.am | 82
 ++++++++++++--------------------------
 1 file changed, 25 insertions(+), 57 deletions(-)

commit be540eddb76303ba568dafa1ccc3660ebd5ecba9
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Oct 18 13:23:57 2010 -0700

    Use automake's Vala support to build libfolks.

 folks/Makefile.am | 50 +++++++++++++++++---------------------------------
 1 file changed, 17 insertions(+), 33 deletions(-)

commit f4d219ef0c249a6cda76f0a42d2ee6ce835ead59
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 15 14:25:17 2010 -0700

    Clarify which changes in 0.3.1 were API changes.

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit a9f0cee371adbaeea2b5aa53b32db156309c53b9
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 15 14:23:28 2010 -0700

    Post-release version bump.

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit df3b5c96dabaaad88a4a1e402956c8c911ce31ff
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 15 13:06:20 2010 -0700

    Release 0.3.1

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 5858d7c0910e1eae8652edaccbd33aa6bcd17c8d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 15 13:36:43 2010 -0700

    Distribute the dummy relationships file to fix distcheck.

 tests/telepathy/Makefile.am | 4 ++++
 1 file changed, 4 insertions(+)

commit d60e8a1032e627494a8fd25837cfacabc84f98f7
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 15 13:05:40 2010 -0700

    Bump the .so version.

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit db1fbe4a5a3b41ff45a9a01f8fdac59875ecb021
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 15 13:04:09 2010 -0700

    Make the NEWS file a little more uniform.

 NEWS | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 719cce7f4528aecd4d31a7f5c5875324e7780e7b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 14 09:20:39 2010 -0700

    Make Individual implement IMable.

 NEWS		       |  1 +
 folks/individual.vala | 60
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 61 insertions(+)

commit 0dc02843b4858cdeaa6aa7caf500e6bb906f6648
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 14 09:50:42 2010 -0700

    Alphabetize the test definitions.

 tests/telepathy/Makefile.am | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit fd73fcb091f2fe57b53ddebc0f8b5ed007c3c5e8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 14 13:38:05 2010 -0700

    Set up tests with ENVIRONMENT, not wrapper scripts.

 tests/telepathy/Makefile.am | 15 ++++++---------
 1 file changed, 6 insertions(+), 9 deletions(-)

commit 54c87f683d25fd731855fb485867b92864a464ea
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 14 13:18:21 2010 -0700

    Use a dummy relationships file for Tp tests.

    The main purposes are to prevent the key-file backend from reading
    in the user's
    relationships.ini file and to avoid the inconsistency that could
    entail.

    Fixes bgo#632163.

 NEWS					      | 2 ++
 tests/telepathy/Makefile.am		      | 2 ++
 tests/telepathy/data/relationships-empty.ini | 0
 3 files changed, 4 insertions(+)

commit f5894cc75d9228319fdede7e89de4a966814168f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 13 15:59:02 2010 -0700

    Actually include all the LDADD flags for our tests.

    Thanks to autotools for keeping this hidden for so long.

    Fixes bgo#632096.

 NEWS			     | 2 ++
 tests/telepathy/Makefile.am | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit eed38d45e206fae39e1f64a3514bc2e03c8bb44d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 13 14:06:35 2010 -0700

    Rename the contact-properties test.

 tests/telepathy/Makefile.am		    |	6 +-
 tests/telepathy/contact-properties.vala    | 343
 -----------------------------
 tests/telepathy/individual-properties.vala | 343
 +++++++++++++++++++++++++++++
 3 files changed, 346 insertions(+), 346 deletions(-)

commit 2f3853338cf167c3ea26a4cf912d684ba86427f1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 13 14:00:12 2010 -0700

    Rename the contact-retrieval test.

 tests/telepathy/Makefile.am		   |   6 +-
 tests/telepathy/contact-retrieval.vala    | 399
 ------------------------------
 tests/telepathy/individual-retrieval.vala | 399
 ++++++++++++++++++++++++++++++
 3 files changed, 402 insertions(+), 402 deletions(-)

commit 3136fc0d9e12c3c7d61c28d3c90097a12c40e7a9
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 13 13:20:58 2010 -0700

    Update the NEWS for the PersonaStore capabilities.

 NEWS | 4 ++++
 1 file changed, 4 insertions(+)

commit 88b60ddc8acac40e3c39d3ad3250a1be75199967
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Oct 12 16:59:08 2010 -0700

    Add the PersonaStore:can-group-personas property.

    Helps bgo#626179.

 backends/key-file/kf-persona-store.vala	 | 12 ++++
 backends/telepathy/lib/tp-lowlevel.c		 | 78
 +++++++++++++++++++++++++
 backends/telepathy/lib/tp-lowlevel.h		 | 13 +++++
 backends/telepathy/lib/tpf-persona-store.vala	 | 71
 ++++++++++++++++++++++
 folks/persona-store.vala			 | 11 ++++
 tests/telepathy/persona-store-capabilities.vala | 22 +++++++
 6 files changed, 207 insertions(+)

commit 6d52e4eddefff01ff97faf548a698b56f5f55311
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Oct 11 10:58:24 2010 -0700

    Add the PersonaStore:can-alias-personas property.

    Helps bgo#626179.

 backends/key-file/kf-persona-store.vala	 | 12 ++++
 backends/telepathy/lib/tp-lowlevel.c		 | 74
 +++++++++++++++++++++++++
 backends/telepathy/lib/tp-lowlevel.h		 | 13 +++++
 backends/telepathy/lib/tpf-persona-store.vala	 | 36 ++++++++++++
 folks/persona-store.vala			 | 11 ++++
 tests/telepathy/persona-store-capabilities.vala | 22 ++++++++
 6 files changed, 168 insertions(+)

commit 074a341f2b84096195ae525b0d6da03480d7cacc
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 8 15:42:18 2010 -0700

    Add the PersonaStore:can-remove-personas property.

    Helps bgo#626179.

 backends/key-file/kf-persona-store.vala	 | 12 ++++++++++
 backends/telepathy/lib/tpf-persona-store.vala	 | 17 ++++++++++++++
 folks/persona-store.vala			 | 11 +++++++++
 tests/telepathy/persona-store-capabilities.vala | 31
 +++++++++++++++++++++----
 4 files changed, 67 insertions(+), 4 deletions(-)

commit a3fb94d88c8c8093fa163195ab091ac724639f74
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Oct 4 09:00:54 2010 -0700

    Add the PersonaStore:can-add-personas property.

    Helps bgo#626179.

 backends/key-file/kf-persona-store.vala	 |  12 ++
 backends/telepathy/lib/tpf-persona-store.vala	 |  52 ++++++
 folks/persona-store.vala			 |   7 +
 tests/telepathy/Makefile.am			 |   5 +
 tests/telepathy/persona-store-capabilities.vala | 225
 ++++++++++++++++++++++++
 5 files changed, 301 insertions(+)

commit 446ba7bed51d425db48f6efd73c507b7f62d7d4d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 7 12:51:22 2010 -0700

    Add the MaybeBool type.

 folks/Makefile.am |  1 +
 folks/types.vala  | 37 +++++++++++++++++++++++++++++++++++++
 2 files changed, 38 insertions(+)

commit a735b8a9a8809080c9c68c186d4bdac9e7761e0d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 7 13:55:26 2010 -0700

    Expose the publish and subscribe group flags in the test CM.

 tests/lib/telepathy/contactlist/conn.c  | 57
 +++++++++++++++++++++++++++++++--
 tests/lib/telepathy/contactlist/conn.h  |  3 +-
 tests/telepathy/contact-properties.vala |  2 +-
 tests/telepathy/contact-retrieval.vala  |  2 +-
 4 files changed, 58 insertions(+), 6 deletions(-)

commit 28bab0bff215cf8d4a345b8ce58afdff59d177e1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Oct 11 13:33:18 2010 -0700

    Fix the organization of the new section in NEWS

 NEWS | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 2ea29b01bb2f43866fcdc71ea5af53803caeafe3
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Oct 11 13:28:05 2010 -0700

    Don't assume Personas all have a corresponding Individual in the
    link map.

    This can happen if a Persona is removed (by ID) before its
    corresponding
    Individual has been added to the linked-personas map (which is
    possible if a
    Telepathy account suddenly goes offline before the linking of the
    given Persona
    is complete).

    Fixes bgo#631864.

 NEWS				  | 1 +
 folks/individual-aggregator.vala | 9 +++++----
 2 files changed, 6 insertions(+), 4 deletions(-)

commit d46b74f8aaeccbfd488bc5b2d450fd3cd94b75b0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Oct 7 08:35:54 2010 -0700

    Clarify that the TpContacts have specific features, not necessarily
    values.

 NEWS | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 5d91499c1b5fe2aee752180408281950a68bb62c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 6 15:28:20 2010 -0700

    Simplify the Tp test Makefile further.

 tests/telepathy/Makefile.am | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit 5ab78bfd31ee2750f040c1f728c8b0a5f8485130
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:	Thu Sep 30 15:54:54 2010 +0100

    tpf-persona-store: add the client types feature to all new TpContacts

    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 NEWS					       | 1 +
 backends/telepathy/lib/tpf-persona-store.vala | 1 +
 2 files changed, 2 insertions(+)

commit 09f56474b32418dfed4e77b1e11075ee09f67bdf
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:	Thu Sep 30 15:54:37 2010 +0100

    configure: depend on new tp-glib

    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2ca183d5e22a692485cdb7e5e8e27dad69b4afc0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 6 11:14:14 2010 -0700

    Update NEWS for bug fix.

 NEWS | 6 ++++++
 1 file changed, 6 insertions(+)

commit 727192f6578e8e1856d2eed5bb579a27489e8c5a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 6 11:00:22 2010 -0700

    Fix the CLEANFILES for the Tp tests.

 tests/telepathy/Makefile.am | 12 ++++--------
 1 file changed, 4 insertions(+), 8 deletions(-)

commit ccc49aa4317f8a6a3ca6f5de04a74e0842a6a2eb
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 6 10:28:59 2010 -0700

    Relocate Folks.TestCase as a separate library

 configure.ac				|  1 +
 tests/lib/Makefile.am			| 27 +++++++++++
 tests/lib/folks-test-uninstalled.pc.in | 12 +++++
 tests/lib/test-case.vala		| 82
 ++++++++++++++++++++++++++++++++++
 tests/telepathy/Makefile.am		|  8 ++--
 tests/telepathy/test-case.vala		| 82
 ----------------------------------
 6 files changed, 126 insertions(+), 86 deletions(-)

commit f449e826a86b23fc9dd9aa50e71a5d2c66f7c8c1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Oct 5 17:27:48 2010 -0700

    React to alias changes coming from Telepathy. Fixes bgo#630431.

    Add a test for Tpf.Persona properties (changed through the test
    CM itself).

    This simulates a change coming through Telepathy, vs. one we're
    triggering
    ourselves (as in the last test).

 backends/telepathy/lib/tpf-persona.vala |  9 ++++
 tests/telepathy/contact-properties.vala | 74
 +++++++++++++++++++++++++++++++++
 2 files changed, 83 insertions(+)

commit 274f41acfb922ab564220f2bf072e09084a3c7fa
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Oct 6 09:12:07 2010 -0700

    Simplify the tests Makefile.

 tests/telepathy/Makefile.am | 13 +++----------
 1 file changed, 3 insertions(+), 10 deletions(-)

commit 07e5575567b3bbe54f6bc7142e3daa2d672a5731
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Oct 5 09:10:41 2010 -0700

    Add a test for Tpf.Persona alias changing (through the Tp backend
    itself)

 tests/telepathy/Makefile.am		 |  28 +++-
 tests/telepathy/contact-properties.vala | 269
 ++++++++++++++++++++++++++++++++
 tests/telepathy/contact-retrieval.vala  |  57 -------
 3 files changed, 292 insertions(+), 62 deletions(-)

commit a060bfb8f8e6e342d1f7ed15ac9940b00ccee379
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Oct 5 10:59:06 2010 -0700

    Expose the TpTestContactListConnection's manager.

 tests/lib/telepathy/contactlist/conn.c | 19 +++++++++++++++++++
 tests/lib/telepathy/contactlist/conn.h |  5 +++++
 2 files changed, 24 insertions(+)

commit 595e1a2c2975a828fa62e7e58e8cedb113a9b16f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Oct 5 16:55:13 2010 -0700

    Make the TpTest CM emit alias and presence updates.

 tests/lib/telepathy/contactlist/contact-list-manager.c | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit d533f0c1c31fd4026ad2c8d5c1fffc0b8316c420
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Oct 5 16:44:38 2010 -0700

    Include the contact ID in the TestContactDetails for the Tp test
    library.

 .../telepathy/contactlist/contact-list-manager.c   | 51
 +++++++++++++++-------
 1 file changed, 35 insertions(+), 16 deletions(-)

commit 325af19c7a5125ac34bb1ec8752e7b15114cb684
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Oct 4 10:36:00 2010 -0700

    Bump telepathy-glib requirement to ensure proper g-i.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ee7528d4f4199bbd1fc5e007e25cb79e9c128bff
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 1 12:42:45 2010 -0700

    Post-release version bump.

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 44790fa205ffe57bf537850261a1945b7c323bab
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Oct 1 07:49:02 2010 -0700

    Release 0.3.0

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 2f84ebb7ef358227dc7feadf955f4ac16c9fc03c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Sep 30 20:13:50 2010 -0700

    Fetch TpContact avatar information upon creation.

    Fixes bgo#630347.

 NEWS					       | 1 +
 backends/telepathy/lib/tpf-persona-store.vala | 2 ++
 2 files changed, 3 insertions(+)

commit 88bafab88d8eb2816384f39f6e99a15e9731acc5
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Sep 30 10:15:06 2010 -0700

    Note the TpContact capabilities guarantee in NEWS

 NEWS | 1 +
 1 file changed, 1 insertion(+)

commit 6c67ce8fa614f667b497de04b49f6bd7d77e0375
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Sep 30 10:09:18 2010 -0700

    Fetch capabilities when we create TpContacts.

    Patch concept by Felix Kaser.

 backends/telepathy/lib/tpf-persona-store.vala | 1 +
 1 file changed, 1 insertion(+)

commit 2fd4266a5deb862e06f9366579ef3e056bb8a1eb
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Sep 30 10:06:02 2010 -0700

    Factor out a redundant array.

 backends/telepathy/lib/tpf-persona-store.vala | 33
 +++++++--------------------
 1 file changed, 8 insertions(+), 25 deletions(-)

commit e79e0fa114237c638f776f4e8df5ec451e1c8c52
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Sep 28 16:23:32 2010 -0700

    Prefer to use object members directly instead of accessors.

    Patch by Patryk Zawadzki.

 backends/telepathy/lib/tpf-persona-store.vala | 4 ++--
 backends/telepathy/lib/tpf-persona.vala       | 6 +++---
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 81552a6128d13627ce3e0b2526070dc7af17db5e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Sep 27 12:01:00 2010 -0700

    Turn on valac warnings for the KeyFile backend.

 backends/key-file/Makefile.am		   |  1 +
 backends/key-file/kf-backend-factory.vala | 10 +---------
 configure.ac				   |  2 ++
 3 files changed, 4 insertions(+), 9 deletions(-)

commit c208d498b9f6e51cd9d8771e34f4921278a10d69
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Sep 27 11:28:42 2010 -0700

    Cut unnecessary D-Bus flags for libfolks-backend-telepathy

 backends/telepathy/Makefile.am | 2 --
 1 file changed, 2 deletions(-)

commit 45977b1f901d8cf241061f74a1859ae142111143
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Sep 27 11:13:16 2010 -0700

    Make a distinction between valac and vapigen flags.

 backends/telepathy/lib/Makefile.am	     | 9 +++++++--
 configure.ac				     | 4 ++--
 folks/Makefile.am			     | 2 +-
 tests/lib/telepathy/contactlist/Makefile.am | 4 ++--
 4 files changed, 12 insertions(+), 7 deletions(-)

commit 7f0614529c11b673a71e539b06a5c3e5ff9886d8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Sep 27 10:24:33 2010 -0700

    Turn on stronger error checking for the test library.

 tests/lib/telepathy/contactlist/Makefile.am | 5 ++++-
 tests/lib/telepathy/contactlist/account.c   | 2 +-
 2 files changed, 5 insertions(+), 2 deletions(-)

commit cf5f016882f540c93cf84a8cc9ab8557ceafdd3a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Sep 27 10:13:48 2010 -0700

    Turn on stronger error checking for libtp-lowlevel.

 backends/telepathy/lib/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 08ce9455ad34ac299959144a00279da90ba0b43e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Sep 23 18:31:46 2010 -0700

    Fix use of CPP/CFLAGS for the Telepathy backend libraries.

 backends/telepathy/lib/Makefile.am | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 4225e3065e5d49bda7227e225cdc244543dd84e2
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Sep 23 18:25:04 2010 -0700

    Re-use existing autoconf code for setting extra maintainer flags.

 backends/telepathy/lib/Makefile.am | 5 +----
 configure.ac			    | 5 +++--
 2 files changed, 4 insertions(+), 6 deletions(-)

commit 4967acd0c235dc3eb0149cfa737443926339d08c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Sep 6 13:37:53 2010 -0700

    Add a test for adding Personas.

    Fixes bgo#629008.

 NEWS					|   1 +
 tests/telepathy/Makefile.am		|   3 +
 tests/telepathy/contact-retrieval.vala | 181
 +++++++++++++++++++++++++++++++++
 3 files changed, 185 insertions(+)

commit ba73b7bbdb0ffa08611097d11a34383b714715c1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Sep 7 22:47:59 2010 -0700

    Explicitly reset the aggregator between tests.

    Helps bgo#629008.

 tests/telepathy/contact-retrieval.vala | 6 ++++++
 1 file changed, 6 insertions(+)

commit b5d1c361f342a859ef35442a3672f07d3ccde844
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Sep 7 16:40:05 2010 -0700

    Don't deref a null PersonaStore in a failure case.

    Helps bgo#629008.

 folks/individual-aggregator.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d5fe872c623c0108de9d7afe5282bb224113d786
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Sep 6 13:55:40 2010 -0700

    Prepare the aggregator asynchronously (as clients will)

    Helps bgo#629008.

 tests/telepathy/contact-retrieval.vala | 24 +++++++++++++++++++++---
 1 file changed, 21 insertions(+), 3 deletions(-)

commit c911b3a7dce4b564c72bafd21e972f091bdf5b00
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Sep 3 17:51:31 2010 -0700

    Re-use the defined protocol prefix for tests.

    Helps bgo#629008.

 tests/telepathy/contact-retrieval.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4e0f531abd8f2ce6ebd09c0dcbda14321a5216a1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Sep 3 17:49:20 2010 -0700

    Centralize the list of expected test Individuals.

    Helps bgo#629008.

 tests/telepathy/contact-retrieval.vala | 32
 +++++++++++++++++++-------------
 1 file changed, 19 insertions(+), 13 deletions(-)

commit 42612cdf772bc6a03d2f43bbbc3568d1439227c2
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Sep 9 09:24:11 2010 -0700

    Add Backend.is_prepared and make prepare() idempotent.

    Fixes bgo#629331.

 NEWS				    |  3 ++
 backends/key-file/kf-backend.vala  | 66
 ++++++++++++++++++++++++++------------
 backends/telepathy/tp-backend.vala | 47 ++++++++++++++++++++-------
 folks/backend.vala		    | 10 ++++++
 4 files changed, 95 insertions(+), 31 deletions(-)

commit ae8cd14af5ffe741830019355bcf2c66943c8759
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Sep 9 09:10:22 2010 -0700

    Add IndividualAggregator.is_prepared and make prepare() idempotent.

    Helps bgo#629331.

 folks/individual-aggregator.vala | 25 ++++++++++++++++++++++++-
 1 file changed, 24 insertions(+), 1 deletion(-)

commit 329c41f971e0aad006b880c2640a30d38b459675
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Sep 9 09:07:11 2010 -0700

    Add PersonaStore.is_prepared and make prepare() idempotent.

    Helps bgo#629331.

 backends/key-file/kf-persona-store.vala       | 186
 +++++++++++++++-----------
 backends/telepathy/lib/tpf-persona-store.vala | 131 ++++++++++--------
 folks/persona-store.vala		       |  10 ++
 3 files changed, 194 insertions(+), 133 deletions(-)

commit 5c035298f3a0fe33f0b53798d66d4f3e73014a25
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Sep 8 16:15:02 2010 -0700

    Make BackendStore.load_backends() idempotent.

    Helps bgo#629331.

 folks/backend-store.vala | 92
 ++++++++++++++++++++++++++++--------------------
 1 file changed, 53 insertions(+), 39 deletions(-)

commit 7d96b351e766e15e857d022b6937abdc0be05356
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Sep 7 16:11:30 2010 -0700

    Clean up the behavior of the add_persona_from_details() functions.

    This clarifies when an add fails for a temporary reason (eg, the
    store is
    offline) and can be re-attempted.

    Fixes bgo#629006.

 NEWS					       |  4 ++++
 backends/telepathy/lib/tpf-persona-store.vala | 29
 ++++++++++++++++++---------
 folks/individual-aggregator.vala	       | 27
 +++++++++++++++++++------
 folks/persona-store.vala		       | 20 +++++++++++++++---
 4 files changed, 62 insertions(+), 18 deletions(-)

commit 9596cedc66a858732fc4c8bf6c4d2bbfab29efc2
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Sep 15 08:55:50 2010 -0700

    Add STORE_OFFLINE error types for temporary failures.

    These are temporary/recoverable failures due to the store being
    offline.

    Helps bgo#629006.

 folks/individual-aggregator.vala | 7 +++++++
 folks/persona-store.vala	  | 7 +++++++
 2 files changed, 14 insertions(+)

commit ad168908b7d4c66c155d4bb742eb038e442c7649
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Sep 21 12:36:36 2010 +0100

    Cache notifications for IndividualAggregator.user during aggregation

 folks/individual-aggregator.vala | 30 +++++++++++++++++++-----------
 1 file changed, 19 insertions(+), 11 deletions(-)

commit 39439003e7a8899e5c3b1dbf86e25a8d21e02558
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Sep 21 12:28:33 2010 +0100

    Ensure a given individual isn't marked as added and replaced at the
    same time

    When linking personas with Persona.is_user == true, it's possible
    for the
    final_individuals during the call to add_personas() to be replaced
    and added
    at the same time (i.e. added, then replaced). This breaks things,
    but can
    be fixed by caching the set of added individuals before it's
    finalised, and
    removing replaced individuals from it as we go.

 folks/individual-aggregator.vala | 36
 ++++++++++++++++++++++++++++++++----
 1 file changed, 32 insertions(+), 4 deletions(-)

commit 1f831577bef5ad7cd0579cf55ea93e2879193746
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Sep 21 11:33:40 2010 +0100

    Bug 629643 — do not fall back to the id if alias is empty

    Only use the display ID as a fallback in Individual: in Tpf.Persona,
    we
    should let empty aliases be exposed, so that the client can (if
    they so
    desire) check whether an Individual's alias is a display ID or a
    real alias.
    Closes: bgo#629643

 NEWS					 |  1 +
 backends/telepathy/lib/tpf-persona.vala | 11 ++---------
 2 files changed, 3 insertions(+), 9 deletions(-)

commit 1752549c7c0dacfc465cf727b8074cbe519d1a2f
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Sep 21 11:32:22 2010 +0100

    Fix an assertion error in IndividualAggregator

    Due to the order in which the aggregation functions are called,
    it's possible
    for this.user to not be null when a new user is set. Helps: bgo#627402

 folks/individual-aggregator.vala | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 797a0521987d2729de7fa1655f69d06dc7e42d9f
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Sep 15 17:44:23 2010 +0100

    Ensure Individuals are added before they're removed

    Rearrange the linking process slightly so that we can guarantee that
    Individuals won't be signalled as removed (or replaced) before they're
    signalled as added. Closes: bgo#629642

 NEWS				  |  1 +
 folks/individual-aggregator.vala | 45
 +++++++++++++++++++++++-----------------
 2 files changed, 27 insertions(+), 19 deletions(-)

commit 9c0183f2ec131731c10d5f285210a5b567ab1f84
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Sep 21 10:26:19 2010 +0100

    Update NEWS file for recent commits

 NEWS | 2 ++
 1 file changed, 2 insertions(+)

commit 95a282dc35afcaea7534bde0fff2831d25957f83
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 23 17:26:35 2010 +0100

    Support the Persona.is_user property in the telepathy backend

    Closes: bgo#627402

 NEWS					       |  3 ++
 backends/telepathy/lib/tpf-persona-store.vala | 72
 ++++++++++++++++++++++++++-
 backends/telepathy/lib/tpf-persona.vala       |  6 ++-
 folks/persona-store.vala		       |  8 +++
 4 files changed, 86 insertions(+), 3 deletions(-)

commit 0457ec58cc8ee691ed3ed568a147af4a3a83a294
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 23 17:26:18 2010 +0100

    Support the Persona.is_user property in the key-file backend

    Helps: bgo#627402

 backends/key-file/kf-persona.vala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 61322635e38d64130d7333ab366aa5e32a4c73a8
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Sep 6 13:49:31 2010 +0100

    Implicitly trust Personas which are marked as being the user

    We assume that the backend is in complete control of its user
    accounts, so
    we can fully trust Personas which have Persona.is_user == true.
    Helps: bgo#627402

 folks/individual.vala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 24732788143198877b528dcf06f147a77ee2b7e7
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 23 16:31:49 2010 +0100

    Add a "user" property to the IndividualAggregator

    This contains the Individual representing the user who owns all
    the relevant
    accounts in each backend. This also changes the linking code so
    that Personas
    with is_user == true are always linked, and only ever linked to
    other Personas
    with is_user == true (i.e. Personas are always linked to Personas
    with like
    is_user values). This ensures that there's only ever one Individual
    with
    is_user == true. Helps: bgo#627402

 NEWS					       |  1 +
 backends/telepathy/lib/tpf-persona-store.vala | 10 ++++++--
 folks/individual-aggregator.vala	       | 34
 +++++++++++++++++++++++++++
 3 files changed, 43 insertions(+), 2 deletions(-)

commit a124e5c7cfffd3896e51f708d52eb0a16f795d7a
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 23 16:11:08 2010 +0100

    Add an "is-user" property to Individual and Persona

    This is true iff the Individual or Persona is the owner of the
    relevant
    accounts. Helps: bgo#627402

 NEWS		       |  2 ++
 folks/individual.vala | 41 +++++++++++++++++++++++++++++++++++++++++
 folks/persona.vala    | 10 ++++++++++
 3 files changed, 53 insertions(+)

commit 78d808e6771cd2395bca6aa47c3b2f28391e129b
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Aug 31 15:19:31 2010 +0100

    Use foreach{} rather than .foreach() in
    IndividualAggregator.link_personas()

 folks/individual-aggregator.vala | 8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit 3890258a25f4970a5a1fcb8275666a54a2b537ed
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Sep 15 14:08:03 2010 +0100

    Use the devhelp doclet to build the documentation

 docs/Makefile.am | 94
 ++++++++++++++++++++++++++++++--------------------------
 1 file changed, 50 insertions(+), 44 deletions(-)

commit d282f243ea83cb5a1ca1553076ede66649c972f3
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Sep 15 12:19:55 2010 +0100

    Add missing documentation

 folks/individual-aggregator.vala | 35 ++++++++++++++++++++++++++++++++++-
 folks/individual.vala		  |  2 ++
 folks/persona.vala		  |  6 ++++++
 folks/presence.vala		  |  2 ++
 4 files changed, 44 insertions(+), 1 deletion(-)

commit a9ceea30f13bb6a223d9a71985e9e4ae6ce69069
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Sep 15 11:45:25 2010 +0100

    Remove {@inheritDoc} from folks-telepathy documentation

    It's not possible to inherit documentation across packages, so we
    have to
    rely on links instead. Helps: bgo#629526

 backends/telepathy/lib/tpf-persona-store.vala | 29
 ++++++++++++++++++------
 backends/telepathy/lib/tpf-persona.vala       | 32
 ++++++++++++++++++++-------
 2 files changed, 46 insertions(+), 15 deletions(-)

commit 531a4e3e6f0064214a854625e790107ad7e57236
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Sep 13 16:12:00 2010 +0100

    Split the documentation into folks and folks-telepathy packages

    This means that each documentation package is only scanning files
    from one
    directory, opening us up to the possibility of adding gtk-doc support.
    Helps: bgo#629526

 docs/Makefile.am | 75
 +++++++++++++++++++++++++++++++++++++-------------------
 1 file changed, 50 insertions(+), 25 deletions(-)

commit 7debb14bfbb22b5865c1d60804c81777151e3640
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Sep 13 16:24:03 2010 +0100

    Move debug initialisation to BackendStore

    Now that the BackendStore is a singleton, its initialiser will
    more reliably
    be called than the initialiser for IndividualAggregator (since
    clients can
    theoretically not use the IndividualAggregator, but have to use the
    BackendStore). Closes: bgo#629096

 folks/backend-store.vala	  | 3 +++
 folks/individual-aggregator.vala | 2 --
 2 files changed, 3 insertions(+), 2 deletions(-)

commit d90b67557b76cc8a7ffd11d76af7e605809c595d
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Sep 20 12:44:02 2010 +0100

    Retrospectively update NEWS file

    Add NEWS entries from all the releases back to 0.1.9, when we moved
    to GNOME
    infrastructure.

 NEWS | 225
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 217 insertions(+), 8 deletions(-)

commit 7b37bbfcca7c619a321617d8e007d98886e915a3
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Sep 14 17:25:03 2010 +0100

    Bug 629666 — libfolks should not hard autodetect libxml

    Add an --enable-import-tool configure option which requires libxml2
    when
    passed, doesn't require it when --disable-import-tool is passed,
    and builds
    the tool if possible (but doesn't require libxml2)	when nothing's
    passed.
    Closes: bgo#629666

 configure.ac	   | 15 ++++++++++++---
 tools/Makefile.am |  2 +-
 2 files changed, 13 insertions(+), 4 deletions(-)

commit 1615ac8208291008004a7058b0f5f1b41aa13ea4
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Sep 14 16:24:22 2010 +0100

    Make libfolks.so depend on gmodule-no-export

    Since the BackendStore uses g_module_*. Helps: bgo#629644

 configure.ac	   | 1 +
 folks/Makefile.am | 2 ++
 2 files changed, 3 insertions(+)

commit 673c673854b52e6de3eab30e29841c0ae747a607
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Sep 14 14:45:02 2010 +0100

    Explicitly link the backends to libfolks.la

    Closes: bgo#629644

 backends/key-file/Makefile.am	| 1 +
 backends/telepathy/Makefile.am | 1 +
 2 files changed, 2 insertions(+)

commit 0489968d1a76ccd296b8b60ce9862d822b3863ec
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Sep 13 11:16:29 2010 +0100

    Bug 629311 — Folks should normalize IDs written to the writable
    backend

    Add a new IMable.normalise_im_address() method, which should be
    called on
    any IM address added to IMable.im_addresses, normalising it so that
    only the
    canonical version is used within libfolks. Closes: bgo#629311

 backends/key-file/kf-persona.vala	 | 31 ++++++++++---
 backends/telepathy/lib/tpf-persona.vala |  3 +-
 folks/imable.vala			 | 79
 +++++++++++++++++++++++++++++++++
 3 files changed, 105 insertions(+), 8 deletions(-)

commit a05a672149b66063efa3e5bd149a633d277030e9
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sat Sep 18 16:37:29 2010 +0100

    Bump version to 0.3.0

    Since we've changed to an odd–even version scheme (where odd
    minor versions
    are unstable and even ones are stable), master needs to be odd,
    since version
    0.2.0 has just been released as stable.

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit ec82ec3c124af3f7cf435bcf0bda63b3fb1efe72
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sat Sep 18 15:29:20 2010 +0100

    Don't list session.conf in CLEANFILES

    Since it's generated by AC_CONFIG_FILES, it already has rebuild
    and clean
    rules generated for it. Adding it to CLEANFILES breaks this.

 tests/lib/telepathy/contactlist/Makefile.am | 1 -
 1 file changed, 1 deletion(-)

commit 82c26118f4f087ce57f75ab0051d0b00af650487
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Sep 17 17:53:17 2010 -0700

    Require the latest releases of our dependencies.

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 858fc13f485d5d5b8b0721f6c8096c671e46aca0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Sep 17 17:52:43 2010 -0700

    Clear up ambiguity between GLib.Proxy and TelepathyGLib.Proxy

 backends/telepathy/lib/tpf-persona-store.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2eda0f418ed33f57f35ca792bc685ac139af9ba1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Sep 16 10:36:30 2010 -0700

    Cut some obsolete comments in TpLowlevel.

 backends/telepathy/lib/tp-lowlevel.c | 9 ---------
 1 file changed, 9 deletions(-)

commit 853291d76e23ec509229e49fe5f6594082741eb3
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Sep 16 10:35:33 2010 -0700

    Fix the GIR annotation for connection_open_contact_list_channel_finish

 backends/telepathy/lib/tp-lowlevel.c | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 19c87d6eba24c8765e0dca0adbef9af7e6e689c5
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Sep 16 10:19:22 2010 -0700

    Fix the GIR annotations for connect_to_new_group_channels

 backends/telepathy/lib/tp-lowlevel.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 32ab6381fd34d9222095dd080bb54cb7580596f0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Sep 16 10:11:48 2010 -0700

    Turn on all g-i warnings and make them errors (for non-releases).

 backends/telepathy/lib/Makefile.am | 10 +++++++++-
 configure.ac			    |  2 ++
 2 files changed, 11 insertions(+), 1 deletion(-)

commit e15bae8f525c3c0b87f1694ed71ba4011aa4ff9e
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Sep 16 11:58:36 2010 +0100

    Make a result argument nullable

    Since there is no .finish() method for this async function, and
    the result
    is always NULL, the result argument should be nullable. This
    prevents it
    spewing warnings.

 backends/telepathy/lib/tpf-persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6d46ca53be1d0bf82ce47b368d9d8218f8fe57b9
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Sep 15 16:45:40 2010 -0700

    Depend upon the next release of Vala for required fixes.

    valac's version number doesn't update between releases, so we need
    to depend
    upon the next release number to properly depend upon the fixes.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit edc6e13d5efd3bd62597245c1efa743a3be712f5
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Sep 15 13:22:16 2010 -0700

    Adjust to changes introduced with the Vala fix for bgo#629691

 backends/telepathy/lib/tp-lowlevel.c	       |  2 +-
 backends/telepathy/lib/tp-lowlevel.h	       | 10 ++++++++++
 backends/telepathy/lib/tpf-persona-store.vala |  5 +++--
 configure.ac				       |  2 +-
 4 files changed, 15 insertions(+), 4 deletions(-)

commit 2ab92c8e6337490cfc57f7e1ac820511eb618f92
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Sep 15 16:50:55 2010 +0100

    Fix documentation syntax

 folks/backend-store.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4abe9dc0789b3b8c9bf5f6d6e7bb451ecc838587
Merge: f69f90d c6e5052
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Sep 15 08:13:50 2010 -0700

    Merge branch 'bgo628970-expose-backends3'

commit c6e5052b366db020357696f90176c814c82f70b7
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Sep 9 16:15:49 2010 -0700

    Move Backend preparation to BackendStore. Fixes bgo#628970.

    An effect of this is that all backends will be prepared by the time
    IndividualAggregator.prepare() completes.

 folks/backend-store.vala	  | 38
 ++++++++++++++++++++++++++----------
 folks/individual-aggregator.vala | 42
 ++++++++++++++++++++++++----------------
 2 files changed, 53 insertions(+), 27 deletions(-)

commit 41c8d990629d1ef210a18e2d02ea56ba4a5cce17
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Sep 8 09:53:21 2010 -0700

    Expose the BackendStore's Backends. Helps bgo#628970.

 folks/backend-store.vala | 32 ++++++++++++++++++++++++++++++++
 1 file changed, 32 insertions(+)

commit f69f90d83b92371ea10bd536793da80a4655b662
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Sep 14 08:33:36 2010 -0700

    Cut out unnecessary tp-glib version checking.

 configure.ac	       | 13 -------------
 tests/Makefile.am     |  5 +----
 tests/lib/Makefile.am |  8 +++-----
 3 files changed, 4 insertions(+), 22 deletions(-)

commit af444ebede64877359a28e91ad1991ac77856a28
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Sep 14 08:34:52 2010 -0700

    Update the name for TelepathyGLib.Intset

 backends/telepathy/lib/tpf-persona-store.vala | 6 +++---
 configure.ac				       | 2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit a5acb1e9fd0a5635c4d8692c2f58f1ca0184bf91
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Sep 8 10:24:55 2010 -0700

    Make BackendStore a singleton. Helps bgo#628970.

 NEWS				  | 11 +++++++++++
 folks/backend-store.vala	  | 20 +++++++++++++++++++-
 folks/individual-aggregator.vala |  2 +-
 tools/import.vala		  |  2 +-
 4 files changed, 32 insertions(+), 3 deletions(-)

commit 5e5a6897efa6702d1d7d23424b77c932e8ae06f1
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Sep 14 17:18:44 2010 +0100

    Fix the type of an AsyncReadyCallback in Tpf.PersonaStore

 backends/telepathy/lib/tpf-persona-store.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit dcc02edc23b877e0dc289e6448987d3a72fd8e47
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Sep 14 15:04:02 2010 +0100

    Move BuildConf into the Folks namespace

    This fixes the libfolks build against Vala master.

 folks/backend-store.vala	  | 1 -
 folks/backend.vala		  | 3 +--
 folks/build-conf.vapi		  | 3 ++-
 folks/individual-aggregator.vala | 1 -
 folks/individual.vala		  | 1 -
 folks/persona-store.vala	  | 1 -
 folks/persona.vala		  | 1 -
 7 files changed, 3 insertions(+), 8 deletions(-)

commit d62a55567a337125e935b9f455a2cf0c7a98afaa
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Sep 14 10:53:19 2010 +0100

    Add missing annotations to TpLowlevel

 backends/telepathy/lib/tp-lowlevel.c | 14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

commit 4e2ec7751959fc89b3912a21f66d3cccaa55d024
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Sep 14 10:53:08 2010 +0100

    Enable g-ir-scanner warnings for TpLowlevel

 backends/telepathy/lib/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cf02c907fb29014e7e3c62060c0cfb321cdd6e9c
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Sep 13 16:18:32 2010 +0100

    Post-branch version bump

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cc5e8d6da1935a7c7c731318c782e1a3eb1974b2
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Sep 13 15:40:10 2010 +0100

    Automatically version the generated documentation

 configure.ac	  |  4 ++++
 docs/Makefile.am | 28 ++++++++++++++--------------
 2 files changed, 18 insertions(+), 14 deletions(-)

commit 4d343ba155404c07b700cd431e27973beeb1e7fb
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Sep 13 14:28:56 2010 +0100

    Rename Alias interface to Aliasable

    Helps: bgo#627397

 backends/key-file/kf-persona.vala	 |  2 +-
 backends/telepathy/lib/tpf-persona.vala |  2 +-
 folks/Makefile.am			 |  2 +-
 folks/alias.vala			 | 36
 ---------------------------------
 folks/aliasable.vala			 | 36
 +++++++++++++++++++++++++++++++++
 folks/individual.vala			 | 18 ++++++++---------
 tools/import-pidgin.vala		 |  4 ++--
 7 files changed, 50 insertions(+), 50 deletions(-)

commit 74c267a0046f4dd067984def2456f25abc2f9d94
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Sep 13 14:10:06 2010 +0100

    Rename Groups interface to Groupable

    Helps: bgo#627397

 backends/key-file/kf-persona-store.vala       |   8 +-
 backends/telepathy/lib/tpf-persona-store.vala |   8 +-
 backends/telepathy/lib/tpf-persona.vala       |   2 +-
 folks/Makefile.am			       |   2 +-
 folks/groupable.vala			       | 123
 ++++++++++++++++++++++++++
 folks/groups.vala			       | 123
 --------------------------
 folks/individual-aggregator.vala	       |   4 +-
 folks/individual.vala			       |  26 +++---
 folks/persona-store.vala		       |   2 +-
 tools/import-pidgin.vala		       |   4 +-
 10 files changed, 151 insertions(+), 151 deletions(-)

commit 6642e5306c0dd60476ed5b90741f3b318ffac450
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Sep 13 14:12:27 2010 +0100

    Fix a private error domain in Tpf.PersonaStore

    This is a partial revert of 6fe31a311871f096f605ed93bc60fb09db835235.

 backends/telepathy/lib/tpf-persona-store.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6fe31a311871f096f605ed93bc60fb09db835235
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Sep 13 13:49:41 2010 +0100

    Fix some error domains

    Add error domains to override methods, remove error domains from
    constructors and make some error domains more specific. This
    shouldn't break
    API. Helps: bgo#627158

 backends/key-file/kf-backend.vala	       | 4 ++--
 backends/telepathy/lib/tpf-persona-store.vala | 4 ++--
 folks/individual-aggregator.vala	       | 2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit eb8f16d827179ae2fb2a94cb90aca74bb962e0c5
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Sep 13 13:28:56 2010 +0100

    Add missing @inheritDoc doclets

 backends/key-file/kf-backend.vala	       | 3 +++
 backends/key-file/kf-persona-store.vala       | 3 +++
 backends/key-file/kf-persona.vala	       | 3 +++
 backends/telepathy/lib/tpf-persona-store.vala | 3 +++
 backends/telepathy/tp-backend.vala	       | 3 +++
 5 files changed, 15 insertions(+)

commit 002a9585e7a13062d958dec2fac86e9fa060627c
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Sep 13 13:28:14 2010 +0100

    Bug 626008 — Add @since lines to all symbols

    Add @since lines to the documentation of all symbols which were
    added after
    the initial release (0.1.9). Closes: bgo#626008

 backends/key-file/kf-backend.vala	 |  2 ++
 backends/key-file/kf-persona-store.vala |  2 ++
 backends/key-file/kf-persona.vala	 |  2 ++
 folks/backend.vala			 |  2 ++
 folks/groups.vala			 |  2 ++
 folks/imable.vala			 |  4 ++++
 folks/individual-aggregator.vala	 |  6 ++++++
 folks/individual.vala			 |  2 ++
 folks/persona-store.vala		 | 14 ++++++++++++++
 folks/persona.vala			 |  7 +++++++
 folks/presence.vala			 |  1 +
 11 files changed, 44 insertions(+)

commit 391b4971474837f5ae63fa827609ca8e42f87da2
Author: Brian Pepple <bpepple@fedoraproject.org>
Date:	Sun Sep 12 17:56:51 2010 -0400

    Link gio libs in import-tool makefiles

    Closes: bgo#629452

 tools/Makefile.am | 2 ++
 1 file changed, 2 insertions(+)

commit 6e9bcd1804b328797aa5309a268b65531bb69e8a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Sep 10 16:26:05 2010 -0700

    Post-release version bump.

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9eac7260280df8c4eaca1de246ea87c8965982d5
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Sep 10 15:20:57 2010 -0700

    Release version 0.1.17

 configure.ac | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 17d54039f6b4a505ca83fbfb88b6dcccb9cd9d8f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Sep 10 12:13:42 2010 -0700

    Add some more detailed validation/error reporting to the importing
    tool.

 tools/import-pidgin.vala | 27 +++++++++++++++++++++++++++
 1 file changed, 27 insertions(+)

commit e41c4a953bf36bd13ebabb0fb78bd1389b17ef56
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Sep 8 19:36:04 2010 +0100

    Bug 629084 — Add a folks-import tool

    Add a folks-import tool which allows importing of Pidgin meta-contact
    information to libfolks' key file. Closes: bgo#629084

 Makefile.am		  |   1 +
 configure.ac		  |   9 ++
 folks/backend-store.vala |   2 +-
 tools/Makefile.am	  |  34 +++++++
 tools/import-pidgin.vala | 247
 +++++++++++++++++++++++++++++++++++++++++++++++
 tools/import.vala	  | 189 ++++++++++++++++++++++++++++++++++++
 6 files changed, 481 insertions(+), 1 deletion(-)

commit 964ed5760f9dabe6562cca7bdc2f564ee7a8a8a1
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Sep 9 16:07:08 2010 +0100

    Block flushing of Kf.PersonaStore on any pending file operations

    If a file operation is still underway, don't allow the Kf.PersonaStore
    to be
    finalized until it's finished. This prevents libfolks from being
    closed before
    changes to relationships.ini have been written out. We also prevent
    multiple
    file operations from happening (pseudo-) concurrently, by cancelling
    any
    pending operation when we schedule a new one.

 backends/key-file/kf-persona-store.vala | 40
 ++++++++++++++++++++++++++++++---
 folks/persona-store.vala		 | 17 ++++++++++++++
 2 files changed, 54 insertions(+), 3 deletions(-)

commit 88df560e88cf14e3fc6b0b6060173dd94e3ecaed
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Sep 6 10:35:25 2010 +0100

    Bug 628853 — hangs if there's no relationships.ini file

    The code to create the directory tree for relationships.ini wasn't
    handling
    errors properly, so was getting stuck in an infinite loop in the
    case that
    the ~/.local/share/folks directory existed but relationships.ini
    didn't.
    Closes: bgo#628853

 backends/key-file/kf-persona-store.vala | 23 +++++++++++++++++++----
 1 file changed, 19 insertions(+), 4 deletions(-)

commit 107927b9efc7760f69d368525c969d3ee33ecb3e
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Sep 9 12:33:22 2010 +0100

    Notify of Tpf.PersonaStore's Personas being removed when disabling
    accounts

    When disabling, removing or marking an account as invalid, we need
    to signal
    that the account's contacts (i.e. the Tpf.PersonaStore's Personas)
    have been
    removed. Closes: bgo#629082

 backends/telepathy/lib/tpf-persona-store.vala | 21 ++++++++++++++++++---
 1 file changed, 18 insertions(+), 3 deletions(-)

commit 4148a6a1474791ea0add1d47f913d1f3aec7e733
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Sep 8 11:10:49 2010 +0100

    Warn on key file parse errors, rather than explode

    Contrary to popular belief, it is possible to encounter errors
    when parsing
    key files. In this case, the key-file backend shouldn't explode
    without a
    helpful error message. Helps: bgo#628930

 backends/key-file/kf-persona.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 35ebac56b63a4d0a704c1a94ef7271dfcf266803
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Sep 8 11:06:25 2010 +0100

    Fix saving the key file when it contains multi-byte characters

    The calculation of the length of the data to be saved was being
    done in
    characters, not bytes, whereas the I/O function was expecting a
    length in
    bytes. This caused some number of bytes to be dropped from the end
    of the
    file, potentially splitting a multibyte character and breaking
    the file
    encoding (not to mention losing data otherwise). Closes: bgo#628930

 backends/key-file/kf-persona-store.vala | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit c2c799bd5bd39de40ef17cdaa7050b6837b088ac
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Sep 8 10:39:47 2010 +0100

    Add more debugging for aliases

 backends/key-file/kf-persona.vala |  3 +++
 folks/individual.vala		   | 18 +++++++++++++++++-
 2 files changed, 20 insertions(+), 1 deletion(-)

commit 427b76062a2b677bfc46dac6495e4c19829775c6
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Sep 8 10:31:30 2010 +0100

    Don't save the key file when loading Personas' aliases

    We were previously saving the key file for each __alias key loaded,
    as it was
    loading the alias into Kf.Persona.alias, rather than
    Kf.Persona._alias,
    causing the key file to be saved each time.

    This may have caused or contributed towards the corruption seen
    in bgo#628930.

 backends/key-file/kf-persona.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ae93e946acb356def0429ba36f1c71b72228930b
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Sep 8 10:28:53 2010 +0100

    Don't allow setting a Kf.Persona's alias to its current value

 backends/key-file/kf-persona.vala | 3 +++
 1 file changed, 3 insertions(+)

commit 70b574223b1cd14623c6fb523a8bf33ea33385ef
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Sep 10 11:54:00 2010 +0100

    Add generated C files to GITIGNOREFILES

 backends/key-file/Makefile.am	| 6 ++++++
 backends/telepathy/Makefile.am | 6 ++++++
 tests/telepathy/Makefile.am	| 5 +++++
 3 files changed, 17 insertions(+)

commit d044180af13bc8b2798a89f1280017755f4a8260
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Sep 10 11:30:28 2010 +0100

    Move tools/manager-file.py to tests/tools/manager-file.py

    It belongs with the test tools, since it's only useful for the
    Telepathy test
    rig.

 tests/lib/telepathy/contactlist/Makefile.am |	 4 +-
 tests/tools/Makefile.am		     |	 5 +-
 tests/tools/manager-file.py		     | 175
 ++++++++++++++++++++++++++++
 tools/manager-file.py			     | 175
 ----------------------------
 4 files changed, 181 insertions(+), 178 deletions(-)

commit 09cccdfc9140f90ca19285e48fb8bb541af134b6
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Sep 10 11:28:49 2010 +0100

    Add mkinstalldirs to MAINTAINERCLEANFILES

 Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 51f3682983892bc060a55ccadca284e13b994393
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Sep 10 11:15:12 2010 +0100

    Install folks.vapi and folks-telepathy.vapi

 backends/telepathy/lib/Makefile.am	     | 6 ++++++
 backends/telepathy/lib/folks-telepathy.deps | 3 ++-
 folks/Makefile.am			     | 6 ++++++
 folks/folks.deps			     | 1 +
 4 files changed, 15 insertions(+), 1 deletion(-)

commit 676d8dbdf4b8eb56cca346df583371b48855b68f
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Sep 10 11:10:52 2010 +0100

    Use session.conf from the builddir to fix builddir != srcdir

 tests/telepathy/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 624a2be18f96373101b5d83b04ad7b21687e262d
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Sep 10 11:08:33 2010 +0100

    Ensure tests/tools/with-session-bus.sh is distributed

 configure.ac		 | 1 +
 tests/Makefile.am	 | 1 +
 tests/tools/Makefile.am | 3 +++
 3 files changed, 5 insertions(+)

commit 6d49c9f944050bec5558118f48926b7322cb30ba
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Sep 10 11:02:02 2010 +0100

    Correct use of CPPFLAGS/CFLAGS in backend Makefile.ams

 backends/key-file/Makefile.am	| 3 +--
 backends/telepathy/Makefile.am | 3 +--
 2 files changed, 2 insertions(+), 4 deletions(-)

commit 173e24e83691d0e06ba1528e86d2ec84bf079f08
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Sep 10 11:00:52 2010 +0100

    Port the backend Makefile.ams to use automake-1.11's Vala support

 backends/key-file/Makefile.am	| 46
 +++++---------------------------------
 backends/telepathy/Makefile.am | 50
 ++++--------------------------------------
 2 files changed, 10 insertions(+), 86 deletions(-)

commit 855a8371ca448040e2292e388718a8ab8a6cf970
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Sep 10 11:00:44 2010 +0100

    Remove an unused variable from docs/Makefile.am

 docs/Makefile.am | 1 -
 1 file changed, 1 deletion(-)

commit 8f439ae38a2d7eb49cf961bcc0882cf133d49232
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Sep 9 19:13:38 2010 +0100

    Fix configure.ac indentation and layout

 configure.ac | 152
 +++++++++++++++++++++++++++++------------------------------
 1 file changed, 76 insertions(+), 76 deletions(-)

commit 61e217dd6c056e7e07a30c00ceac675f4d981cd4
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Sep 9 18:58:16 2010 +0100

    Remove unnecessary AC_SUBST calls

    PKG_CHECK_MODULES does AC_SUBST for us.

 configure.ac | 12 ------------
 1 file changed, 12 deletions(-)

commit 13aee0e2eca151cb25564447177b166e260ed0b4
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Sep 9 18:51:14 2010 +0100

    Use the M4Sugar conditional statements instead of plain m4 ones

 configure.ac | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 13f3aa1e6a7385ec0af534708ab8b5a294c3d262
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Sep 9 18:42:40 2010 +0100

    Fix m4 quoting in configure.ac

    (I think.)

 configure.ac | 134
 +++++++++++++++++++++++++++++------------------------------
 1 file changed, 67 insertions(+), 67 deletions(-)

commit 251c914c8437abfa92212beddf77b2fa5d75eda5
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Sep 9 18:19:52 2010 +0100

    Don't use dnl for comments in configure.ac

    It's not strictly intended to be used for commenting; more for
    obliterating
    macro output when redefining things. '#' is for comments.

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5353632439278dbe41511fc3cd7647715fee23e8
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Jul 8 18:55:34 2010 +0100

    Add a test of an individual's properties

 tests/telepathy/contact-retrieval.vala | 54
 ++++++++++++++++++++++++++++++++++
 1 file changed, 54 insertions(+)

commit 2dc9aee089f3550f8eda1da00a70bf3b911fc25b
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Jun 10 07:19:50 2010 -0700

    Add the framework for a test suite

    Add the framework for a test suite for the Telepathy backend,
    including
    a dummy account manager, account and connection, to allow complete
    control
    over the personas created in libfolks.

    This comes with a test case framework which wraps the GLib test
    framework,
    used by a test case which tests that all expected individuals are
    exposed by
    the individual aggregator.

    Heavily based on work by Travis Reitter
    <travis.reitter@collabora.co.uk>.

 Makefile.am					    |	 1 +
 configure.ac					    |	19 +
 tests/Makefile.am				    |	16 +
 tests/lib/Makefile.am				    |	 7 +
 tests/lib/telepathy/Makefile.am		    |	 5 +
 tests/lib/telepathy/contactlist/Makefile.am	    |	84 +
 tests/lib/telepathy/contactlist/account-manager.c  |  188 +++
 tests/lib/telepathy/contactlist/account-manager.h  |	61 +
 tests/lib/telepathy/contactlist/account.c	    |  341 ++++
 tests/lib/telepathy/contactlist/account.h	    |	60 +
 tests/lib/telepathy/contactlist/conn.c		    |  614 ++++++++
 tests/lib/telepathy/contactlist/conn.h		    |	68 +
 .../telepathy/contactlist/contact-list-manager.c   | 1649
 ++++++++++++++++++++
 .../telepathy/contactlist/contact-list-manager.h   |  107 ++
 tests/lib/telepathy/contactlist/contact-list.c     |  632 ++++++++
 tests/lib/telepathy/contactlist/contact-list.h     |  118 ++
 tests/lib/telepathy/contactlist/manager-file.py    |	23 +
 tests/lib/telepathy/contactlist/session.conf.in    |	54 +
 .../telepathy/contactlist/tp-test-contactlist.deps |	 5 +
 .../telepathy/contactlist/tp-test-contactlist.h    |	10 +
 tests/telepathy/Makefile.am			    |	63 +
 tests/telepathy/contact-retrieval.vala		    |  191 +++
 tests/telepathy/test-case.vala			    |	82 +
 tests/tools/with-session-bus.sh		    |	94 ++
 tools/manager-file.py				    |  175 +++
 25 files changed, 4667 insertions(+)

commit 8bdce4231224a0b1b3187b6cbe627705c036e6ef
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Sep 1 16:38:15 2010 +0100

    Post-release version bump and non-release indicator

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fc14b380a34775cf4707feb011df9f3d5986a7d9
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Sep 1 16:36:26 2010 +0100

    Release version 0.1.16

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit eab18686b082b448f76078c881a1fd2e6df2c28b
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Aug 31 17:57:25 2010 +0100

    Bug 628343 — Add an environment variable to disable linking

    Add a FOLKS_DISABLE_LINKING environment variable which, when set,
    completely
    disables linking (both aggregation and the explicit linking and
    unlinking of
    Personas). Closes: bgo#628343

 folks/individual-aggregator.vala | 28 +++++++++++++++++++++++++++-
 1 file changed, 27 insertions(+), 1 deletion(-)

commit c905237fd9d215ee2a90f423101d7d20c604c8c5
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Aug 31 16:31:56 2010 +0100

    Don't set Individual.is-favourite when updating from Personas

    Set the private Individual._is_favourite member instead, to prevent
    the new
    favourite status from being pushed down to all the Personas and
    stomping all
    over their favourite statuses. See also: bgo#628131

 folks/individual.vala | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit a4c128bb479fc43896c0ee1aabf07dfb44f6abc6
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Aug 31 14:59:37 2010 +0100

    Depend on libgee < 0.7 instead

    libgee 0.7 breaks API but they branched for the 0.5/0.6 series
    beforehand,
    so 0.5.3 and 0.6 will not break API. See bgo#627746

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f52141e86d6df3a542100e9871622a2d5f546f97
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Aug 24 16:55:53 2010 -0700

    Clear the stored list if it's invalidated.

 backends/telepathy/lib/tpf-persona-store.vala | 2 ++
 1 file changed, 2 insertions(+)

commit 5e414f6d922f0535c5699ecb89d00c1618ea4d5a
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 30 16:46:12 2010 +0100

    Don't set Individual.alias when updating the alias from Personas

    Set the private Individual._alias member instead, to prevent the
    changed
    alias (which could be a fallback display ID or similar) from being
    pushed
    down to all the Personas and stomping all over their aliases.
    Helps: bgo#628131

 folks/individual.vala | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 1f549b38b0b1edd0f352153de8b58711a2b594b3
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 30 16:43:36 2010 +0100

    Refactor Individual.update_alias() to give a single notification path

 folks/individual.vala | 48
 +++++++++++++++++++++++-------------------------
 1 file changed, 23 insertions(+), 25 deletions(-)

commit 9184070a8450d1a1707245c144d3341f241c6686
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 30 11:50:58 2010 +0100

    Ensure untrusted Personas' Individuals are signalled as removed

    When a Persona from an untrusted PersonaStore (such as link-local
    XMPP) was
    removed, the Individual which contained (only) that Persona was
    not being
    signalled as removed, causing link-local XMPP contacts to (for
    example) remain
    in Empathy's contact list even after going offline. Closes: bgo#628305

 folks/individual-aggregator.vala | 24 ++++++++++++++----------
 1 file changed, 14 insertions(+), 10 deletions(-)

commit 0108786c0faffbc95e4eee5875cee8f0675b5a44
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 30 11:22:13 2010 +0100

    Mark two strings as unowned to prevent unnecessary string copies

 folks/individual-aggregator.vala | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 65d2b501696253f82afc14f018e1a3fce737a68e
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 30 17:38:09 2010 +0100

    Ensure existing Kf.Personas aren't overwritten when choosing new
    group names

    If a key file contained several groups which weren't contiguously
    numbered on
    startup, IDs for new groups would start from the first unused ID,
    and continue
    happily into the next block of IDs which were already in use. This
    patch
    ensures that if an ID is already in use, it won't be again for a new
    Kf.Persona. Closes: bgo#628294

 backends/key-file/kf-persona-store.vala | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit d9e798cf74f730613cf43753ff6a30822d6de64f
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 30 17:24:49 2010 +0100

    Add extra debug messages to the key-file backend

 backends/key-file/kf-persona-store.vala | 7 +++++++
 backends/key-file/kf-persona.vala	 | 9 ++++++---
 2 files changed, 13 insertions(+), 3 deletions(-)

commit 5b86c16cad6bf056074bbbc0bd815d5df5fd6b70
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 30 15:49:17 2010 +0100

    Work around a Vala bug generating bad C for a lambda function inside
    a loop

    Helps: bgo#628335

 folks/individual-aggregator.vala | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit a8afda52bd9d005f925bc8499d416e093c3fd22e
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 30 14:23:25 2010 +0100

    Output more debugging information when linking

 folks/individual-aggregator.vala | 48
 ++++++++++++++++++++++++++--------------
 1 file changed, 32 insertions(+), 16 deletions(-)

commit 0af88f31edb469049cb53e4d8bab257482dc02d0
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 30 10:22:20 2010 +0100

    Remove unused declaration from tp-lowlevel.h

    It was causing g-ir-scanner to fail when building packages.

 backends/telepathy/lib/tp-lowlevel.h | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 98b8c2babbf6498799168d63a399256eaf8ec02a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Aug 27 15:21:05 2010 -0700

    tp-lowlevel doesn't actually depend upon the Gee introspection file

 backends/telepathy/lib/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ed774c184747ec5d4a870b1343cf5841e92e840d
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Aug 27 13:35:26 2010 +0100

    Block notification of Persona.is-favourite when changing it on
    the Individual

    This fixes changing the favourite status of an Individual containing
    more than
    one Persona, since previously the change wouldn't be applied. This
    is because
    the change would be bubbled down to the first Persona, which
    would then
    notify of the change to its is-individual property, causing the
    Individual's
    is-favourite property to be re-calculated incorrectly, since the
    favourite
    status of the _other_ Personas hadn't yet been changed. Closes:
    bgo#628108

 folks/individual.vala | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit a96200b40547ab3a754e75aa71db69bd01a322a8
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Aug 27 13:28:15 2010 +0100

    Add debugging to favourite status in Folks.Individual

 folks/individual.vala | 5 +++++
 1 file changed, 5 insertions(+)

commit b90b123a5808bff9c6d1c15c79bdf5845d6fd762
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Aug 27 11:37:40 2010 +0100

    Post-release version bump and non-release indicator

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6ab7ca14bfab05cc0d760b1545fb1f8d244924cd
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Aug 27 11:18:26 2010 +0100

    Release version 0.1.15

 configure.ac | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 908d51d9a8d3ea32961bebc08429bd2b3fbca3d3
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Aug 27 11:11:53 2010 +0100

    Remove outdated telepathy-check.vala from EXTRA_DIST

 Makefile.am | 1 -
 1 file changed, 1 deletion(-)

commit d32c5b2be0b899239408e18a498a28c98c12bfcc
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Aug 27 11:02:26 2010 +0100

    Fix symbol version numbers

    I got mixed up between pre- and post-release incrementing.

 backends/key-file/kf-persona.vala |  2 +-
 folks/individual.vala		   | 10 +++++-----
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 5cd2f5278a2be05bb561759f5d0737bf0427a2dd
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Aug 26 22:27:02 2010 +0100

    Don't use deprecated Gee.Map.remove() method

 folks/individual.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1781654659c6590365dce68b19f36e2b46fbf484
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Aug 26 14:44:10 2010 +0100

    Add checks for memset() and strstr()

    According to `autoscan`, these are used by some of the generated C
    code, and
    should be checked for at configure time.

 configure.ac | 4 ++++
 1 file changed, 4 insertions(+)

commit d4c97e7062c7c2f93ea42f61c199ce7944d0e198
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Aug 26 14:33:38 2010 +0100

    Tidy up configure.ac

    This is just the result of running `autoupdate` on configure.ac,
    plus the
    addition of two extra options to AC_INIT, specifying the tarball
    name and
    project homepage.

 configure.ac | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit e221dec87f9092b526a1d87b285b127c5a2c4ca2
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Aug 26 12:37:15 2010 +0100

    Move the folks-telepathy library to a "lib" subdir of
    backends/telepathy

    This solves the ordering problem between building folks-telepathy.la
    and
    folks-backend-telepathy.la, where the latter depends on the former,
    under
    parallel installation. See
    http://old.nabble.com/relinking-error-td27796838.html for an
    explanation of
    why adding DEPENDENCIES doesn't work.

    This fixes parallel installation of libfolks. Closes: bgo#627898

 backends/telepathy/Makefile.am			    |  173 +--
 .../telepathy/folks-telepathy-uninstalled.pc.in    |	12 -
 backends/telepathy/folks-telepathy.deps	    |	 3 -
 backends/telepathy/folks-telepathy.pc.in	    |	15 -
 backends/telepathy/lib/Makefile.am		    |  184 ++++
 .../lib/folks-telepathy-uninstalled.pc.in	    |	12 +
 backends/telepathy/lib/folks-telepathy.deps	    |	 3 +
 backends/telepathy/lib/folks-telepathy.pc.in	    |	15 +
 backends/telepathy/lib/tp-lowlevel.c		    |  614 +++++++++++
 backends/telepathy/lib/tp-lowlevel.h		    |  145 +++
 backends/telepathy/lib/tpf-logger.vala		    |  133 +++
 backends/telepathy/lib/tpf-persona-store.vala	    | 1164
 ++++++++++++++++++++
 backends/telepathy/lib/tpf-persona.vala	    |  350 ++++++
 backends/telepathy/tp-lowlevel.c		    |  614 -----------
 backends/telepathy/tp-lowlevel.h		    |  145 ---
 backends/telepathy/tpf-logger.vala		    |  133 ---
 backends/telepathy/tpf-persona-store.vala	    | 1164
 --------------------
 backends/telepathy/tpf-persona.vala		    |  350 ------
 configure.ac					    |	 5 +-
 docs/Makefile.am				    |	 6 +-
 20 files changed, 2637 insertions(+), 2603 deletions(-)

commit 870ffaab3cb41d34e7694b1eba27992c44df89f3
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Aug 26 14:23:33 2010 +0100

    Don't use BUILT_SOURCES in makefiles

    It messes around with the order of building things, which can cause
    problems
    when building subdirectories which are dependencies of the current
    directory.

    We didn't actually need it anyway, since all the files mentioned in
    BUILT_SOURCES were pulled in as dependencies of other build targets.

 backends/key-file/Makefile.am	| 12 ++++--------
 backends/telepathy/Makefile.am | 28 +++++++++++++---------------
 folks/Makefile.am		| 16 ++++++----------
 3 files changed, 23 insertions(+), 33 deletions(-)

commit a1190e33fb96e2edf15d27b9120b8e95eef0318d
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Aug 25 18:10:36 2010 +0100

    Push favourite changes to all Personas unconditionally

    Since the changes are only pushed down to Personas if the favourite
    status
    has changed, they have to be pushed down to every Persona anyway
    (or the
    aggregated favourite status wouldn't change).

 folks/individual.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c9afc15599021aa2b4a18ccd1563662c35290a3d
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Aug 25 18:08:35 2010 +0100

    Write alias changes to every Persona if there are no writeable
    Personas

    This is necessary for singleton Individuals which only contain
    a Tpf.Persona.

 folks/individual.vala | 19 ++++++++++++++++++-
 1 file changed, 18 insertions(+), 1 deletion(-)

commit 67db896d4d9eef20b4581ac1f4c34c21d3ad9bf6
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Aug 25 17:02:53 2010 +0100

    Don't unnecessarily push group changes down to Personas

    The Individual.change_group() method should only be called in
    response to
    user interaction, as it pushes the group change down to all the
    Individual's
    Personas.

 folks/individual.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 95727c7cbe7fde32ca60206e6bd46d3f36694d00
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Aug 25 16:55:06 2010 +0100

    Don't listen to notify::groups in Individual

    We listen to the group_changed signal instead.

 folks/individual.vala | 7 -------
 1 file changed, 7 deletions(-)

commit 450e7f20e9df7167303c526786ab355eaf305463
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Aug 25 16:54:10 2010 +0100

    Fix groups signal emissions in Tpf.Persona

 backends/telepathy/tpf-persona.vala | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 336f592c771c8fb852f5b3035bdd162b2ad19a21
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Aug 25 16:45:49 2010 +0100

    Add a missing yield to make group changes async in the telepathy
    backend

 backends/telepathy/tpf-persona.vala | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit b6e3d2cb6d730584160116f766d1a8fc5f090e37
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Aug 25 16:33:28 2010 +0100

    Use the alias from a writeable Persona in preference to other aliases

    The writeable Persona's alias, if non-empty, is the one which has
    been set
    by the user, so should be the preference.

 folks/individual.vala | 26 ++++++++++++++++++++++++++
 1 file changed, 26 insertions(+)

commit 0eeef6c82d05078ec64940a57e7044c1dc6e2903
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Aug 25 16:22:37 2010 +0100

    Add alias support to the key-file backend

    To store user-set aliases for Individuals. Helps: bgo#627508

 backends/key-file/kf-persona.vala | 31 ++++++++++++++++++++++++++++++-
 1 file changed, 30 insertions(+), 1 deletion(-)

commit b82218b4c387d83b87b882aace8c79f84670b235
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Aug 25 16:01:11 2010 +0100

    Fall back to using a display ID if no Personas have an alias

    This is prettier than falling back to a UID. Closes: bgo#626410

 folks/individual.vala | 11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit a0232c6fa4ac11f4ee237d3c3e758c5d6c4b93ae
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Aug 25 15:58:02 2010 +0100

    Fall back to the display ID for TpfPersonas with empty aliases

 backends/telepathy/tpf-persona.vala | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit cd2400c5ed45df81a4024e41c4020b61a6051b37
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Aug 19 14:59:38 2010 +0100

    Bug 626578 — Use vala's vala.m4 to check for telepathy-glib(.vapi)

 configure.ac	      | 10 +++-----
 m4/vala.m4	      | 70
 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 telepathy-check.vala |  6 -----
 3 files changed, 74 insertions(+), 12 deletions(-)

commit db4f574a00273779a7e369dfedc6da02a1b1eaae
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Aug 25 19:00:37 2010 +0100

    Bug 627968 — Add Individual.trust_level property

    Add a property to indicate how far the Individual should be
    trusted. This
    is NONE if any of the Individual's Personas come from a non-trusted
    PersonaStore. Closes: bgo#627968

 folks/individual.vala | 66
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 66 insertions(+)

commit 40e2b0181123bf1bc82d3bbc8dab22c0e7ef2440
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Aug 19 17:59:27 2010 +0100

    Only keep one reference to each Persona in an Individual

 folks/individual.vala | 17 +++++------------
 1 file changed, 5 insertions(+), 12 deletions(-)

commit 15947652e0e31dad9bf9061565c5b243b628572c
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Aug 19 17:55:02 2010 +0100

    Bug 626725 — Add an Individual.personas_changed signal

    Add a personas_changed signal, allowing client code to do various
    things
    with the lists of added and removed Personas, instead of having
    to determine
    which Personas were added or removed themselves. Closes: bgo#626725

 folks/individual.vala | 185
 ++++++++++++++++++++++++++++++++++----------------
 1 file changed, 125 insertions(+), 60 deletions(-)

commit 8cebb98c04b20eaf0efd04b68d92f2a1a0dd789d
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Aug 19 16:17:08 2010 +0100

    Store a set of Personas inside each Individual for speed of lookup

    Store a set of all the Personas in the Individual, rather than
    compartmentalised sets of the Personas from each PersonaStore. With
    the
    set of Personas kept in sync with the list of Personas, this
    allows both
    fast lookup and iteration.

 folks/individual.vala | 154
 ++++++++++++++++++++++++--------------------------
 1 file changed, 74 insertions(+), 80 deletions(-)

commit 7aa66a278818094e82cd8b108ab30cba6ef9d480
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 23 13:07:30 2010 -0700

    Fix the calculation for the persona_store_id length in
    Persona.split_uid().

 folks/persona.vala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 2118606508ae1ef5c9395864c776328ffd590bd3
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 23 17:59:58 2010 +0100

    Depend on libgee <= 0.5.2

    libgee 0.5.3 breaks API. See bgo#627746

 configure.ac | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e469532a16c4b5a12b694e242404c23574fe122e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Aug 20 11:15:52 2010 -0700

    Make gobject-introspection a hard requirement.

    Fixes bgo#627506

 backends/telepathy/Makefile.am | 2 --
 configure.ac			| 2 +-
 2 files changed, 1 insertion(+), 3 deletions(-)

commit 37c6361ec6dad777f657ac4f2b272d1628080c35
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Aug 20 08:37:04 2010 -0700

    Clean up the variable naming for parallel data structures.

 folks/individual-aggregator.vala | 30 ++++++++++++++++--------------
 1 file changed, 16 insertions(+), 14 deletions(-)

commit f2fc13b30ab64f82a8681f7466fed7d5b15cd1da
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Aug 20 12:22:13 2010 +0100

    Ensure duplicate Individuals don't enter candidate_inds when
    aggregating

    If Individuals matched on more than one property, they would appear
    in the
    list of candidate Individuals multiple times, causing the resulting
    linked
    Individual to contain duplicate Personas and Bad Things to happen.
    Helps: bgo#626544

 folks/individual-aggregator.vala | 21 +++++++++++++++++++--
 1 file changed, 19 insertions(+), 2 deletions(-)

commit ae5928a23c08501f0f47db8e29f51f5f6a838889
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Aug 20 11:53:18 2010 +0100

    Ensure the IMable.im_addresses property does not contain duplicates

    This can cause Personas to appear multiple times in a linked
    Individual,
    leading to bad state. Helps: bgo#626544

 backends/key-file/kf-persona.vala | 14 ++++++++++++--
 folks/imable.vala		   | 12 +++++++++---
 folks/individual-aggregator.vala  | 22 ++++++++++++++++++++--
 3 files changed, 41 insertions(+), 7 deletions(-)

commit 97dd951ab8486d0ffba4a97f3e79fa53a0143d36
Author: Maciej Piechotka <uzytkownik2@gmail.com>
Date:	Thu Aug 19 00:24:05 2010 +0200

    Bug 627314 — folks cannot be install in gentoo sandbox

    Correct a problem in the Telepathy backend's LDADD. Closes: bgo#627314

 backends/telepathy/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cdb38b17e75908722297a0c30807be81f81c489e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Aug 18 18:27:10 2010 -0700

    Bundle introspection.m4, because ...autotools.

 Makefile.am	     |	1 -
 m4/introspection.m4 | 94
 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 94 insertions(+), 1 deletion(-)

commit 3f860968a15d778a788b61f9a2d9d4b72dd6fe52
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Aug 18 12:15:45 2010 -0700

    Check whether the Persona instance is IMable, not the class.

 folks/individual-aggregator.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bbbdbf577240ed720a33e651ff35c4aef2a08f49
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Aug 18 09:31:04 2010 -0700

    Post-release version bump and non-release indicator

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 6810363f05aee6de6e969e48ec7bb6f501548dbd
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Aug 18 09:15:20 2010 -0700

    Release version 0.1.14.1

 configure.ac | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit fd58c8215239e2a0d6114e6cc970a038ac6e24b1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Aug 18 09:11:34 2010 -0700

    Make the 'Group invalidated' warning a debug statement.

    This seems to only be printed when signing off of some accounts,
    so it doesn't
    deserve to be a warning.

 backends/telepathy/tpf-persona.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dc72a263beee26c919a589da60a6469a1048f580
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Aug 18 07:57:59 2010 -0700

    Depend upon a released version of Vala.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e456a2886a3cf8bdd57a94db8d163c593749cbf1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Aug 17 22:18:57 2010 -0700

    Bump Vala version requirement to where it should be

    The move of tp-lowlevel to gobject-introspection requires this
    version of Vala.
    I forgot to bump this in time for that commit.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2035b84b9d126ee0b9c905a83409680b7ef8d37d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Aug 17 21:28:02 2010 -0700

    Post-release version bump and non-release indicator

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 84cb5c6a67338fdd2b463e8bcc47cfd0918370e0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Aug 17 20:55:18 2010 -0700

    Release version 0.1.14

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 176f8f1aab8cc95ca2709778a9bbf427680d3530
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Aug 17 16:55:48 2010 -0700

    Fix calls to deprecated Gee.Map.remove()

 backends/telepathy/tpf-persona-store.vala | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 6814e1ada47d86db8fed48c87bf27fe7f3d6a26e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Aug 17 16:35:28 2010 -0700

    Update object ownership in the Telepathy backend for the new
    tp-lowlevel ownership.

 backends/telepathy/tpf-persona-store.vala | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 8dc6a2a39f859b49b964e314234c30b37c883c1e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Aug 17 16:07:07 2010 -0700

    Don't free the return value of transfer-full TpLowlevel functions.

    These transfer return value ownership, so we're asking for a
    double-free error.

 backends/telepathy/tp-lowlevel.c | 15 +++------------
 1 file changed, 3 insertions(+), 12 deletions(-)

commit a3568cd62fa41b0c133f09ea9444fe068ccc9865
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Aug 17 16:31:07 2010 -0700

    Build tp-lowlevel via gobject-introspection

 Makefile.am				 |  5 ++--
 backends/telepathy/Makefile.am		 | 43
 +++++++++++++++++++--------------
 backends/telepathy/tp-lowlevel.metadata | 11 ---------
 configure.ac				 | 11 +++------
 4 files changed, 31 insertions(+), 39 deletions(-)

commit adc2865a30caf38d863f92773069f240a4132943
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Aug 17 16:34:15 2010 -0700

    Add gobject-introspection annotations to tp-lowlevel

 backends/telepathy/tp-lowlevel.c | 67
 ++++++++++++++++++++++++++++++++++++++--
 backends/telepathy/tp-lowlevel.h |  7 +++--
 2 files changed, 69 insertions(+), 5 deletions(-)

commit 2cb9ac655f27767b0c8fe644b50952d974336cf5
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Aug 17 15:00:27 2010 +0100

    Use gen-introspect-0.10 instead of gen-introspect

    This is needed because Vala renamed gen-introspect for 0.9.5.

 configure.ac | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 9239c2319714356db81eefe096c2b2141fc1a057
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:	Tue Aug 17 13:39:27 2010 +0200

    use debug() when failing to get a contact list channel

 backends/telepathy/tpf-persona-store.vala | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 804f6c48d42bca86b29a96ff811d5044af326bcd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:	Tue Aug 17 13:35:01 2010 +0200

    use debug() instead of message()

 folks/individual.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c1c0d0f28fac9e6a66483188d3598643cb5f19a2
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Aug 12 10:39:34 2010 -0700

    Cut dependence on vala-1.0.pc for other programs

 configure.ac | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 7fb6e868e8db69acec7930f1f45b7626431d1319
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Aug 12 09:35:51 2010 -0700

    Detect Vala by special automake macro, not .pc file.

    The .pc file is meant for internal use only.

 configure.ac | 11 +++--------
 1 file changed, 3 insertions(+), 8 deletions(-)

commit 49527937589af82caf8726a1be0afa20cd405573
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Aug 11 17:11:17 2010 +0100

    Post-release version bump and non-release indicator

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 395740d7a8c0eade30d141b2f9183c7ae267bddb
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Aug 11 17:09:14 2010 +0100

    Release version 0.1.13

 configure.ac | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit f22c53165a6fcc6d1d7c6e5c8b8b96047c7ea071
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Aug 11 17:08:46 2010 +0100

    Ensure the telepathy-vala configure check works for builddir != srcdir

 Makefile.am  | 1 +
 configure.ac | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 2d94025a8586550316061d8c9cec4726bc42cc91
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Aug 10 17:03:17 2010 +0100

    Rework unlinking in the IndividualAggregator

    Ensure it causes linked Individuals to be split apart and their
    Personas
    which haven't been removed to be relinked.

 folks/individual-aggregator.vala | 130
 ++++++++++++++++++++++++++++++++-------
 1 file changed, 109 insertions(+), 21 deletions(-)

commit 86261325ce1aa25cb5919381939677febc94d851
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Aug 10 16:59:36 2010 +0100

    Signal the removal of personas from the Kf.PersonaStore

 backends/key-file/kf-persona-store.vala | 5 +++++
 1 file changed, 5 insertions(+)

commit e71262c61afcac251cbe15442c4c9757fabdc321
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Aug 10 16:56:31 2010 +0100

    Improve the IDs stored in the key file

    Instead of storing the full Persona.UID in the key file, only
    store the
    display ID (the number). The IID then becomes the key file filename
    plus the
    display ID, to prevent unwanted linking of Kf.Personas from
    different key
    files.

 backends/key-file/kf-persona-store.vala |  8 ++++----
 backends/key-file/kf-persona.vala	 | 13 +++++++------
 2 files changed, 11 insertions(+), 10 deletions(-)

commit 136b68dab8b4c9be5d9cf8510239835667f6c04a
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 9 17:49:57 2010 +0100

    Improve the heuristic for choosing an Individual's alias

    Change the heuristic to choose the first alias which isn't unset
    or empty,
    and if possible to choose the first alias which isn't equal to
    the Persona's
    display-id. If all the aliases are equal to display-ids, however,
    use one
    of them in preference to having no alias at all.

 folks/individual.vala | 24 ++++++++++++++++++++----
 1 file changed, 20 insertions(+), 4 deletions(-)

commit 6e1098f1f1651ca71666125cbe6b02bb86d11afd
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 9 17:18:32 2010 +0100

    Don't synchronise groups between Personas

 folks/individual.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4e3ec60588f7f731d23f5ea4de328b376a25cf52
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 9 17:11:59 2010 +0100

    Don't synchronise favourite status between Personas

 folks/individual.vala | 9 +--------
 1 file changed, 1 insertion(+), 8 deletions(-)

commit 9004ea1a98f6deed6fd363a051467cd93fdf9560
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 9 17:08:43 2010 +0100

    Don't synchronise alias between Personas

    When setting a new alias on an Individual, only push it to Personas
    from
    the writeable PersonaStore. This prevents every other Persona's
    alias from
    being unnecessarily overwritten.

 folks/individual.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 16f931677aba582bc5d5aa0f7c49974ac23924df
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 9 17:07:28 2010 +0100

    Add a PersonaStore.is_writeable property

 folks/individual-aggregator.vala | 13 ++++++++++++-
 folks/persona-store.vala	  | 11 +++++++++++
 2 files changed, 23 insertions(+), 1 deletion(-)

commit 39e8086aadd4e3526df7fc5661cbaf5abc252865
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Aug 10 15:45:16 2010 -0700

    Update folks-telepathy pkg-config files.

    Now they require telepathy-glib, not the obsolete telepathy-vala.

 backends/telepathy/folks-telepathy-uninstalled.pc.in | 2 +-
 backends/telepathy/folks-telepathy.pc.in	      | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 4adb8fe0b46f29838487cca529e2d5bc282199a4
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Aug 10 15:43:57 2010 -0700

    Update folks pkg-config files.

    Now they require telepathy-glib, not the obsolete telepathy-vala.

 folks/folks-uninstalled.pc.in | 2 +-
 folks/folks.pc.in	       | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 5a521af28f1361e1a00ba5bfa1475e798bdc3809
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Aug 10 15:28:23 2010 -0700

    Check for telepathy-glib Vala bindings by compilation success,
    not specific file.

 configure.ac	      | 8 ++++++--
 telepathy-check.vala | 6 ++++++
 2 files changed, 12 insertions(+), 2 deletions(-)

commit f5053f8df0fe996ac52926e558d9ed46aa6ea7a1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Aug 10 14:24:41 2010 -0700

    Arrange configure checks from most- to least-likely to succeed.

 configure.ac | 28 ++++++++++++++--------------
 1 file changed, 14 insertions(+), 14 deletions(-)

commit 76ef5e2a562326cebf0c43253f2fd592e20581f5
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 15 18:33:28 2010 -0700

    Catch up with the new location for the telepathy-glib.vapi bindings
    file.

 backends/telepathy/Makefile.am | 13 +++++--------
 configure.ac			| 15 ++++++---------
 2 files changed, 11 insertions(+), 17 deletions(-)

commit 24e75a2eac7299692a2981cadea33ff5fc3385bf
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 9 16:32:10 2010 -0700

    Don't warn if the 'stored' channel doesn't exist.

 backends/telepathy/tpf-persona-store.vala | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit b9bb6e2300a529516f51d67523ee4f84533f365d
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 9 14:48:35 2010 +0100

    Add IndividualAggregator.link_personas() and .unlink_individual() API

    These methods allow persistent linking and unlinking of Personas,
    compared to
    the transient linking which editing Individual.personas provides. This
    allows
    for an interface to preview the properties of a newly linked
    Individual
    before committing the changes using
    IndividualAggregator.link_personas().

 folks/individual-aggregator.vala | 82
 ++++++++++++++++++++++++++++++++++++++++
 folks/individual.vala		  |  6 +++
 2 files changed, 88 insertions(+)

commit 5fb93c5290afbc3946308910eec826dc8b3f009c
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 9 12:44:03 2010 +0100

    Implement the IMable interface on TpfPersona

    Use it to expose the Persona's IM address. Do not allow setting the IM
    address.

 backends/telepathy/tpf-persona.vala | 25 ++++++++++++++++++++++++-
 1 file changed, 24 insertions(+), 1 deletion(-)

commit aafc38cfcfe923549cedeed9641d939933e03b08
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 9 14:47:36 2010 +0100

    Take "im-addresses" as the parameter for a new Kf.Persona

    This allows construction of new key file personas which contain
    multiple
    IM addresses from different protocols.

 backends/key-file/kf-persona-store.vala | 24 +++++++++---------------
 backends/key-file/kf-persona.vala	 | 15 ++++++++++-----
 2 files changed, 19 insertions(+), 20 deletions(-)

commit e58ae2c4b34f1bf479c3288c9b02e3d2dd187ba9
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 9 14:46:26 2010 +0100

    Use autogenerated numeric IDs for key file groups

 backends/key-file/kf-persona-store.vala | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit e40ce9fc94c6a30670e586cfb68db09de934a829
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Aug 6 11:20:59 2010 +0100

    Let the IndividualAggregator designate one PersonaStore as its
    writeable store

 folks/individual-aggregator.vala | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit b049c5e8d9d48c38ed8e9230bcbfbcd4a69a7114
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Aug 6 15:05:53 2010 +0100

    Allow late linking of Individuals if Personas are added at runtime

    If a Persona is added after the initial aggregation phase and it
    should be
    linked to more than one existing Individual, the Individuals are
    now destroyed
    and their Personas added to a new linked Individual containing
    the late
    Persona.

    This is necessary for supporting runtime linking and unlinking
    of Personas.

 folks/individual-aggregator.vala | 139
 ++++++++++++++++++++++++++++++---------
 1 file changed, 107 insertions(+), 32 deletions(-)

commit a6e337363592f6bd2375496d91bdd702a4ddfbd4
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 9 18:03:38 2010 +0100

    Specify a replacement Individual in Individual.removed()

    This allows clients to better keep track of which Individuals
    have been
    removed through the user linking them with other Individuals, and
    which have
    been removed for more mundane reasons.

 folks/individual-aggregator.vala |   2 +-
 folks/individual.vala		  | 149
 ++++++++++++++++++++-------------------
 2 files changed, 79 insertions(+), 72 deletions(-)

commit bd0f324e0e3e747842ccadea165439bf6b666a3f
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Aug 5 14:42:22 2010 +0100

    Warn if the MIME type of a potential backend couldn't be determined

    This prevents backends silently not being loaded if shared-mime-info
    wasn't
    installed. Closes: bgo#626108

 folks/backend-store.vala | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 0e3427491df99f1fc1babadb7fa0cafe929ee02e
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Aug 4 11:09:33 2010 +0100

    Add @since lines to the documentation of some new methods

 folks/persona-store.vala | 2 ++
 folks/persona.vala	  | 2 ++
 2 files changed, 4 insertions(+)

commit d844d677583b838946d3906d2c248bedf3f4441e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Aug 3 17:07:10 2010 -0400

    Add a display-name property to PersonaStore

    This is equivalent to display-id for Persona.

 backends/key-file/kf-persona-store.vala   |  6 ++++++
 backends/telepathy/tpf-persona-store.vala |  7 +++++++
 folks/persona-store.vala		   | 15 +++++++++++++++
 3 files changed, 28 insertions(+)

commit 5d37ec9e7b313d66fee2a7c79ee964af3c799813
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Aug 3 15:43:39 2010 -0400

    Add the display-id property to Persona.

    This is meant to be a human-readable, familiar identifier for
    presenting to the
    user (when absolutely necessary).

 backends/key-file/kf-persona.vala   |	5 ++++-
 backends/telepathy/tpf-persona.vala |	4 +++-
 folks/persona.vala		     | 16 ++++++++++++++++
 3 files changed, 23 insertions(+), 2 deletions(-)

commit c24fc85f5e824401a7325a487d949347dcb823f1
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Jul 22 17:16:51 2010 +0100

    Use the Persona's UID instead of the IID as the Individual's ID

    Because the UID is globally unique, so this ensures that Individuals'
    IDs are globally unique.

 folks/individual.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dfdb7114c85860a79ad560a0cbdd8e0099f5a4a9
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Jul 22 16:24:14 2010 +0100

    Allow specifying the key file to load via an environment variable

 backends/key-file/kf-backend.vala | 20 +++++++++++++++++---
 1 file changed, 17 insertions(+), 3 deletions(-)

commit 2f71d1c69d5986fe68d66111e0721579aecd674a
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Jul 22 15:26:15 2010 +0100

    Add the key-file backend to the documentation build

    This requires filtering out the BackendFactory Vala files, since
    they contain
    global symbols (module_init(), module_finalize(), backend_factory)
    in both
    backends, which conflict in the documentation.

 docs/Makefile.am | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 6e9544b47635d2128549241709c2cc169943a278
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Jul 20 17:51:46 2010 +0100

    Tidy up UIDs and IIDs in the backends

    IIDs are now defined as unique within a backend, and formatted to
    make them
    most useful for linking. UIDs are now defined as unique across
    all backends,
    and formatted as Backend.name:PersonaStore.id:Persona ID.

 backends/key-file/kf-persona.vala   |	11 ++--
 backends/telepathy/tpf-persona.vala |	17 +++---
 folks/individual-aggregator.vala    |	12 ++---
 folks/persona.vala		     | 102
 ++++++++++++++++++++++++++++++++++--
 4 files changed, 119 insertions(+), 23 deletions(-)

commit 4e73c105f32f683cdd51e269fb15262c7f345402
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Jul 19 16:37:46 2010 +0100

    Add linking support to the IndividualAggregator

    Personas are linked together to form Individuals using a link map
    containing
    mappings from UIDs and linkable properties to Individual
    instances. This
    takes PersonaStore trust levels into account.

 backends/key-file/kf-persona.vala |  25 +++++++++
 folks/individual-aggregator.vala  | 108
 ++++++++++++++++++++++++++++++--------
 folks/persona.vala		   |  34 ++++++++++++
 3 files changed, 146 insertions(+), 21 deletions(-)

commit 39cddd06a71c50d42518fbbf7fbc4dc5247e4833
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Jul 16 13:41:34 2010 +0100

    Add a key-file backend

    This backend stores Personas in a key file which is completely
    under the
    user's control, making it the only fully trusted Backend. Currently,
    it only
    stores IM addresses, which can then be used as linkable properties
    by the
    IndividualAggregator to link together Personas from multiple
    backends to
    automagically produce Individuals.

 backends/Makefile.am			   |   1 +
 backends/key-file/Makefile.am		   |  84 +++++++++++
 backends/key-file/folks-key-file.deps	   |   2 +
 backends/key-file/kf-backend-factory.vala |  67 +++++++++
 backends/key-file/kf-backend.vala	   |  73 ++++++++++
 backends/key-file/kf-persona-store.vala   | 222
 ++++++++++++++++++++++++++++++
 backends/key-file/kf-persona.vala	   | 124 +++++++++++++++++
 backends/telepathy/tp-backend.vala	   |   3 -
 configure.ac				   |   1 +
 folks/backend.vala			   |   6 +
 folks/debug.vala			   |   9 +-
 11 files changed, 586 insertions(+), 6 deletions(-)

commit 8b685698e88262e6be5cdeba643535fd197d6d2d
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Jul 19 12:11:56 2010 +0100

    Add PersonaStore trust levels

    The Personas from each PersonaStore now have an assigned trust level
    (none,
    partial or full) which indicates how much of their data can be
    used for
    linking Personas together to form Individuals.

    At the moment, the key-file backend is hard-coded as having the
    only fully
    trusted PersonaStore.

 backends/telepathy/tpf-persona-store.vala |  7 +++++
 folks/individual-aggregator.vala	   | 20 +++++++++++++
 folks/persona-store.vala		   | 48
 +++++++++++++++++++++++++++++++
 folks/persona.vala			   |  9 ++++++
 4 files changed, 84 insertions(+)

commit 46eaf12bde8c7d0676e6a78cdb950d1321c6e0ca
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Jul 16 13:40:39 2010 +0100

    Add IMable interface

 folks/Makefile.am |  1 +
 folks/imable.vala | 42 ++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 43 insertions(+)

commit dcd308113590ecf0316a5747254b0ce30b50868b
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Jul 16 13:39:55 2010 +0100

    Add concept of linkeable properties to Persona

 folks/persona.vala | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 98187cc4f344c498633e71a8ec7b4e93dd120615
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Jul 20 13:37:07 2010 +0100

    Downgrade UID-as-alias warning to just a message

    It's routinely triggered by the key-file backend, and doesn't need to
    be a warning anyway.

 folks/individual.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e6edfc2cfd33b4f4309e5ae87f6e38de7e62f4f6
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Jul 23 12:21:22 2010 +0100

    Manually iterate through personas in remove_individual().

    This lets us properly yield upon remove_persona().

 folks/individual-aggregator.vala | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit d7a41f42abc19029598efff03b08df261833a513
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Aug 3 09:22:48 2010 -0400

    Set the autoconf link to folks bugzilla.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c0dfe5895ff6f04aaa81d067d324349563d8ad2c
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 2 16:57:28 2010 +0100

    Don't warn when adding an existing contact.

    Closes bgo#625830

 backends/telepathy/tpf-persona-store.vala | 6 ++++--
 folks/individual-aggregator.vala	   | 2 +-
 folks/persona-store.vala		   | 3 +++
 3 files changed, 8 insertions(+), 3 deletions(-)

commit 461fd27cf073a12340a27c2581a1d1aa9fff55bd
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 2 15:41:27 2010 -0400

    Post-release version bump and non-release indicator

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 260991c1b4bc4130758af3b6f8c50218b6bdc397
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 2 14:01:51 2010 -0400

    Release version 0.1.12

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9749fbe5b033adaa63e7f6467d996ec02e05319e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 2 13:59:32 2010 -0400

    Bump revision, in anticipation of release.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8f0befca507bd6388327e800a264628272457d1b
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Jul 23 13:38:53 2010 +0100

    Version the installed backends using the LT current version number

    This changes with every API/ABI change which is made to libfolks,
    so it should ensure that only binary compatible modules are loaded
    at runtime.

 backends/telepathy/Makefile.am |  2 +-
 configure.ac			| 14 ++++++++++++++
 folks/Makefile.am		|  3 +--
 3 files changed, 16 insertions(+), 3 deletions(-)

commit bae4f448fd91ac4fcf3a26ab3687da2b62080ade
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 2 13:12:21 2010 +0100

    Handle connections which are ready as soon as they're connected

    This fixes contacts from Facebook and MSN accounts sometimes not
    showing up
    in the contact list. Closes: bgo#625815

 backends/telepathy/tpf-persona-store.vala | 37
 +++++++++++++++++++------------
 1 file changed, 23 insertions(+), 14 deletions(-)

commit d05c8c3a6bde9eadee65aab1896a8dd094de4693
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Aug 2 10:16:53 2010 -0400

    Bump Vala version requirement.

    We actually depended on this version de facto as soon as we added
    the debugging
    clean-ups.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c60ce2550ba297097b4efa7d5f53e6031340a071
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 2 12:55:59 2010 +0100

    Add some more debug output to the Telepathy backend

 backends/telepathy/tpf-persona-store.vala | 21 +++++++++++++++++++++
 backends/telepathy/tpf-persona.vala	   |  6 ++++++
 2 files changed, 27 insertions(+)

commit c598212e03664d0d033ddb3ac5eac92aead9c388
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Aug 2 11:14:36 2010 +0100

    Don't log errors in tp-lowlevel functions if they return a GError

    Let the higher-level code decide whether a message or warning needs to
    be logged to the terminal instead.

 backends/telepathy/tp-lowlevel.c | 3 ---
 1 file changed, 3 deletions(-)

commit a5aca650b6cd425763cc9e2647877afe698b94d1
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 21 11:45:07 2010 +0100

    Use g_message() in tp-lowlevel rather than g_warning()

    Any of the tp-glib calls we make could routinely fail, so to stop gdb
    halting on every warning, change them to messages.

 backends/telepathy/tp-lowlevel.c | 20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit 496170b77bef2608ba6ecf409241b75c728dc8b9
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 21 11:27:03 2010 +0100

    Change a message() to a debug()

 folks/backend-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bea343d2874cca4d553ae73dc7603a4c0aabc37b
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Jun 29 15:18:54 2010 +0100

    Add debug flags support

    Debug flags for libfolks, controlling which debug domains spew
    messages, can
    be specified using the FOLKS_DEBUG environment variable, with
    a GLib-style
    debug flags string.

    The two initial debug domains are:
     * Core: everything in the folks directory
     * TelepathyBackend: everything in the backends/telepathy directory

 backends/telepathy/Makefile.am   |  1 +
 folks/Makefile.am		  |  2 ++
 folks/debug.vala		  | 54
 ++++++++++++++++++++++++++++++++++++++++
 folks/individual-aggregator.vala |  2 ++
 4 files changed, 59 insertions(+)

commit e0f6d91f1a0b0970d9824cb3f5b42ed68cbe5dfc
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 27 18:38:02 2010 +0200

    Post-release version bump.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6aca6f5768a55746b504515205b292cdd36afe4c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 27 18:33:32 2010 +0200

    Update (a little late) the LT versioning fields for 0.1.11

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit be70e85f8732a88d7247eda6ddc7fa3612c1c4d8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 27 08:59:28 2010 +0200

    Ensure all methods that should be async are, to get API breaking
    out of the way.

 backends/telepathy/tpf-persona.vala | 2 +-
 folks/groups.vala		     | 5 +++--
 folks/individual.vala		     | 6 +++---
 3 files changed, 7 insertions(+), 6 deletions(-)

commit 1a905f6b5a02c7dc4ec01cc51012a4722ba592bc
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jul 26 17:58:36 2010 +0200

    Always throw an error in async functions, to avoid breaking (C)
    API later.

 folks/backend-store.vala	  | 2 +-
 folks/individual-aggregator.vala | 6 +++---
 folks/persona-store.vala	  | 2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 01c2d79dead379103339c82f67799dc7e2c46baf
Merge: 3f860a2 8543f89
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jul 26 12:43:52 2010 +0200

    Merge remote branch 'pwith/offline-fixes' into prep-0.1.11

commit 3f860a202c8115de3279a5711a5d472b7ef55985
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Jul 23 12:21:22 2010 +0100

    Make remove_persona() and remove_individual() async

    They could involve blocking operations, so should be async.

 backends/telepathy/tp-backend-factory.vala | 10 +---------
 backends/telepathy/tpf-persona-store.vala  | 14 +++++++-------
 folks/individual-aggregator.vala	    | 13 +++++--------
 folks/persona-store.vala		    |  7 ++++++-
 4 files changed, 19 insertions(+), 25 deletions(-)

commit 8543f897538d62fa7bea5740588c5c318dfc067e
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Jul 22 14:18:43 2010 +0100

    Reset the TpfPersonaStore state when going offline

    Emit a signal to remove all the Personas, then reset the store's state
    so that it can come online again later from a clean slate.

 backends/telepathy/tpf-persona-store.vala | 14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

commit 941b42b5e25605eb4b215703d41984eb5f7131fe
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Jul 22 14:18:23 2010 +0100

    Don't hold a reference to the Account when iterating through an
    Account list

 backends/telepathy/tpf-persona.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1f88a87439ede4b78e834593027a797901de1c8d
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Jul 22 11:41:13 2010 +0100

    Don't emit "group invalidated" warnings when disconnecting

 backends/telepathy/tpf-persona.vala | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit 98fe95b2d3428f24833023b2aec70d8a5c932204
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Jul 9 11:04:52 2010 +0100

    Don't initialise favourite contacts support if the Logger doesn't
    exist

 backends/telepathy/tpf-persona-store.vala | 3 +++
 1 file changed, 3 insertions(+)

commit 47d0a18f953dc2bb5e8f7c21faab796c5a820d36
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 21 12:08:35 2010 +0100

    Fix Presence.is_online()

    Due to a signed/unsigned int problem, typecmp() was never returning
    negative answers, so everyone was always online.

 folks/presence.vala | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 3474e33a9e8044f7208a99a4038118429a171ac8
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jun 30 14:49:01 2010 +0100

    Split setup of the IndividualAggregator out into a .prepare() method

 folks/individual-aggregator.vala | 29 +++++++++++++++++++++++++----
 1 file changed, 25 insertions(+), 4 deletions(-)

commit 602d4fe8ae8b1dbbc03a32843eee432ba569a103
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jun 30 14:33:54 2010 +0100

    Split setup of Backends out into a Backend.prepare() method

 backends/telepathy/tp-backend.vala |  6 ++----
 folks/backend.vala		    | 32 ++++++++++++++++++++++++++++++++
 folks/individual-aggregator.vala   | 13 +++++++++++++
 3 files changed, 47 insertions(+), 4 deletions(-)

commit 14d0402e7ec633786ce91f9b877d2855deaff4d3
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jun 30 13:52:08 2010 +0100

    Split setup of PersonaStores out into a PersonaStore.prepare() method

    This allows the PersonaStore.personas_added and
    PersonaStore.personas_removed
    signals to be connected to before the PersonaStore could first
    emit them,
    removing a race condition.

 backends/telepathy/tpf-persona-store.vala |  4 ++++
 folks/individual-aggregator.vala	   | 17 ++++++++++++++++-
 folks/persona-store.vala		   | 30
 ++++++++++++++++++++++++++++++
 3 files changed, 50 insertions(+), 1 deletion(-)

commit fcdfc83082e5bae84a903342f924a4394da84499
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Jul 19 19:10:39 2010 +0100

    Only connect to group-changed signals if the Persona implements Groups

 folks/individual.vala | 16 ++++++++++++----
 1 file changed, 12 insertions(+), 4 deletions(-)

commit 79b166cef1d544cd9a6022d559e160f994cedc09
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 15 14:42:31 2010 -0700

    Post-release version bump.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eda1904d85a6399791a6294a43a9cb5e55a1f958
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 15 14:15:49 2010 -0700

    Cut unnecessary dbus-glib flags from the libfolks build process.

 folks/Makefile.am | 2 --
 1 file changed, 2 deletions(-)

commit a8e25c3e33d1c034c925a9ad843c57110f2511c1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 15 14:15:02 2010 -0700

    Explicitly build and link generated C code against telepathy-glib
    as necessary.

 backends/telepathy/Makefile.am | 4 ++++
 1 file changed, 4 insertions(+)

commit 24d4c4264d1a5a058797a586b219cc1d3ae6c8a9
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 15 14:13:31 2010 -0700

    Explicitly link libfolks-telepathy against libfolks.

 backends/telepathy/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 045ddc4fce532a3dc9b6851d9477bd3460aa6e1a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 15 14:08:16 2010 -0700

    Explicitly build and link generated C code against GIO as necessary.

 backends/telepathy/Makefile.am | 6 ++++++
 configure.ac			| 4 ++++
 folks/Makefile.am		| 2 ++
 3 files changed, 12 insertions(+)

commit a25788ddfddd2554a84057e04e841676bf7e0f23
Merge: ba290fe ac26a1c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 15 13:41:39 2010 -0700

    Merge remote branch 'pwith/refcount-on-remove'

commit ba290fed1e7a1be4bafd2b90e7b6d57ec5d6ac60
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 15 13:35:32 2010 -0700

    Don't give libtp-lowlevel a version number, since it's purely
    internal.

 backends/telepathy/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit d71c754970e1ddda0901a955834ee3e09bc6776c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 15 13:33:35 2010 -0700

    Set the version info for the public libraries.

 backends/telepathy/Makefile.am |  6 ++++++
 configure.ac			| 17 +++++++++++++++++
 folks/Makefile.am		|  6 ++++++
 3 files changed, 29 insertions(+)

commit 8aee3ed33921648c36fedbd48be2887ad0cfb6c3
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 15 13:02:24 2010 -0700

    Add some basic info to the README.

 README | 13 +++++++++++++
 1 file changed, 13 insertions(+)

commit ac26a1cbbc562bd2b41b880ac27173a5cd4dabca
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Jul 15 13:00:52 2010 +0100

    Only unref a Persona if we actually held a reference to it in the
    first place

    Since every Individual is notified of changes to the set of Personas
    in a
    PersonaStore, many of the Personas it's passed won't belong to
    it. This
    ensures that the Individual only unrefs Personas which belonged to it.

 folks/individual.vala | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit b03cf7ba64fc9270f657e3b8fa4e0c066d985ab5
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Jul 15 12:59:43 2010 +0100

    Make some Persona instances unowned

    In trivial cases where we're iterating through a list of owned
    Personas, there
    is no need to ref/unref for each iteration. This makes debugging
    refcount
    issues a lot easier.

 folks/individual-aggregator.vala |  2 +-
 folks/individual.vala		  | 18 +++++++++---------
 2 files changed, 10 insertions(+), 10 deletions(-)

commit 907e28e75cacaccd28d854c13e94422cc904f219
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jul 14 22:13:34 2010 -0700

    Fix our category in the Gnome git system (take the default).

 folks.doap | 1 -
 1 file changed, 1 deletion(-)

commit e27c6657080eda2a55757ae66ff69c880c3393ac
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jul 14 21:17:46 2010 -0700

    Add general project and maintainer information.

 folks.doap | 28 ++++++++++++++++++++++++++++
 1 file changed, 28 insertions(+)

commit ae362860b25e0d79b9b713e9fa5b3f2713d17c28
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jul 14 21:03:48 2010 -0700

    Bump the version for the next release properly, with a new micro
    number.

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 48f4a582df72796a8e526b45446a8f56814dbd20
Merge: 2afe746 a8bbc54
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jul 14 16:32:52 2010 -0700

    Merge remote branch 'pwith/build-cleanup'

    Performed quite a modifications to this branch, as it wasn't rebased
    on top of
    the latest build changes (which also made "make distclean" work for
    the first
    time).

    Conflicts:
	backends/telepathy/Makefile.am
	configure.ac

commit 2afe7462f22547d670d6578466f6e8f334962e78
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jul 14 13:12:45 2010 -0700

    Bump the configure-time glib requirement (which was implicitly
    required by our Vala flags).

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d8b81cef6a7f34b296c58ed66efafd6c2feeeb1e
Merge: 3308c18 63dd363
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jul 14 08:08:34 2010 -0700

    Merge remote branch 'pwith/gi-bindings-rebase4'

commit a8bbc549554350701901dc0dfc9009b6517f994b
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 14 15:39:17 2010 +0100

    Tidy up dependencies in the Telepathy backend

 backends/telepathy/Makefile.am     | 37
 +++++++++++++++++++++----------------
 backends/telepathy/tp-backend.vala |  1 -
 2 files changed, 21 insertions(+), 17 deletions(-)

commit 3feeee3aa4ceb58066bd590aa936287ad437e220
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 14 14:55:21 2010 +0100

    Remove unnecessary dependencies from folks-telepathy.deps

 backends/telepathy/folks-telepathy.deps | 4 ----
 1 file changed, 4 deletions(-)

commit df76ff2f19468e9a34a665060fd06e5f940e0965
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 14 14:48:21 2010 +0100

    Remove redundant suffix substitutions in the Telepathy Makefile

 backends/telepathy/Makefile.am | 26 +++++---------------------
 1 file changed, 5 insertions(+), 21 deletions(-)

commit 4a8d0239e8f203585cd38d1f0665b59815e177a8
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 14 14:40:16 2010 +0100

    Rename VALASOURCES variables in Telepathy backend

    They shouldn't be in upper case, as they could conflict with variables
    used by future versions of automake.

 backends/telepathy/Makefile.am | 34 +++++++++++++++++-----------------
 1 file changed, 17 insertions(+), 17 deletions(-)

commit 04fc389c6a9e1221ecc72d906f7b6699060b111e
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 14 14:31:23 2010 +0100

    Rearrange the libfolks Makefile

    Commonly-changed variables are now nearer the
    top. libfolks_la_VALASOURCES
    has been renamed to folks_valasources so that it doesn't conflict
    with any
    future automake rules of the same name. Various small formatting
    changes have
    been made too.

 folks/Makefile.am | 49 ++++++++++++++++++++++---------------------------
 1 file changed, 22 insertions(+), 27 deletions(-)

commit 5c8e97079eb7b13a02447f03f33dccf7953c6f48
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 14 14:22:52 2010 +0100

    Remove redundant suffix substitutions in the libfolks Makefile

 folks/Makefile.am | 13 +++++--------
 1 file changed, 5 insertions(+), 8 deletions(-)

commit befb6a7832e17494fd4f96c8aa3a3feddca6a7b3
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 14 14:17:17 2010 +0100

    Remove telepathy-vala dependencies from libfolks

 folks/Makefile.am | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 21f4fa4686ee8f75385d705cd35045360a6a5cd0
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 14 14:15:27 2010 +0100

    Tidy up the valac flags for libfolks

 folks/Makefile.am | 17 ++++++++++-------
 1 file changed, 10 insertions(+), 7 deletions(-)

commit 0a6c2f9f3476e69a805cd71c67fd33fa2060422c
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 14 14:04:45 2010 +0100

    Remove unnecessary dependencies from folks.deps

    They're not exposed in the public API, so there's no need to list
    them as dependencies.

 folks/folks.deps | 3 ---
 1 file changed, 3 deletions(-)

commit f646360863074e0b6020f2b1fd8dced62ec5b931
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 14 13:12:34 2010 +0100

    Silence the documentation build

 docs/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0bd58aad5e53ff7b3e66f04787add9bbd4e59a01
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 14 13:10:04 2010 +0100

    Consolidate the tp-vala valaflags into configure.ac

    Rather than calling pkg-config from various Makefiles to find out the
    same information.

 backends/telepathy/Makefile.am | 3 +--
 configure.ac			| 4 +++-
 docs/Makefile.am		| 2 +-
 folks/Makefile.am		| 3 +--
 4 files changed, 6 insertions(+), 6 deletions(-)

commit ca72626c248e5d1ed6ed096e9a81a9269410e3c4
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 14 12:57:37 2010 +0100

    Add git.mk for automatic .gitignore generation

    git.mk is copied from pango/git.mk, which is the canonical place to
    look for updates to it. It hasn't been modified.

 .gitignore			|  81 ------------------
 Makefile.am			|   1 +
 backends/Makefile.am		|   2 +
 backends/telepathy/Makefile.am |   2 +
 docs/.gitignore		|   1 -
 docs/Makefile.am		|   3 +
 folks/Makefile.am		|   2 +
 git.mk				| 187
 +++++++++++++++++++++++++++++++++++++++++
 8 files changed, 197 insertions(+), 82 deletions(-)

commit 93409ffbefff929a6e3a6616fbbb71fb5a5261eb
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 14 12:43:04 2010 +0100

    Add generated files to MAINTAINERCLEANFILES

 Makefile.am | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 0a24eebff34ec9accbf0747df2ec1cc6a147094c
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 14 12:40:28 2010 +0100

    Don't install or EXTRA_DIST the package documentation

    It's unnecessary, and automake knows to distribute the files already.

 Makefile.am | 11 -----------
 1 file changed, 11 deletions(-)

commit 1eea83535cd0a5ea37cafde526f8b0f4d6c286e4
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 14 12:36:10 2010 +0100

    Fix ChangeLog cleaning

    It should be removed optionally during distclean, and forcibly during
    maintainerclean.

 Makefile.am | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 032e535af62f5975c5cd29dbc7fcec76952acbd0
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 14 12:27:37 2010 +0100

    Remove unused gtk-doc lines from build system

    We use valadoc instead.

 Makefile.am  | 4 +---
 autogen.sh   | 2 --
 configure.ac | 1 -
 3 files changed, 1 insertion(+), 6 deletions(-)

commit 946832ebf95033239514dde3e4264e69863cbdae
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 14 12:25:48 2010 +0100

    Remove unused scrollkeeper lines from Makefile

 Makefile.am | 5 -----
 1 file changed, 5 deletions(-)

commit bd67ff7c8862bffe1907dcdf498c791d2cf9bb93
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 14 12:22:15 2010 +0100

    Remove some unused lines from the configure summary

 configure.ac | 2 --
 1 file changed, 2 deletions(-)

commit 606428ff782989b856ea6272d01fe8b05af7dad2
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 14 12:21:57 2010 +0100

    Remove some barely-used silent build machinery from the Makefiles

 backends/telepathy/Makefile.am | 12 ++----------
 folks/Makefile.am		|  8 --------
 2 files changed, 2 insertions(+), 18 deletions(-)

commit 63dd363e17f8bd367160eeb704b076981c03e3d5
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 14 10:27:14 2010 +0100

    Fix MIME type memory leak in BackendStore

 folks/backend-store.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit de0ad19d14d6b0a242639a10ea660ff2aa4bd0d2
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Jul 13 14:46:07 2010 +0100

    Don't leak TpfPersona references for each Individual

    Due to bgo#624249, GLib.List.remove() leaks an item reference,
    so we need to
    manually unreference each persona we remove from the personas list in
    Individual.

 folks/individual.vala | 7 +++++++
 1 file changed, 7 insertions(+)

commit 64e36b1183c4d236d3300c28167449584a19e04f
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Jul 12 16:01:29 2010 +0100

    Break a refcycle between TpfPersonaStore and TpfPersona

    This is achieved by making the pointer that each TpfPersona holds
    to their
    relevant TpfPersonaStore a weak pointer, rather than a referenced
    pointer.

 folks/persona.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit efd309fc441d0af018437a59b5d7c0a5c0d291db
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Jul 9 11:03:47 2010 +0100

    Allow backends to be completely unloaded

    This means that if the IndividualAggregator is finalized, all the
    resources
    used by the backends which were loaded are freed. This allows multiple
    IndividualAggregator instances to be used sequentially, and also
    ensures that
    all Persona instances get destroyed.

 backends/telepathy/tp-backend-factory.vala | 17 ++++++++++-------
 folks/backend-store.vala		    | 18 ++++++++++++++++++
 2 files changed, 28 insertions(+), 7 deletions(-)

commit 3308c1825153336dc2b82966cc4aa0fb9d6ed06e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 13 23:36:53 2010 -0700

    Explicitly require Vala.

 configure.ac | 29 +++++++++++++++++------------
 1 file changed, 17 insertions(+), 12 deletions(-)

commit 2852eb96b241d07eb10cbfb3105bfa65b500e591
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 13 22:59:31 2010 -0700

    Bump nano version after release.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 213d9c2c3e54dbbc793103b4c441d69d0d492815
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 13 18:08:04 2010 -0700

    Distribute the tp-lowlevel metadata file to fix distcheck.

 backends/telepathy/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 480317fd2f26879edbd3740811ca160ec39a1839
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 13 18:03:41 2010 -0700

    Specify tp-lowlevel.h being in the srcdir, to work around a
    vala-gen-introspect bug.

 backends/telepathy/Makefile.am | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 3454785e384e21a0974eec4b7298a959fb7a476d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 13 17:59:59 2010 -0700

    Specify the vala source files being in the srcdir, to work around
    a valac bug.

 backends/telepathy/Makefile.am | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 9a4578f7f528a211274b1a47e8faf0a17d30e6f7
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 13 17:53:11 2010 -0700

    Work around bgo #624278 for distcheck

 backends/telepathy/Makefile.am | 5 +++++
 1 file changed, 5 insertions(+)

commit aa61d798e16fb9b01b6ebf333a1a503ca7b3a3d4
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 13 09:43:00 2010 -0700

    Include the backends/telepathy/*.vala files when making a relese.

 backends/telepathy/Makefile.am | 3 +++
 1 file changed, 3 insertions(+)

commit f147aa253034a410d607825522aee7b06b05f5ee
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jul 13 09:42:45 2010 -0700

    Include the folks/*.vala files when making a relese.

 folks/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 50b46dcf6a7e385782687295909f887bc3f1a714
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sat Jul 10 15:12:55 2010 +0100

    Ensure we don't unref every TpAccount

    AccountManager.get_valid_accounts() only transfers the container, and
    Vala ignores this unless you assign it to a variable with an unowned
    item type.

 backends/telepathy/tp-backend.vala  | 2 +-
 backends/telepathy/tpf-persona.vala | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 75c038e4eddc808820d3908f2fe8e716bda52ab7
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Sat Jul 10 14:33:56 2010 +0100

    Remove extraneous array length parameter

    change_favourites_by_request_handles no longer needs an explicit array
    length parameter, due to changes in Connection.request_handles.

 backends/telepathy/tpf-persona-store.vala | 19 +++++++++----------
 1 file changed, 9 insertions(+), 10 deletions(-)

commit 6287e446d742b6e57f264c89837938e735f43388
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jul 12 23:22:37 2010 -0700

    Use a more-flexible a{sv} type for the add_persona_from_details()
    functions.

 backends/telepathy/tpf-persona-store.vala |  4 ++--
 configure.ac				   |  2 +-
 folks/individual-aggregator.vala	   | 17 +++++++++++++++--
 folks/persona-store.vala		   |  2 +-
 4 files changed, 19 insertions(+), 6 deletions(-)

commit a23e25808986577b451bbc98d21eb65d2cfca330
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jul 12 16:49:40 2010 -0700

    Bump the version for the new PersonaStore/IndividualAggregator API

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c46273698ccffc4a7886c50efb365925a7bef081
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jul 12 16:47:00 2010 -0700

    Combine the IndividualAggregator:individuals-added and -removed
    signals.

    Also include a backend-supplied message, persona who caused the
    change, and
    reason for the change. This will allow us to pass on the more-detailed
    notification bits for Telepathy (eg, "You got kicked from room XYZ
    by Foo Baz:
    'I just felt like booting someone.'").

 folks/individual-aggregator.vala | 44
 ++++++++++++++++++++++------------------
 folks/individual.vala		  | 14 ++++++++-----
 2 files changed, 33 insertions(+), 25 deletions(-)

commit 927ef0c220de2067e99a44046599095f5c4a1ccd
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jul 12 16:33:49 2010 -0700

    Pass along the message, actor, and reason from standard-channel
    Telepathy contacts.

 backends/telepathy/tpf-persona-store.vala | 35
 ++++++++++++++++++++++++-------
 1 file changed, 28 insertions(+), 7 deletions(-)

commit 4d6e2ff42009b847a88b53fe8d1c397d5460077e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jul 12 15:45:18 2010 -0700

    Combine the PersonaStore:personas-added and personas-removed signals.

    Also include a backend-supplied message, persona who caused the
    change, and
    reason for the change. This will allow us to pass on the more-detailed
    notification bits for Telepathy (eg, "You got kicked from room XYZ
    by Foo Bar:
    'I just felt like booting someone.'").

 backends/telepathy/tpf-persona-store.vala |  6 +--
 folks/groups.vala			   | 62
 +++++++++++++++++++++++++++++++
 folks/persona-store.vala		   | 23 ++++++------
 3 files changed, 77 insertions(+), 14 deletions(-)

commit 42d76823eb9039155d4fbb9dffb99c705823bd09
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jul 12 16:48:55 2010 -0700

    Bump the required version of tp-glib

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d053d91c9389628bb4ad04a50ed83817f74879fc
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jul 12 11:57:35 2010 -0700

    Also remove Capabilities from Individual.

 folks/individual.vala | 32 --------------------------------
 1 file changed, 32 deletions(-)

commit c747ecf640f1f36060a4105555c439de63f2cc94
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jul 12 10:27:59 2010 -0700

    Remove the Capabilities interface.

    There are some issues with its design, and it depends upon fixes to
    tp-glib that
    we'd like to punt for now.

 folks/Makefile.am	 |  1 -
 folks/capabilities.vala | 54
 -------------------------------------------------
 2 files changed, 55 deletions(-)

commit aa5db9e3e59f2c58ce722c3d6ec971106e8498c4
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jul 12 10:14:24 2010 -0700

    Strip Capabilities interface from Tpf.Persona.

 backends/telepathy/tpf-persona.vala | 80
 -------------------------------------
 1 file changed, 80 deletions(-)

commit bf283ca46ca501e40759e57f48324450ac908403
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jul 9 09:32:24 2010 -0700

    Don't explicitly state the return type of
    AccountManager.get_valid_accounts().

 backends/telepathy/tpf-persona.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e9f553b23af303b7cf2162c1d527ed141fd70ed0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 8 16:33:33 2010 -0700

    Vala doesn't accept GLib.Value as a generic type

    This works around the problem (until we care about the content of
    the details
    hash).

 backends/telepathy/tpf-persona-store.vala | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 65d4fa77641421941bc44dd9c25717ac28c653c1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 8 16:17:52 2010 -0700

    Update for the new signature of ConnectionRequestHandlesCb.

 backends/telepathy/tpf-persona-store.vala | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 68f11180bf32be5b7965ace17a7aa483c6546ce3
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 8 15:49:29 2010 -0700

    Cast TelepathyGLib.ContactFeature to uint, since tp-lowlevel can't
    use the symbol 'TpContactFeature'.

 backends/telepathy/tpf-persona-store.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4c4321e019052b519ec6f6b89f57737c38a71a0b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 8 15:41:12 2010 -0700

    Update for the fact that the g-i bindings don't bind the
    Channel.group_members_changed signal.

 backends/telepathy/tpf-persona-store.vala | 64
 +++++++++++++++----------------
 1 file changed, 30 insertions(+), 34 deletions(-)

commit 988b83ba03e9bcad187ad5b9169ac34244bc30fe
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 8 14:54:35 2010 -0700

    Use the existing Tpf.PersonaError instead of the unbound
    TelepathyGLib.Error.

 backends/telepathy/tpf-persona-store.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8194a500d086b884ef7272e6871911228bdef296
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 8 14:28:41 2010 -0700

    Use uint for TpContactFeature, since the type doesn't exist in the
    Vala bindings.

 backends/telepathy/tp-lowlevel.c | 4 ++--
 backends/telepathy/tp-lowlevel.h | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 2541e153483c6e53d34efaa46298e4fce23c68a3
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 30 17:20:52 2010 -0700

    Adjust for the fact that AccountManager.get_valid_accounts ()
    transfers ownership.

 backends/telepathy/tp-backend.vala | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 0628cba9c7c3e141ba9947ff665c4cb7b5b45b55
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 30 17:16:56 2010 -0700

    Account.get_object_path() no longer (erroneously) takes an argument.

 backends/telepathy/tp-backend.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b37ec9eae5110e71f7cf3fef8043ec2b1913410a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 30 17:15:45 2010 -0700

    Make Tpf.PersonaError public

 backends/telepathy/tpf-persona.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 53a6418ee53e8dd2ebf4a88dbec25ac953c072de
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 30 17:15:10 2010 -0700

    Use the modern TelepathyGLib.Proxy.prepare_async() instead of the old
    (and unbound) TelepathyGLib.Connection.call_when_ready ()

 backends/telepathy/tpf-persona-store.vala | 29
 ++++++++++++++++-------------
 1 file changed, 16 insertions(+), 13 deletions(-)

commit fe98a2ab4aa71cb0ef1f93870674fb8f903c337d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 30 12:24:16 2010 -0700

    Adjust for TelepathyGLib.AccountManager.get_valid_accounts()
    transferring ownership of the list.

 backends/telepathy/tpf-persona.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f04db7bd60e84ea677a69dba179665978b0f341d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 30 12:19:50 2010 -0700

    Adjust to TelepathyGLib.ConnectionContactsByHandleCb implicitly
    passing the array lengths.

 backends/telepathy/tpf-persona-store.vala | 1 +
 1 file changed, 1 insertion(+)

commit 211137acdf918dcec3e39c6fcf0b9fe60b1b31a3
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 16 15:42:42 2010 -0700

    Continue adjusting to vapi changes in the g-i-based tp-glib bindings.

 backends/telepathy/tpf-persona-store.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a61e60fc42405039a60e02f43b84cf7c7e205d78
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 16 11:26:35 2010 -0700

    Create our own errordomain for Tpf.Persona errors.

 backends/telepathy/tpf-persona.vala | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 2f58d793c54957f50c6b7b8ed022159762842c61
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 16 11:23:46 2010 -0700

    Work-around the g-i bindings missing TpHandle.

 backends/telepathy/tp-lowlevel.c | 14 +++++++-------
 backends/telepathy/tp-lowlevel.h |  6 +++---
 2 files changed, 10 insertions(+), 10 deletions(-)

commit 44ea1c2172e9f52149cb9b529e13dad325ed1008
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 16 11:23:21 2010 -0700

    Adjust to the new tp-glib vala bindings namespace introduced by the
    g-i version.

 backends/telepathy/tp-backend.vala	   |  2 +-
 backends/telepathy/tp-lowlevel.metadata   |  4 +-
 backends/telepathy/tpf-logger.vala	   |  2 +-
 backends/telepathy/tpf-persona-store.vala | 69
 ++++++++++++++++---------------
 backends/telepathy/tpf-persona.vala	   | 54 +++++++++++++-----------
 5 files changed, 68 insertions(+), 63 deletions(-)

commit 41c6c34003e021467300d002c3dcc7e68f6299be
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Jul 8 10:56:36 2010 +0100

    Don't try to strip() a null string

 folks/individual.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 535ec4311d9b92834f1f8fe41dc3f73fdbcfc07a
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Jul 8 10:54:43 2010 +0100

    Fix notification of favourites changes in Individual

 folks/individual.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d27b5396ab76dbdd221fb7ba975280ad49f62e5d
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 7 18:15:33 2010 +0100

    Allow single personas to be removed through the IndividualManager

 folks/individual-aggregator.vala | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 37c4779e392733854dd5deb82bcc082345dc6f95
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 7 17:00:38 2010 +0100

    Ensure updates to Persona:groups affect Individuals

 folks/individual.vala | 7 +++++++
 1 file changed, 7 insertions(+)

commit d2a726a8c3664f95069160c45bce6c4fb827013d
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 7 16:12:29 2010 +0100

    Ensure personas are only created and added once

    Previously, IndividualAggregator.add_persona_from_details() would
    return a
    different instance of the same persona than would get added to the
    PersonaStore later (through channel change notification). This
    fixes that
    to re-use the original persona created by add_persona_from_details().

 backends/telepathy/tpf-persona-store.vala | 58
 +++++++++++++++++++------------
 1 file changed, 35 insertions(+), 23 deletions(-)

commit 3a77bdfdfba1c9fbe97078b0484fffc9935a9eb0
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 7 16:11:58 2010 +0100

    Improve filtering of empty aliases

 backends/telepathy/tpf-persona.vala | 2 +-
 folks/individual.vala		     | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 4dedc89be05ed779d93088083a388a41a147f418
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jul 7 13:13:55 2010 +0100

    Add alias notification in Folks.Individual

 folks/individual.vala | 59
 ++++++++++++++++++++++++++++++++-------------------
 1 file changed, 37 insertions(+), 22 deletions(-)

commit 5d5d03af7b10b511517be774c64f921d24b25db1
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jul 5 09:59:15 2010 -0700

    Add missing dbus-glib dep to docs build process

 docs/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1cbd28de9f52e36f9357f86e96dd6e0cffc7fb53
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Mon Jul 5 10:44:02 2010 +0100

    Remove the built documentation on distclean

 docs/Makefile.am | 4 ++++
 1 file changed, 4 insertions(+)

commit a24e606adfd840ffc3a164cfde5f36b0c11aabcc
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Jul 1 18:08:32 2010 +0100

    Add documentation to every method in the Telepathy backend

    Much of the documentation is inherited from that in the core of
    libfolks, and
    the rest isn't particularly in-depth.

 backends/telepathy/tp-backend-factory.vala |  9 ++++++
 backends/telepathy/tp-backend.vala	    | 14 ++++++++++
 backends/telepathy/tpf-persona-store.vala  | 40
 ++++++++++++++++++++++++++-
 backends/telepathy/tpf-persona.vala	    | 44
 ++++++++++++++++++++++++++----
 4 files changed, 100 insertions(+), 7 deletions(-)

commit f8f20cbc4ee97c9eb64696f17c6c8290669a7864
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Jul 1 17:51:20 2010 +0100

    Add the Telepathy backend to the documentation build

 docs/Makefile.am | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit e8c8fb4149eb946c80621bb3fed65f6b74bf3e9b
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Jul 2 14:31:49 2010 +0100

    Make Tpf.PersonaStore.change_is_favourite() internal

 backends/telepathy/tpf-persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ae61025a673cffec4a334c84c022a20772abc0ae
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Jul 2 13:24:05 2010 +0100

    Pass changes to Personas' aliases on to Telepathy

 backends/telepathy/tp-lowlevel.c	   | 30
 ++++++++++++++++++++++++++++++
 backends/telepathy/tp-lowlevel.h	   |  7 +++++++
 backends/telepathy/tpf-persona-store.vala |  8 ++++++++
 backends/telepathy/tpf-persona.vala	   | 29
 ++++++++++++++++++++++++++---
 folks/individual.vala			   | 29
 ++++++++++++++++++++++-------
 5 files changed, 93 insertions(+), 10 deletions(-)

commit 22932ebd7a007863dd9f52c6e853fe8c24c0d46f
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 1 17:01:10 2010 -0700

    Actually ref new Personas set for an Individual, so we don't
    double-unref them later.

 folks/individual.vala | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 8abd376f965bf4fad1770376ca6c7f2fbedfa725
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 1 16:35:49 2010 -0700

    Update an Individual's store-persona hash when the persona is removed
    from its store.

 folks/individual.vala | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 9e04f382efc059e006a13095fe2478e3eb11e60e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 1 15:29:23 2010 -0700

    Don't emit an extraneous 'personas-removed' before we get confirmation
    from the server.

 backends/telepathy/tpf-persona-store.vala | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit ed92448d8d853735486c5500814d06dcfd962df2
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 1 14:53:49 2010 -0700

    When removing a Tpf.Persona, remove it from the same struct we're
    cycling through.

 backends/telepathy/tpf-persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 129e7e6de39c330074a3f26dcbf09301ab74325b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 1 14:47:10 2010 -0700

    When removing Tpf.Personas from the store, ensure we empty
    corresponding entries for the persona's handle.

 backends/telepathy/tpf-persona-store.vala | 17 ++++++++++++++---
 1 file changed, 14 insertions(+), 3 deletions(-)

commit 9639b6be18c4e85cd15192d60ef3c8404626afee
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 1 10:22:50 2010 -0700

    Bump version.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 36c286e1e19bc80f241ca5b9953c87dc05cd015b
Merge: 2749085 606e858
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jul 1 10:16:36 2010 -0700

    Merge remote branch 'pwith/fixes3-no-prepare'

commit 606e8583760deae6d0ca259e1783c5253bd58994
Merge: 510d029 8c46af5
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Jul 1 18:12:11 2010 +0100

    Merge branch 'master' into fixes3-no-prepare

    Conflicts:
	backends/telepathy/tpf-persona.vala
	folks/individual.vala
	folks/persona.vala

commit 510d0291ebf3a789d0a602419435742c2a04e264
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Jul 1 16:09:40 2010 +0100

    Remove use of pkg-config directly from a Makefile

 backends/telepathy/Makefile.am | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 0e348f859f40d7d555a05bf91f7b1c594003f8a8
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Jul 1 16:00:50 2010 +0100

    Make configuration fail if vapigen is missing

 backends/telepathy/Makefile.am |  5 +----
 configure.ac			| 10 ++++++++++
 folks/Makefile.am		|  3 ---
 3 files changed, 11 insertions(+), 7 deletions(-)

commit 593f699c65f8adcead59c7c46ac24ce134e02e4e
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Jul 1 15:46:21 2010 +0100

    Split up pkg-config dependencies

 backends/telepathy/Makefile.am | 33 ++++++++++++++++------
 configure.ac			| 62
 ++++++++++++++++--------------------------
 folks/Makefile.am		| 13 +++++++--
 3 files changed, 58 insertions(+), 50 deletions(-)

commit 06dc4612c36a80cb63391e6ad90e4436725fdb83
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Jul 1 15:25:22 2010 +0100

    Apply new interface style convention

    When a class implements any interfaces (in addition to its
    superclass), they
    should each be put on a new line, and sorted alphabetically.

 backends/telepathy/tpf-persona.vala | 9 +++++++--
 folks/individual.vala		     | 9 +++++++--
 folks/persona.vala		     | 7 +++++--
 3 files changed, 19 insertions(+), 6 deletions(-)

commit dffd7f1cd2c337b454695969b92850d5fbdc8f22
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Thu Jul 1 15:22:01 2010 +0100

    Remove explicit array length from add_new_personas_from_contacts()

 backends/telepathy/tpf-persona-store.vala | 10 +++-------
 1 file changed, 3 insertions(+), 7 deletions(-)

commit 9566d69f123189ae447f5ca4c93db9440656cadd
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jun 30 15:46:52 2010 +0100

    Improve documentation build rules

    Ensure that the documentation is rebuilt if any of the sources
    files it's
    extracted from change.

 docs/Makefile.am | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 665c900247f03f567b907b24eb0fc30667f5c78f
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jun 30 14:57:20 2010 +0100

    Clarify documentation of BackendStore.backend_available

 folks/backend-store.vala | 3 +++
 1 file changed, 3 insertions(+)

commit 27490858366e749059cdd63bf1e446df37902ece
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 30 20:08:32 2010 -0700

    Bump required telepathy-glib.

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8c46af5fb52e887a5e193320aca67aa219e6cf11
Merge: 891f458 a7f3700
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 30 19:46:04 2010 -0700

    Merge remote branch 'pwith/interfaces'

commit 150304d557ce34a9218e3794743fc301a2057e28
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jun 30 12:38:05 2010 +0100

    Fix audio and video capabilities

 backends/telepathy/tpf-persona.vala | 30 ++++++++++++++++++------------
 1 file changed, 18 insertions(+), 12 deletions(-)

commit 6c7cea8dfd2d93044e1f7c576728ebce47891041
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jun 30 12:10:31 2010 +0100

    Fix setting capabilities when Tp returns a null set of capabilities

 backends/telepathy/tpf-persona.vala | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit e63b8fdee93d2add0096e3c3adbe8e596cd6f0a7
Merge: ebd84ba 3513c17
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jun 30 12:04:43 2010 +0100

    Merge branch 'master' into fixes3

    Conflicts:
	folks/individual.vala

commit a7f370035799a844357826c39d710c7ddc20201c
Merge: 925b3c5 3513c17
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jun 30 12:00:15 2010 +0100

    Merge branch 'master' into interfaces

    Conflicts:
	folks/persona-store.vala
	folks/persona.vala

commit 891f458a1a29463c12076395ae8d0ae8fd90ff25
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jun 30 11:47:42 2010 +0100

    Only warn about unknown personas if the account is already connected

    This fixes spew of "unknown persona in favourites list" messages
    on startup.

 backends/telepathy/tpf-persona-store.vala | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 51d1dea1fd0698c730d6807c82596b6c3277fa98
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jun 30 11:40:37 2010 +0100

    Handle the logger service going away gracefully

 backends/telepathy/tpf-logger.vala	   | 21 +++++++++++++++++++++
 backends/telepathy/tpf-persona-store.vala |  5 +++++
 2 files changed, 26 insertions(+)

commit 12df6206372cf5745fd58857e72d125b6e30007b
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jun 30 11:31:44 2010 +0100

    Add a FIXME about using DBus.Connection.get_object_for_name_owner()

    We can't use it at the moment due to bgo#623198.

 backends/telepathy/tpf-logger.vala | 4 ++++
 1 file changed, 4 insertions(+)

commit 3513c17ec59f8ad17dc6da80597e76d29ce6c3d2
Merge: b5d9a0e 413ae51
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jun 29 16:50:34 2010 -0700

    Merge remote branch 'pwith/favourites'

    (Fixed)
    Conflicts:
	folks/individual.vala
	folks/persona.vala

commit b5d9a0ed2601d287fed6ce31c2c850341fccbc2a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jun 29 15:11:51 2010 -0700

    Don't declare IndividualAggregator's constructor as throwing an error,
    since it doesn't.

 configure.ac			  | 2 +-
 folks/individual-aggregator.vala | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit b3bd1ef0504ed78f6c16a09644bb6de40b0f24d3
Merge: e6e2cd0 b4e636c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jun 29 15:08:38 2010 -0700

    Merge remote branch 'pwith/docs2'

    Fixed the documented return value for Presence.typecmp from docs2.

    (Fixed)
    Conflicts:
	folks/individual-aggregator.vala
	folks/individual.vala

commit e6e2cd0dd44ab88def4e26295ae7fc773c7770f4
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jun 29 10:51:42 2010 -0700

    Make create_personas_from_channel_handles_async actually async.

 backends/telepathy/tp-lowlevel.c	   | 88
 +++++++++++++++++++++++++++++++
 backends/telepathy/tp-lowlevel.h	   | 17 ++++++
 backends/telepathy/tp-lowlevel.metadata   |  5 ++
 backends/telepathy/tpf-persona-store.vala | 85
 ++++++++++++++---------------
 4 files changed, 153 insertions(+), 42 deletions(-)

commit 42c1c43418b833cef79904b785ac71700b6bf988
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jun 29 11:02:47 2010 -0700

    Bump the required version of GLib so we can take advantage of
    automatic ref counting for various GLib classes.

 backends/telepathy/Makefile.am | 5 +++--
 configure.ac			| 5 +++++
 folks/Makefile.am		| 3 ++-
 3 files changed, 10 insertions(+), 3 deletions(-)

commit 413ae5159e7704b0da15ef788e9fc23ec02133af
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Jun 29 17:59:56 2010 +0100

    Use get_object_for_name_owner() rather than just get_object()

    This makes the Logger proxy more robust against the Logger service
    going
    away.

 backends/telepathy/tpf-logger.vala | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit ebd84baae297b81a56b3ee8ea0a2c8ce2b58d71e
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Jun 29 16:27:52 2010 +0100

    Make Individual.avatar.set private

    Avatars are provided by the contacts; we can't set them ourselves.

 folks/individual.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 396ebc36f8c92aaa12f48243ca2f105834348d51
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Jun 29 16:27:19 2010 +0100

    Implement a FIXME about checking for all-whitespace aliases

 folks/individual.vala | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 0b86e3c7c25297f9b7d52a2c11a422168eafa768
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Jun 29 16:15:37 2010 +0100

    Add capabilities support to TpfPersona

 backends/telepathy/tpf-persona.vala | 69
 ++++++++++++++++++++++++++++++++++---
 1 file changed, 65 insertions(+), 4 deletions(-)

commit 925b3c5a72f7e4d5d439a831473223bc1211b76d
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Jun 29 13:54:43 2010 +0100

    Remove groups API from PersonaStore

    It doesn't belong there, as classes which extend Folks.PersonaStore
    may not
    implement Groups functionality. The API has been moved into
    TpfPersonaStore
    as internal API to the Telepathy backend.

 backends/telepathy/tpf-persona-store.vala |  6 +++++-
 backends/telepathy/tpf-persona.vala	   | 28
 +++++++++++++++-------------
 folks/persona-store.vala		   |  5 -----
 3 files changed, 20 insertions(+), 19 deletions(-)

commit 917ee31530791512d9f95d36c80a27107943ad82
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Jun 29 13:22:25 2010 +0100

    Remove interfaces from Persona

    Interfaces such as Alias and Persona should be implemented by
    the backend
    persona class which extends Persona, since different backends
    will have
    different functionalities. Any code using Persona should check which
    interfaces the specific Persona instance implements before attempting
    to use
    their functionality.

 backends/telepathy/tpf-persona.vala | 10 +++++-----
 folks/individual.vala		     | 35
 ++++++++++++++++++++---------------
 folks/persona.vala		     | 16 +---------------
 3 files changed, 26 insertions(+), 35 deletions(-)

commit a5756034e7e2a1a263e73498fa41118e3388bdcc
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Jun 29 12:30:40 2010 +0100

    Catch some unhandled errors

 backends/telepathy/tpf-persona-store.vala | 34
 +++++++++++++++++++++++++++----
 1 file changed, 30 insertions(+), 4 deletions(-)

commit c6db84fcd69763ad509f510df6c90cdbcadb1e2a
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Jun 29 12:14:36 2010 +0100

    Split the Logger interface out into a separate file

    Split the LoggerIface we use to wrap the telepathy-logger D-Bus
    service out
    into a separate file, and implement it in a new Logger class which
    shares the
    same D-Bus object between all users of the class.

 .gitignore				   |   1 +
 backends/telepathy/Makefile.am		   |   1 +
 backends/telepathy/tpf-logger.vala	   | 104
 ++++++++++++++++++++++++++++++
 backends/telepathy/tpf-persona-store.vala | 101
 ++++++++---------------------
 4 files changed, 133 insertions(+), 74 deletions(-)

commit 68b7a69a949405fd6325cd44ad8b9c613bebc311
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Jun 29 10:57:39 2010 +0100

    First round of favourites review cleanups

 backends/telepathy/tpf-persona-store.vala | 65
 ++++++++++++++++++-------------
 folks/individual.vala			   |  9 +++--
 2 files changed, 42 insertions(+), 32 deletions(-)

commit 93b41d0d7f2478c0f0d4f2c27905da017032c20a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jun 28 15:11:04 2010 -0700

    Change IndividualAggregator.members to
    IndividualAggregator.individuals for consistency with PersonaStore,
    etc.

 configure.ac			  |  2 +-
 folks/individual-aggregator.vala | 11 ++++++-----
 2 files changed, 7 insertions(+), 6 deletions(-)

commit 6207377cd4b0a7e92d1d66a4c942b6e3d7258dc9
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Jun 28 14:31:44 2010 -0700

    Rephrase explanation of Individual:removed signal.

 folks/individual.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b4e636c7be106b31a9f56ad63f495bc08ac9699a
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Jun 25 17:36:48 2010 +0100

    Add documentation for every public signal, property and member

 folks/alias.vala		  |   6 ++
 folks/avatar.vala		  |   6 ++
 folks/backend-store.vala	  |  31 ++++++++++
 folks/backend.vala		  |  25 ++++++++
 folks/capabilities.vala	  |   7 +++
 folks/groups.vala		  |  24 ++++++++
 folks/individual-aggregator.vala |  67 +++++++++++++++++++--
 folks/individual.vala		  | 125
 ++++++++++++++++++++++++++++++++++++++-
 folks/persona-store.vala	  |  92 ++++++++++++++++++++++++++++
 folks/persona.vala		  |  35 ++++++++++-
 folks/presence.vala		  |  32 ++++++++++
 11 files changed, 440 insertions(+), 10 deletions(-)

commit 2c6482cea44325f14e321d17db89669afa577186
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Fri Jun 25 15:29:56 2010 +0100

    Remove an outdated comment

 backends/telepathy/tpf-persona-store.vala | 2 --
 1 file changed, 2 deletions(-)

commit 217a8ac2fad1dc5eb95fb2e8dfc95b4e5c1a8da1
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jun 23 16:41:55 2010 +0100

    Add Favourites support

    This adds a Favourite interface, implemented by Individual and
    Persona, and
    backed by a D-Bus connection to the telepathy-logger service in
    TpfPersonaStore.

    The D-Bus logger proxy is a custom-written one in Vala, as the
    logger proxy
    doesn't exist in telepathy-glib at the moment.

    Whenever the is-favourite property of an Individual is changed,
    its new value
    is propagated to _all_ of the individual's Personas. Conversely,
    if a single
    Persona has is-favourite == true, the Individual containing that
    Persona will
    also have is-favourite == true.

 .gitignore				   |   1 +
 backends/telepathy/tpf-persona-store.vala | 205
 +++++++++++++++++++++++++++++-
 backends/telepathy/tpf-persona.vala	   |  19 ++-
 folks/Makefile.am			   |   1 +
 folks/favourite.vala			   |  26 ++++
 folks/individual.vala			   |  49 ++++++-
 folks/persona.vala			   |   3 +
 7 files changed, 301 insertions(+), 3 deletions(-)

commit 0db23bffa5edd3ca0aa467471bb51e69b50c68aa
Merge: 5adecc4 051b022
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jun 24 09:32:38 2010 -0700

    Merge remote branch 'pwith/fixes2'

    (Fixed)
    Conflicts:
	backends/telepathy/tpf-persona-store.vala

commit 5adecc4f4b2c022750f5a7fb001363b95260ae41
Merge: b0711d0 ad13c58
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jun 24 08:22:33 2010 -0700

    Merge remote branch 'pwith/docs'

    (Fixed)
    Conflicts:
	folks/individual-aggregator.vala
	folks/persona-store.vala

commit b0711d037ceed7438c572fcd2f3a2a4faff6cc73
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 23 20:07:06 2010 -0700

    Micro version bump for new functionality.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3207abf653bd05f34c4412c8c24d52ba0b28dde5
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 23 20:05:35 2010 -0700

    Re-add the stored list, as it's necessary to properly remove contacts.

 backends/telepathy/tpf-persona-store.vala | 43
 ++++++++++++++++++++++++++++++-
 1 file changed, 42 insertions(+), 1 deletion(-)

commit 1a9e5a5c7bf2659e92f209069088fd777e676279
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 23 19:57:49 2010 -0700

    Support contact removal

 backends/telepathy/tpf-persona-store.vala | 42
 +++++++++++++++++++++++++++++--
 folks/individual-aggregator.vala	   | 13 ++++++++++
 folks/individual.vala			   | 19 ++++++++++++++
 folks/persona-store.vala		   |  1 +
 4 files changed, 73 insertions(+), 2 deletions(-)

commit 1dd8f2988db02968febc0d022ed7420bbedccbba
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 23 18:10:49 2010 -0700

    Rename internal-only 'remove' functions in Tpf.PersonaStore so public
    'remove' functions consistently mean 'remove permanently from the
    server'.

 backends/telepathy/tpf-persona-store.vala | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit e8f332592257421f6932a02881010fdb64d00d3a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 23 15:59:11 2010 -0700

    Add a comment about the usage of
    IndividiualAggregator.add_persona_from_details().parent

 folks/individual-aggregator.vala | 3 +++
 1 file changed, 3 insertions(+)

commit 80e76bc7097bd33ad35fab5a5c6677bf43b35d85
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 23 15:49:04 2010 -0700

    Cut out 'stored' contact list support; if a contact is in neither
    'publish' nor 'subscribe', we don't want to present them.

 backends/telepathy/tpf-persona-store.vala | 32
 -------------------------------
 1 file changed, 32 deletions(-)

commit 77c44856daca6ea6d5d39241abffff9ea103f324
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 23 15:47:31 2010 -0700

    Remove personas for Telepathy contacts removed from both the subscribe
    and publish contact lists.

 backends/telepathy/tpf-persona-store.vala | 71
 +++++++++++++++++++++++++++++++
 1 file changed, 71 insertions(+)

commit 47b7d61025c980ad6ef728b3fc447ed60ab4034b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 23 15:40:08 2010 -0700

    Filter incoming group channel members through the standard contact
    list channels

 backends/telepathy/tpf-persona-store.vala | 78
 +++++++++++++++++--------------
 1 file changed, 44 insertions(+), 34 deletions(-)

commit 1153508f6bf73e597f37f71221b65d37c73b2c94
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 23 11:45:35 2010 -0700

    Add support for the 'stored' standard contact list channel.

 backends/telepathy/tpf-persona-store.vala | 29
 +++++++++++++++++++++++++++--
 1 file changed, 27 insertions(+), 2 deletions(-)

commit 8b3a2d4fccacc03a1a972f43a66f5dce7580e243
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 23 10:55:59 2010 -0700

    Don't be excessively-explicit about the HashMap hash/equal functions,
    since they're determined by the generic types.

 backends/telepathy/tpf-persona-store.vala | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 17134e3c0675c2083047babcfd1f2e9f83b9ac28
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 23 10:54:21 2010 -0700

    Avoid another potential group/non-group contact list channel hash
    collision.

 backends/telepathy/tpf-persona-store.vala | 14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

commit 8239bf1644fb4de5ba0c786ab35fa90c55dded7b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 23 10:36:54 2010 -0700

    Handle the standard non-group contact list channels separately from
    each other and the group channels, as they need to be.

 backends/telepathy/tpf-persona-store.vala | 87
 ++++++++++++++++++++++++++-----
 1 file changed, 75 insertions(+), 12 deletions(-)

commit 5e70c3bea74edaf544e4adcd2003c9eac0ac0340
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 23 09:00:29 2010 -0700

    Change the key for channel_group_personas_map to Tp.Channel to avoid
    potential collisions between the ContactList and Group channels.

 backends/telepathy/tpf-persona-store.vala | 15 ++++++++-------
 1 file changed, 8 insertions(+), 7 deletions(-)

commit 80782cb14a808a8f0303ed182d71cecb44f18011
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 23 08:59:31 2010 -0700

    Change the key for channel_group_incoming_adds to Tp.Channel to
    avoid potential collisions between the ContactList and Group channels.

 backends/telepathy/tpf-persona-store.vala | 17 +++++++++--------
 1 file changed, 9 insertions(+), 8 deletions(-)

commit 051b022016b9e596a66a6f3c2d0906364124596b
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jun 23 12:18:51 2010 +0100

    Use a literal GError when proxying errors in the TpfPersonaStore

 backends/telepathy/tpf-persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8b63168531a8346e19e4ffa8cd3abe8f110efcbb
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jun 23 11:50:05 2010 +0100

    Note about a Vala bug when chaining constructors which affects us

 backends/telepathy/tpf-persona.vala | 3 +++
 1 file changed, 3 insertions(+)

commit 3520fd7dd1d1f3692b6b812f06d825ec6cf0b382
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jun 23 11:04:55 2010 +0100

    Make BackendStore.load_backends() async

    It does I/O, so should be async so that it doesn't
    block. Consequently, it's
    no longer guaranteed that all backends/personas/individuals are
    loaded by the
    time IndividualAggegator's constructor returns.

 folks/backend-store.vala | 27 +++++++++++++--------------
 1 file changed, 13 insertions(+), 14 deletions(-)

commit ad13c581213a1979d4b9ce7600e4056ec16b45e4
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Wed Jun 23 10:37:42 2010 +0100

    Documentation fixes

    Remove the redundant documentation of enum members and improve the
    documentation of a few classes.

 folks/capabilities.vala	  | 23 ----------------------
 folks/individual-aggregator.vala |  4 ++--
 folks/presence.vala		  | 42
 +++++-----------------------------------
 3 files changed, 7 insertions(+), 62 deletions(-)

commit 138e8447acfd5cae6680389eeb90c64658564467
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jun 22 16:27:31 2010 -0700

    Clean up the distinction between the standard 'subscribe', 'publish'
    contact list channels and arbitrary group channels.

 backends/telepathy/tpf-persona-store.vala | 115
 +++++++++++++++++-------------
 1 file changed, 67 insertions(+), 48 deletions(-)

commit a9233bb2d45839ad88af3cf5e7153173d2b55b61
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jun 17 08:06:04 2010 -0700

    Add the ability to add new personas to a persona store.

 backends/telepathy/tp-lowlevel.c	   |  97 ++++++++++++++++++++-
 backends/telepathy/tp-lowlevel.h	   |  18 ++++
 backends/telepathy/tp-lowlevel.metadata   |   5 ++
 backends/telepathy/tpf-persona-store.vala | 136
 +++++++++++++++++++++++++++++-
 folks/individual-aggregator.vala	   |  61 +++++++++++++-
 folks/persona-store.vala		   |   8 ++
 6 files changed, 319 insertions(+), 6 deletions(-)

commit 7e49697edeae7cefbb208fc1bb35756f6a4fa5b4
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jun 22 12:05:55 2010 -0700

    Have each Individual use the presence message for one of its
    most-online personas rather than the first message found.

 folks/individual.vala | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 8a8b95103fd3133d9b715cfe86bcbf9b35ef8e51
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jun 22 11:54:59 2010 -0700

    Cut idea for unncessary signal.

 folks/individual-aggregator.vala | 2 --
 1 file changed, 2 deletions(-)

commit e64cfc5f3cf257d6f6bb481099dc918bed80e13b
Merge: f715bb3 8c04026
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Jun 22 10:37:56 2010 -0700

    Merge remote branch 'pwith/fixes'

commit 67a6e4412fd64d901daf611112526732eec4a09a
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Jun 22 18:24:33 2010 +0100

    Add documentation support and stub documentation to Folks

    Add valadoc documentation support in the build system, and add stub
    documentation to the top level of all the classes in the Folks
    namespace, but
    not the Folks.Backends namespace.

    The documentation is generated in HTML format in docs/folks-0.1/
    but isn't
    distributed in the tarball.

 Makefile.am			  |  4 ++++
 configure.ac			  | 16 ++++++++++++++
 docs/.gitignore		  |  1 +
 docs/Makefile.am		  | 30 +++++++++++++++++++++++++
 folks/alias.vala		  |  4 ++++
 folks/avatar.vala		  |  4 ++++
 folks/backend.vala		  |  5 +++++
 folks/capabilities.vala	  | 32 +++++++++++++++++++++++++++
 folks/groups.vala		  |  4 ++++
 folks/individual-aggregator.vala |  5 +++++
 folks/individual.vala		  |  4 ++++
 folks/persona-store.vala	  |  3 +++
 folks/persona.vala		  |  6 +++++
 folks/presence.vala		  | 47
 ++++++++++++++++++++++++++++++++++++++++
 14 files changed, 165 insertions(+)

commit 8c0402615189f60653ffc03a6e245bce6a925293
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Jun 22 16:14:05 2010 +0100

    gcc warning fixes in tp-lowlevel.[ch]

 backends/telepathy/tp-lowlevel.c | 3 ++-
 backends/telepathy/tp-lowlevel.h | 1 +
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 0b0172485ac5e259e4e891fe7f52770e0e162d66
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Jun 22 13:28:48 2010 +0100

    Ensure the individual is removed if all its persona list property
    is emptied

    This was already the case when existing personas were removed from the
    individual due to their source going away. This commit fixes it for
    when the
    persona list property is changed directly.

 folks/individual.vala | 7 +++++++
 1 file changed, 7 insertions(+)

commit 89633d2ad7c32576893f369c27a46485e310eea8
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Jun 22 12:37:11 2010 +0100

    Use a persona's UID as an individual's alias if no personas have
    an alias

 folks/individual.vala | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 611bb4641b81daa1376ed971cfae002fb8031948
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Jun 22 12:28:03 2010 +0100

    Make Individual.get_presence_message() return an unowned string

    This prevents a completely unnecessary string copy.

 folks/individual.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 933778ace57ba38d4522e862cb1a70952d3273cf
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Jun 22 11:42:51 2010 +0100

    Remove system m4 macros from the m4 directory

    Add them to a .gitignore file instead.

 m4/.gitignore	 |    9 +
 m4/gtk-doc.m4	 |    1 -
 m4/libtool.m4	 | 7376
 -------------------------------------------------------
 m4/ltversion.m4 |   23 -
 4 files changed, 9 insertions(+), 7400 deletions(-)

commit f2f4a7a18b0e135926628781c5643e07851e8d9b
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:	Tue Jun 22 11:39:31 2010 +0100

    Add some comments to the code

 folks/individual-aggregator.vala |  4 ++++
 folks/individual.vala		  | 11 +++++++++--
 folks/presence.vala		  |  2 ++
 3 files changed, 15 insertions(+), 2 deletions(-)

commit f715bb38d0033c601e719cfd232b31db3c8e8b4b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jun 17 15:21:22 2010 -0700

    Relocate
    folks_tp_lowlevel_connection_open_contact_list_channel_finish()
    next to its _async() function

 backends/telepathy/tp-lowlevel.c | 56
 ++++++++++++++++++++--------------------
 1 file changed, 28 insertions(+), 28 deletions(-)

commit b8379ce106bc734ac0f452a59dd771d81e0371d0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 16 17:16:21 2010 -0700

    Use a hash table for tracking new incoming TpfPersonas and only add
    them if they're new.

 backends/telepathy/tpf-persona-store.vala | 28
 +++++++++-------------------
 1 file changed, 9 insertions(+), 19 deletions(-)

commit 1000fe0fce30bca343770d2cf8a488aeceb41cac
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Sat Jun 12 17:55:21 2010 -0700

    Clean up Telepathy PersonaStore removal and addition. This fixes a
    regression where a Telepathy persona store wouldn't emit 'removed'
    even if its account were disabled

 backends/telepathy/tp-backend.vala	   |  7 +++++--
 backends/telepathy/tpf-persona-store.vala | 26 ++++++++++++++++++--------
 folks/individual-aggregator.vala	   |  2 ++
 folks/individual.vala			   | 13 +++++++------
 4 files changed, 32 insertions(+), 16 deletions(-)

commit a1f1f50000223f2b822f73cf392ca47912905331
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jun 11 16:04:23 2010 -0700

    Use consistent naming and signatures for the Tpf.Persona
    property-notification-passing helper functions.

 backends/telepathy/tpf-persona.vala | 22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit 6e7299a77ea4c589b23766137c6c7d44dfd81423
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jun 11 16:00:58 2010 -0700

    Generalize overly-specific 'using' statement

 folks/persona-store.vala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0f700c83b48161ef25294aae6f617d7f9b59df45
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jun 11 15:59:01 2010 -0700

    Trivial clean-up.

 folks/individual.vala | 13 ++++---------
 1 file changed, 4 insertions(+), 9 deletions(-)

commit 42b0656fdff84cd768d6b0b8461b85d8707ea700
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Jun 11 13:24:00 2010 -0700

    Support avatars (generally, and for the Telepathy backend)

 .gitignore			     |	1 +
 backends/telepathy/tpf-persona.vala | 20 +++++++++++++++++--
 configure.ac			     |	2 +-
 folks/Makefile.am		     |	1 +
 folks/avatar.vala		     | 26 +++++++++++++++++++++++++
 folks/individual.vala		     | 38
 +++++++++++++++++++++++++++++++------
 folks/persona.vala		     | 11 ++++++-----
 7 files changed, 85 insertions(+), 14 deletions(-)

commit 344c9514027fa7d2151d1994b6c35af7fe000105
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jun 10 07:20:43 2010 -0700

    Fix the location of libfolks-telepathy in its -uninstalled pkgconfig
    file.

 backends/telepathy/folks-telepathy-uninstalled.pc.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fb1ccf804b9118dca9bfa450fd6455f646591634
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jun 3 12:48:58 2010 -0700

    Bump the version number for the major changes of the last few commits.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aaf0a419127db735625eaf4c43b1fe392539d7cc
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jun 3 12:42:19 2010 -0700

    Add .deps files for the public libraries.

 backends/telepathy/folks-telepathy.deps | 7 +++++++
 folks/folks.deps			 | 6 ++++++
 2 files changed, 13 insertions(+)

commit b8d22d711b16fa718ed8570f381a945babc183e5
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jun 3 11:18:16 2010 -0700

    Rename the folks-telepathy files, since they're in a different
    namespace than the folks-backend-telepathy files

 .gitignore				   |   4 +-
 backends/telepathy/Makefile.am		   |   4 +-
 backends/telepathy/tp-persona-store.vala  | 455
 ------------------------------
 backends/telepathy/tp-persona.vala	   | 209 --------------
 backends/telepathy/tpf-persona-store.vala | 455
 ++++++++++++++++++++++++++++++
 backends/telepathy/tpf-persona.vala	   | 209 ++++++++++++++
 6 files changed, 668 insertions(+), 668 deletions(-)

commit 37da956fda3ab1c3dec65fe758f7e6fb08c2e8ec
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jun 3 11:09:16 2010 -0700

    Add proper namespaces to the Telepathy backend and support libraries

 backends/telepathy/tp-backend-factory.vala | 11 +++++----
 backends/telepathy/tp-backend.vala	    |  7 +++---
 backends/telepathy/tp-persona-store.vala   | 37
 +++++++++++++++---------------
 backends/telepathy/tp-persona.vala	    | 13 ++++-------
 4 files changed, 33 insertions(+), 35 deletions(-)

commit 5b5b5970bb031c9128cecd191a2e6c3e068a0e97
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jun 3 09:20:46 2010 -0700

    Rename liblowlevel to libtp-lowlevel for clarity

 .gitignore				  |   4 +-
 backends/telepathy/Makefile.am		  |  44 ++--
 backends/telepathy/lowlevel.c		  | 351
 -------------------------------
 backends/telepathy/lowlevel.h		  |  99 ---------
 backends/telepathy/lowlevel.metadata	  |   1 -
 backends/telepathy/tp-lowlevel.c	  | 351
 +++++++++++++++++++++++++++++++
 backends/telepathy/tp-lowlevel.h	  |  99 +++++++++
 backends/telepathy/tp-lowlevel.metadata  |   1 +
 backends/telepathy/tp-persona-store.vala |   6 +-
 configure.ac				  |   6 +-
 10 files changed, 481 insertions(+), 481 deletions(-)

commit a6776f5e7f86bacdd254af83a3333bdbbaf49f87
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Jun 3 08:47:44 2010 -0700

    Split the telepathy backend into a support library and a thin backend
    wrapper (so applications can use the support library without linking
    against the
    backend)

 .gitignore					    |	6 +-
 backends/telepathy/Makefile.am			    | 105
 +++++++++++++++++----
 .../folks-backend-telepathy-uninstalled.pc.in	    |  12 ---
 backends/telepathy/folks-backend-telepathy.pc.in   |  15 ---
 .../telepathy/folks-telepathy-uninstalled.pc.in    |  12 +++
 backends/telepathy/folks-telepathy.pc.in	    |  15 +++
 backends/telepathy/tp-backend-factory.vala	    |	5 +-
 configure.ac					    |  22 +++--
 8 files changed, 139 insertions(+), 53 deletions(-)

commit 57de1cd643e8057f3b6fc961db68d6e696565644
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Jun 2 16:48:48 2010 -0700

    Factor out the Telepathy backend into a separate, loadable module.

 .gitignore					    |  16 +-
 Makefile.am					    |	1 +
 backends/Makefile.am				    |	3 +
 backends/telepathy/Makefile.am			    | 150 +++++++
 .../folks-backend-telepathy-uninstalled.pc.in	    |  12 +
 backends/telepathy/folks-backend-telepathy.pc.in   |  15 +
 backends/telepathy/lowlevel.c			    | 351 ++++++++++++++++
 backends/telepathy/lowlevel.h			    |  99 +++++
 backends/telepathy/lowlevel.metadata		    |	1 +
 backends/telepathy/tp-backend-factory.vala	    |  52 +++
 backends/telepathy/tp-backend.vala		    |  83 ++++
 backends/telepathy/tp-persona-store.vala	    | 456
 +++++++++++++++++++++
 backends/telepathy/tp-persona.vala		    | 212 ++++++++++
 configure.ac					    |  21 +-
 folks/Makefile.am				    |  58 +--
 folks/backend-store.vala			    | 197 +++++++++
 folks/backend.vala				    |  34 ++
 folks/build-conf.vapi				    |  40 ++
 folks/folks-uninstalled.pc.in			    |	6 +-
 folks/folks.pc.in				    |	2 +-
 folks/individual-aggregator.vala		    |  65 ++-
 folks/lowlevel.c				    | 351 ----------------
 folks/lowlevel.h				    |  99 -----
 folks/lowlevel.metadata			    |	1 -
 folks/persona-store.vala			    |	2 +
 folks/tp-persona-store.vala			    | 451
 --------------------
 folks/tp-persona.vala				    | 212 ----------
 27 files changed, 1781 insertions(+), 1209 deletions(-)

commit 1410295ced17bc4be2e6f34400c56edcc82deb42
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon May 31 15:14:09 2010 -0700

    Add tp-glib Vala bindings dependency to the .pc file and add a
    -uninstalled.pc file

 configure.ac		       |  1 +
 folks/folks-uninstalled.pc.in | 12 ++++++++++++
 folks/folks.pc.in	       |  2 +-
 3 files changed, 14 insertions(+), 1 deletion(-)

commit 48a4f845daca4704170fac67511dcafd1868c931
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu May 27 11:30:54 2010 -0700

    Support writing contact group changes back to Telepathy accounts.

 folks/Makefile.am		  |   6 +-
 folks/individual-aggregator.vala |   9 ++-
 folks/individual.vala		  |  12 ++++
 folks/lowlevel.c		  | 132
 +++++++++++++++++++++++++++++++++++++++
 folks/lowlevel.h		  |  19 ++++++
 folks/lowlevel.metadata	  |   1 +
 folks/persona-store.vala	  |   3 +
 folks/tp-persona-store.vala	  | 130
 ++++++++++++++++++++++++++++++--------
 folks/tp-persona.vala		  |  24 ++++---
 9 files changed, 296 insertions(+), 40 deletions(-)

commit ad47a733fb2021da6dec40d517d2071c1f324520
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed May 26 09:51:41 2010 -0700

    Don't try to process accounts which are currently being disconnected.

 folks/tp-persona-store.vala | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 56ae8d85ab37bcd8c7c1137f22dcf1c5bb8b1cf0
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed May 26 09:47:26 2010 -0700

    Set a proper internal ID for TpPersonas and throw an error if its
    basis TpContact has an invalid UID.

 folks/tp-persona-store.vala | 19 +++++++++++++------
 folks/tp-persona.vala	     | 35 ++++++++++++++++++++++++++++-------
 2 files changed, 41 insertions(+), 13 deletions(-)

commit 32c063d364a23b3388f69de7d927dd4b682d5c53
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon May 24 16:57:20 2010 -0700

    Add group notification/read support for Telepathy personas

 .gitignore		     |	 1 +
 folks/Makefile.am	     |	 1 +
 folks/groups.vala	     |	30 ++++++
 folks/individual.vala	     | 110 +++++++++++++++++++--
 folks/lowlevel.c	     |	91 +++++++++++++++++
 folks/lowlevel.h	     |	 7 ++
 folks/persona-store.vala    |	 3 +
 folks/tp-persona-store.vala | 232
 +++++++++++++++++++++++++++++++++-----------
 folks/tp-persona.vala	     |	67 ++++++++++++-
 9 files changed, 481 insertions(+), 61 deletions(-)

commit f6005cc2d079342dcade4bf062b1a4918285a3c3
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue May 18 16:23:10 2010 -0700

    Avoid extraneous property notifications.

 folks/individual.vala | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 8af8eb46d908f7958d807ac57fd1191c09179e82
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed May 19 16:29:29 2010 -0700

    Cut out debugging default value.

 folks/presence.vala | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 20b24f2f385a8cfe12eba248897695a287c012aa
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue May 18 11:19:48 2010 -0700

    Forward along TpPersona presence changes through their parent
    Individual.

 folks/individual.vala | 68
 +++++++++++++++++++++++++++++++++++++++++----------
 folks/presence.vala   |  3 ++-
 folks/tp-persona.vala | 54 +++++++++++++++++++++++++++++++++++++---
 3 files changed, 107 insertions(+), 18 deletions(-)

commit 2a4c707eaebab44221c18f9f381a2982b1bbb762
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon May 17 16:02:38 2010 -0700

    Cut outdated comment.

 folks/individual.vala | 5 -----
 1 file changed, 5 deletions(-)

commit ed95a888a280b01aff32f68a4ca8f51156999a3d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon May 17 10:20:55 2010 -0700

    Support account deletion

 folks/individual-aggregator.vala | 40 ++++++++++++++++++++++++++---
 folks/individual.vala		  | 55
 ++++++++++++++++++++++++++++++++++++++++
 folks/persona-store.vala	  |  4 +++
 folks/persona.vala		  |  3 +++
 folks/tp-persona-store.vala	  | 19 ++++++++++----
 folks/tp-persona.vala		  |  5 ++--
 6 files changed, 116 insertions(+), 10 deletions(-)

commit 78931d383137d7944ee3cb526cbb2dfee9241d23
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri May 14 13:20:18 2010 -0700

    Cut outdated comments

 folks/persona.vala	     | 2 --
 folks/tp-persona-store.vala | 5 -----
 2 files changed, 7 deletions(-)

commit 76c01be288e680bf53583d21493e096042befe5a
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri May 14 12:32:44 2010 -0700

    Actually add the presence source.

 folks/presence.vala | 79
 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 79 insertions(+)

commit 6e6fee04123488f07a3dcfef12f177f7968577c2
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed May 12 19:50:00 2010 -0700

    Update for the more accurate signature for Tp.Account.status_changed.

 folks/tp-persona-store.vala | 8 +-------
 1 file changed, 1 insertion(+), 7 deletions(-)

commit eb35c3623761be98b0978e032cc3afcb7e946585
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed May 12 17:02:44 2010 -0700

    Add stub Presence interface.

 .gitignore	       |  1 +
 folks/Makefile.am     |  1 +
 folks/individual.vala | 34 +++++++++++++++++++++++++++++++++-
 folks/persona.vala    |  7 ++++++-
 folks/tp-persona.vala | 11 ++++++++++-
 5 files changed, 51 insertions(+), 3 deletions(-)

commit c8ed7e2ef2e6d81c2c7972a817d79951a63d9177
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed May 12 13:47:10 2010 -0700

    Add a stub for the Capabilities interface.

 .gitignore		 |  1 +
 folks/Makefile.am	 |  1 +
 folks/capabilities.vala | 38 ++++++++++++++++++++++++++++++++++++++
 folks/individual.vala	 | 21 ++++++++++++++++++++-
 folks/persona.vala	 |  6 +++++-
 folks/tp-persona.vala	 | 10 +++++++++-
 6 files changed, 74 insertions(+), 3 deletions(-)

commit 6159dbafff66dd98584dce38957d265a92bb4891
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed May 12 13:42:17 2010 -0700

    Fix the way we prepare Telepathy accounts and connections (including
    automatically handling ones that were already open)

 folks/individual-aggregator.vala | 62 ++++++++++++++++++++--------
 folks/tp-persona-store.vala	  | 87
 ++++++++++++++++++++++------------------
 2 files changed, 92 insertions(+), 57 deletions(-)

commit ecb8fcafe7d5c463a29b3399084d12e9feeccbab
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon May 10 13:20:08 2010 -0700

    Update for symbol changes in the latest tp-glib bindings.

 configure.ac		     | 6 ++++--
 folks/tp-persona-store.vala | 4 ++--
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 57b4a9251dd56f47395177cae27c0059f9c4a425
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Apr 22 18:40:35 2010 -0700

    Split PersonaStore into an abstract class and the TpPersonaStore
    derived class.

 .gitignore			  |   1 +
 folks/Makefile.am		  |   1 +
 folks/individual-aggregator.vala |   5 +-
 folks/persona-store.vala	  | 207 +---------------------------------
 folks/tp-persona-store.vala	  | 232
 +++++++++++++++++++++++++++++++++++++++
 5 files changed, 240 insertions(+), 206 deletions(-)

commit 6be3a1ea49e9c9334b8db75a25364d8dccf353d9
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Apr 22 16:47:45 2010 -0700

    Rename from libtelepathy-people to libfolks.

 .gitignore				     |	30 ++--
 Makefile.am				     |	 8 +-
 configure.ac				     |	46 +++---
 folks/Makefile.am			     | 127 +++++++++++++++
 folks/alias.vala			     |	26 ++++
 folks/folks.pc.in			     |	15 ++
 folks/individual-aggregator.vala	     |	81 ++++++++++
 folks/individual.vala			     |	75 +++++++++
 folks/lowlevel.c			     | 128 ++++++++++++++++
 folks/lowlevel.h			     |	73 +++++++++
 folks/persona-store.vala		     | 230
 ++++++++++++++++++++++++++++
 folks/persona.vala			     |	35 +++++
 folks/tp-persona.vala			     |	52 +++++++
 telepathy-people/Makefile.am		     | 127 ---------------
 telepathy-people/alias.vala		     |	26 ----
 telepathy-people/individual-aggregator.vala |	81 ----------
 telepathy-people/individual.vala	     |	75 ---------
 telepathy-people/lowlevel.c		     | 126 ---------------
 telepathy-people/lowlevel.h		     |	71 ---------
 telepathy-people/persona-store.vala	     | 230
 ----------------------------
 telepathy-people/persona.vala		     |	35 -----
 telepathy-people/telepathy-people.pc.in     |	15 --
 telepathy-people/tp-persona.vala	     |	52 -------
 23 files changed, 884 insertions(+), 880 deletions(-)

commit d981657b49c9ba37c59419ec370075673ba0edaf
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Apr 22 15:35:16 2010 -0700

    Strip off the extraneous 'tpp-' prefix to the lowlevel files.

 .gitignore			 |   4 +-
 telepathy-people/Makefile.am	 |  42 +++++++-------
 telepathy-people/lowlevel.c	 | 126
 ++++++++++++++++++++++++++++++++++++++++
 telepathy-people/lowlevel.h	 |  71 ++++++++++++++++++++++
 telepathy-people/tpp-lowlevel.c | 126
 ----------------------------------------
 telepathy-people/tpp-lowlevel.h |  71 ----------------------
 6 files changed, 220 insertions(+), 220 deletions(-)

commit b1230c04a46f83d8b09bca406f8c5a72f1fb9a9c
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Apr 22 12:39:32 2010 -0700

    Organize classes in the following sections in order:

      * private (enum, class, signal, plain data, property)
      * public (interface members, signal, properties), one block per
      interface
      * public (enum, signal, plain data, property)
      * constructor
      * constructor's dependent functions, in order of reference
      * destructor
      * destructor's dependent functions
      * public functions, followed by their dependent functions in order
      of ref

 telepathy-people/individual.vala    |	42 +++---
 telepathy-people/persona-store.vala | 250
 ++++++++++++++++++------------------
 telepathy-people/persona.vala	     |	 4 +-
 telepathy-people/tp-persona.vala    |	 4 +-
 4 files changed, 152 insertions(+), 148 deletions(-)

commit 6a9b2b8a2b4bea0dda4f3e394ce89440e571563b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Apr 22 11:33:47 2010 -0700

    Additional style changes.

      * use 'var' instead of an explicit type whenever possible. It's
      still
	type-safe yet reduces these types of redundancy (which would
	be common):

	    Foo foo = new Foo ();
	    Foo<Bar>[] foo_bar_array = new Foo<Bar>[size];

	    ------------------->

	    var foo = new Foo ();
	    var foo_bar_array = new Foo<Bar>[size];

      * declare variables as closely to their first use as possible. This
      is to make
	all the relevant code as tight as possible, to minimize scrolling
	of all
	types. Exceptions include: class data members, blocks of code
	where there
	would be more than two variable definitions in a row; in this
	case, add a
	blank line between the last definition and the next line of code
	(to avoid
	making the code unreadably-dense); Eg, do this:

	{
	  var manager = AccountManager.dup ();
	  unowned GLib.List<Account> accounts = manager.get_valid_accounts
	  ();
	  this.stores = new HashMap<string, PersonaStore> ();

	  foreach (Account account in accounts)
	    {
	      var store = new PersonaStore (account);
	      this.stores.set (account.get_object_path (account), store);
	    }
	  ...
	}

 telepathy-people/individual-aggregator.vala | 10 ++++------
 telepathy-people/individual.vala	     |	2 +-
 telepathy-people/persona-store.vala	     | 31
 +++++++++++------------------
 telepathy-people/tp-persona.vala	     |	7 ++-----
 4 files changed, 19 insertions(+), 31 deletions(-)

commit 7490b876978f5f36f9fd50a6ca527dd293c957a4
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Apr 22 10:57:05 2010 -0700

    Switch the Vala source to Telepathy style, with minor clarifications:

      * properties that use the default get() and set() functions should
      be on a
	single line. Eg,

	    public string alias { get; set; default = "(No one of
	    consequence)"; }

      * custom one-line get() and set() functions should be on a single
      line. Eg,

	    get { return this._personas; }

      * lambda blocks should be formatted as if they were regular blocks
      (with the {
	indented once on the next line, another indent for the block
	content,
	outdent once for the ending }). Any arguments following the lambda
	definition in a function call should be continued on the next line
	(this
	hasn't come up yet). Eg,

	    this._personas.foreach ((persona) =>
	      {
		Persona p = (Persona) persona;

		if (alias == null)
		  {
		    alias = p.alias;
		  }
	      });

 telepathy-people/alias.vala		     |	 5 +-
 telepathy-people/individual-aggregator.vala |	85 ++++---
 telepathy-people/individual.vala	     |	80 +++---
 telepathy-people/persona-store.vala	     | 375
 ++++++++++++++--------------
 telepathy-people/persona.vala		     |	13 +-
 telepathy-people/tp-persona.vala	     |	44 ++--
 6 files changed, 307 insertions(+), 295 deletions(-)

commit a3ca27442f9058e80318a37b773cd4e772b3b401
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Apr 21 22:05:41 2010 -0700

    Change the namespace of the telepathy-people code to Tpp, to avoid
    ambiguity with telepathy-glib and its Vala bindings.

 .gitignore				     |	 4 +-
 configure.ac				     |	 6 +-
 telepathy-people/Makefile.am		     |	46 +++++-----
 telepathy-people/alias.vala		     |	 2 +-
 telepathy-people/individual-aggregator.vala |	 6 +-
 telepathy-people/individual.vala	     |	 4 +-
 telepathy-people/persona-store.vala	     |	22 ++---
 telepathy-people/persona.vala		     |	 4 +-
 telepathy-people/tp-lowlevel.c		     | 126
 ----------------------------
 telepathy-people/tp-lowlevel.h		     |	71 ----------------
 telepathy-people/tp-persona.vala	     |	 8 +-
 telepathy-people/tpp-lowlevel.c	     | 126
 ++++++++++++++++++++++++++++
 telepathy-people/tpp-lowlevel.h	     |	71 ++++++++++++++++
 13 files changed, 246 insertions(+), 250 deletions(-)

commit 15331f5455fde301333de52f9b6ca1c8e7968618
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Apr 21 16:57:42 2010 -0700

    Create Individuals from new Personas and notify of their creation.

 telepathy-people/individual-aggregator.vala | 28 ++++++++++-------
 telepathy-people/individual.vala	     | 49
 +++++++++++++++++++++++++++--
 telepathy-people/persona-store.vala	     |	6 ++--
 3 files changed, 67 insertions(+), 16 deletions(-)

commit 937ce337ba3619d4820ed4ff12f2f5f0ad4f1c7b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Apr 21 10:21:24 2010 -0700

    Change the personas_added type to a GLib.List from an array. This
    way we can consistently use GLists in the C API (since they're more
    conventional).

 telepathy-people/individual-aggregator.vala | 39
 ++++++++++++++++-------------
 telepathy-people/persona-store.vala	     | 17 ++++++-------
 2 files changed, 29 insertions(+), 27 deletions(-)

commit 5670d7cacb8f39a245b8654632bab7f39290eecf
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Apr 21 09:26:22 2010 -0700

    Add the Alias interface

 .gitignore			  |  1 +
 telepathy-people/Makefile.am	  |  1 +
 telepathy-people/alias.vala	  | 25 +++++++++++++++++++++++++
 telepathy-people/persona.vala	  |  5 +++--
 telepathy-people/tp-persona.vala |  5 ++++-
 5 files changed, 34 insertions(+), 3 deletions(-)

commit 6afde79a5fa6860e6e8af1cfd8eaf42a5394f305
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Apr 20 15:39:25 2010 -0700

    Reduce the noise of our debug output.

 telepathy-people/individual-aggregator.vala | 27 +++++----
 telepathy-people/persona-store.vala	     | 86
 +++++------------------------
 telepathy-people/tp-lowlevel.c		     |	5 +-
 telepathy-people/tp-persona.vala	     |	5 --
 4 files changed, 30 insertions(+), 93 deletions(-)

commit 46ad676d13e2827e57cc7f7b8aa235603cf298d8
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Tue Apr 20 14:23:08 2010 -0700

    Signal the addition of personas to the persona store.

 telepathy-people/individual-aggregator.vala |	9 ++++++
 telepathy-people/persona-store.vala	     | 44
 +++++++++++++++++++++++------
 2 files changed, 45 insertions(+), 8 deletions(-)

commit 97a7cbf08cd962dff37c711d25bf0396143b6c7b
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Apr 19 21:54:28 2010 -0700

    Create the abstract class Tp.Persona and the Tp.TpPersona wrapper
    of TpContacts

 .gitignore			     |	2 ++
 telepathy-people/Makefile.am	     |	2 ++
 telepathy-people/individual.vala    |	5 ----
 telepathy-people/persona-store.vala | 12 +++++++--
 telepathy-people/persona.vala	     | 31 ++++++++++++++++++++++
 telepathy-people/tp-persona.vala    | 53
 +++++++++++++++++++++++++++++++++++++
 6 files changed, 98 insertions(+), 7 deletions(-)

commit 1bc9651cc01976379202e0f158f880b8be92ba7e
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Apr 19 17:12:00 2010 -0700

    Retrieve the TpContacts for the discovered contact handles

 telepathy-people/persona-store.vala | 108
 ++++++++++++++++++++++++++----------
 1 file changed, 79 insertions(+), 29 deletions(-)

commit 218b6332e376840829e22774abf4f58f902e2b64
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Apr 15 21:25:26 2010 -0700

    Make a trivial comment change

 telepathy-people/tp-lowlevel.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit b4a032c8a0afc61019c083a970367b95740abdd6
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Apr 15 18:42:38 2010 -0700

    Use debug statements instead of standard output for the various
    debug output

 telepathy-people/individual-aggregator.vala |	6 +++---
 telepathy-people/individual.vala	     |	2 +-
 telepathy-people/persona-store.vala	     | 31
 +++++++++++++----------------
 3 files changed, 18 insertions(+), 21 deletions(-)

commit e45b706a9b11a59042e9c63638d3acaaf1360f16
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Apr 15 18:38:46 2010 -0700

    Wait until the contact list channel is ready to connect other signal
    handlers and get the initial set of handles

 telepathy-people/persona-store.vala | 48
 ++++++++++++++++++++++++++++---------
 1 file changed, 37 insertions(+), 11 deletions(-)

commit 989fc587a5fea737ffc80f183898a3186e5ec717
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Apr 15 13:48:37 2010 -0700

    Make the build less noisy

 configure.ac		      |  2 +-
 telepathy-people/Makefile.am | 21 ++++++++++++++++++---
 2 files changed, 19 insertions(+), 4 deletions(-)

commit 8054384fa7bd1e199809f71f1a97634fa13c234d
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Apr 15 13:56:02 2010 -0700

    Cut some junk code and handle some error conditions

 telepathy-people/persona-store.vala | 100
 +++++++++++++-----------------------
 1 file changed, 35 insertions(+), 65 deletions(-)

commit d333bb5b9e608d01e6ec70812f71100fda6198ab
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Apr 15 08:59:18 2010 -0700

    Add a comment about the brokenness of Tp.Handle

 telepathy-people/persona-store.vala | 6 ++++++
 1 file changed, 6 insertions(+)

commit e7dfd442b8fa987f2df2502cde40e6f0a720c144
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Apr 15 08:49:41 2010 -0700

    Mark telepathy-people.vapi as generated (and thus a target for
    'make clean')

 telepathy-people/Makefile.am | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a1720108b82863328b5c0a9709750f568bc7d6e7
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Apr 15 13:54:32 2010 -0700

    Fetch the handles for the 'subscribe' contact list channel

 telepathy-people/persona-store.vala | 126
 ++++++++++++++++++++++++++++++++----
 telepathy-people/tp-lowlevel.c      |	12 ++--
 telepathy-people/tp-lowlevel.h      |	 3 +-
 3 files changed, 121 insertions(+), 20 deletions(-)

commit 0d5e589e42140969ac6f0b7eea1b05db4fb75762
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Thu Apr 15 13:52:17 2010 -0700

    Create a utility class to bind low-level tp-glib code without really
    exposing it

 .gitignore			     |	 2 +
 configure.ac			     |	 8 +++
 telepathy-people/Makefile.am	     |	56 ++++++++++++++--
 telepathy-people/persona-store.vala |	83 +++++++++++------------
 telepathy-people/tp-lowlevel.c      | 128
 ++++++++++++++++++++++++++++++++++++
 telepathy-people/tp-lowlevel.h      |	72 ++++++++++++++++++++
 6 files changed, 298 insertions(+), 51 deletions(-)

commit 6cc74287d8d42639629234a950a8b418a934a452
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Apr 12 11:34:32 2010 -0700

    Create persona stores for the valid accounts and prep them

 configure.ac				     |	1 +
 telepathy-people/Makefile.am		     |	2 +-
 telepathy-people/individual-aggregator.vala | 41 ++++++++--------
 telepathy-people/persona-store.vala	     | 74
 +++++++++++++++++++++++++++++
 4 files changed, 95 insertions(+), 23 deletions(-)

commit 8c4f82d31e822092e8e6ac7b4ee1627ec97705b5
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Mon Apr 12 08:37:27 2010 -0700

    Begin filling in the classes as intended; Fetch the valid accounts
    and prep them

 telepathy-people/individual-aggregator.vala | 31
 +++++++++++++++++++++++++++++
 telepathy-people/persona-store.vala	     | 25 +++++++++++++++--------
 2 files changed, 48 insertions(+), 8 deletions(-)

commit 597d36914a4920f22fa7ed1eb7fe815975dbc1d9
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Wed Apr 14 13:11:20 2010 -0700

    Begin building up the library, mainly in terms of build work.

 .gitignore				     |	6 +++--
 configure.ac				     | 11 +++++++++-
 telepathy-people/Makefile.am		     | 34
 ++++++++++++++++++++++++-----
 telepathy-people/individual-aggregator.vala | 31
 ++++++++++++++++++++++++++
 telepathy-people/individual.vala	     | 31
 ++++++++++++++++++++++++++
 telepathy-people/persona-store.vala	     | 10 +++++++--
 telepathy-people/telepathy-people.pc.in     | 15 +++++++++++++
 7 files changed, 127 insertions(+), 11 deletions(-)

commit 4d71ef433b3427036bab270203988cf6463313be
Author: Travis Reitter <travis.reitter@collabora.co.uk>
Date:	Fri Apr 2 14:43:08 2010 -0700

    Initial commit for the telepathy-people library

 .gitignore			     |	 57 +
 AUTHORS			     |	  1 +
 COPYING			     |	510 +++
 MAINTAINERS			     |	  2 +
 Makefile.am			     |	 55 +
 NEWS				     |	  0
 README				     |	  0
 autogen.sh			     |	 34 +
 configure.ac			     |	120 +
 m4/as-compiler-flag.m4		     |	 33 +
 m4/gtk-doc.m4			     |	  1 +
 m4/libtool.m4			     | 7376
 +++++++++++++++++++++++++++++++++++
 m4/ltoptions.m4		     |	368 ++
 m4/ltsugar.m4			     |	123 +
 m4/ltversion.m4		     |	 23 +
 m4/lt~obsolete.m4		     |	 92 +
 telepathy-people/Makefile.am	     |	 42 +
 telepathy-people/persona-store.vala |	 30 +
 18 files changed, 8867 insertions(+)
